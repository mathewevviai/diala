{
  "name": "diala-unified",
  "version": "1.0.0",
  "description": "Unified startup for Diala backend services",
  "scripts": {
    "prestart": "npm run kill-ports",
    "predev": "npm run kill-ports",
    "dev": "npm run predev && concurrently \"npm:backend\" \"npm:frontend\" \"npm:kokoro\"",
    "backend": "cd backend && ./start-backend.sh",
    "audio": "cd backend/audio_generator_service && . venv_audio/bin/activate && python -c \"import uvicorn; uvicorn.run('main:app', host='0.0.0.0', port=8001, reload=False)\"",
    "frontend": "cd frontend && npm run dev",
    "dev:convexoff": "npm run predev && concurrently \"npm:backend\" \"npm:frontend:convexoff\" \"npm:audio\"",
    "frontend:convexoff": "cd frontend && npm run dev:convexoff",
    "convex:dev": "cd frontend && node ./scripts/convex-dev-retry.js",
    "start": "npm run prestart && npm run dev",
    "setup": "npm run setup:backend && npm run setup:frontend && npm run setup:audio",
    "setup:backend": "cd backend && . venv/bin/activate && pip install -r requirements.txt",
    "setup:frontend": "cd frontend && npm install",
    "setup:audio": "cd backend/audio_generator_service && . venv_audio/bin/activate && pip install -r requirements.txt",
    "kill-ports": "lsof -ti:8000,8001,3000,3001,8880,8881,8882,5000,5005 | xargs -r kill -9",
    "kill-ports:verbose": "echo 'üîç Killing processes on ports...' && lsof -ti:8000,8001,3000,3001,8880,8881,8882,5000,5005 | xargs -r -I {} sh -c 'echo Killing PID: {} && kill -9 {}'",
    "kokoro": "cd backend/src/models/voice/Kokoro-FastAPI && bash ./start-local.sh",
    "kokoro:docker": "docker run -p 8880:8880 ghcr.io/remsky/kokoro-fastapi-cpu:latest",
    "dev:with-kokoro-docker": "npm run predev && concurrently \"npm:backend\" \"npm:frontend\" \"npm:kokoro:docker\"",
    "clean-start": "npm run kill-ports:verbose && npm run dev"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^8.38.0",
    "@typescript-eslint/parser": "^8.38.0",
    "concurrently": "^9.1.2"
  },
  "dependencies": {
    "react-markdown": "^10.1.0",
    "remark-gfm": "^4.0.1"
  }
}