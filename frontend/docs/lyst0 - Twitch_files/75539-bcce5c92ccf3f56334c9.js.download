!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0ce5eb48-213d-4b93-a625-8d555cd5db01",e._sentryDebugIdIdentifier="sentry-dbid-0ce5eb48-213d-4b93-a625-8d555cd5db01")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[75539],{766697:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHypeTrainExecutionV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"userLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hypeTrain"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"execution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainExecutionV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"approaching"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainApproaching"},directives:[]}]}}]}}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function d(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){d(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){d(e,n)})),e.definitions&&e.definitions.forEach((function(e){d(e,n)}))}t.definitions=t.definitions.concat(r(i(918957).definitions)),t.definitions=t.definitions.concat(r(i(406810).definitions));var o={};t.definitions.forEach((function(e){if(e.name){var n=new Set;d(e,n),o[e.name.value]=n}})),e.exports=t},345379:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainApproachingEventsRemaining"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainApproachingEventsRemaining"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"events"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondsRemaining"},arguments:[],directives:[]}]}}]}},406810:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainApproaching"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainApproaching"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creatorColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGoldenKappaTrain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTreasureTrain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"potentialRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainPotentialReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"eventsRemaining"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainApproachingEventsRemaining"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"levelOneRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(407403).definitions)),t.definitions=t.definitions.concat(r(i(811976).definitions)),t.definitions=t.definitions.concat(r(i(345379).definitions)),e.exports=t},511589:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainBadgeReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainBadgeReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]}]}}]}}]}},951529:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainCalloutEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},609202:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainCompletedV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainCompleted"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},824299:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductorReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductorReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(407403).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},720809:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductorUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"conductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductor"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(864421).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},864421:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipation"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(330641).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},927125:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConfigV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficultySettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxLevel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductorRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductorReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participationConversionRates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"calloutEmote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainCalloutEmote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"willUseCreatorColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryHexColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"potentialRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainPotentialReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"kickoff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"minPoints"},arguments:[],directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(951529).definitions)),t.definitions=t.definitions.concat(r(i(824299).definitions)),t.definitions=t.definitions.concat(r(i(276857).definitions)),t.definitions=t.definitions.concat(r(i(811976).definitions)),e.exports=t},21462:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainEmoteReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainEmoteReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}]}},395359:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainExecutionSelfEdgeUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligibleForRewards"},arguments:[],directives:[]}]}}]}}]}},918957:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainExecutionV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainProgressV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConfigV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"allTimeHigh"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainCompletedV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sharedHypeTrainDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"sharedHypeTrainDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isGoldenKappaTrain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFastMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTreasureTrain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"treasureTrainDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"treasureTrainDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligibleForRewards"},arguments:[],directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(609202).definitions)),t.definitions=t.definitions.concat(r(i(864421).definitions)),t.definitions=t.definitions.concat(r(i(927125).definitions)),t.definitions=t.definitions.concat(r(i(297604).definitions)),t.definitions=t.definitions.concat(r(i(46145).definitions)),t.definitions=t.definitions.concat(r(i(954028).definitions)),e.exports=t},456727:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainLevelUpdateV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainProgressUpdateV2"},directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(683428).definitions)),t.definitions=t.definitions.concat(r(i(924824).definitions)),e.exports=t},924824:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainLevel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainLevel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(407403).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},276857:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipationConversionRate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},330641:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipation"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]}]}}]}},811976:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainPotentialReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainPotentialReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(407403).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},683428:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainProgressUpdateV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allTimeHighState"},arguments:[],directives:[]}]}}]}},297604:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainProgressV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allTimeHighState"},arguments:[],directives:[]}]}}]},a={};t.definitions=t.definitions.concat(i(924824).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},407403:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainEmoteReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainEmoteReward"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainBadgeReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainBadgeReward"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(21462).definitions)),t.definitions=t.definitions.concat(r(i(511589).definitions)),e.exports=t},46145:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"treasureTrainDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TreasureTrainDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountLevelThreshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}},1683:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"sharedHypeTrainChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}},954028:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"sharedHypeTrainDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SharedHypeTrainDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedConductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductor"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharedProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"sharedHypeTrainChannel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"channelProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"sharedHypeTrainProgress"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharedAllTimeHighRecords"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"channelAllTimeHigh"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainCompletedV2"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(864421).definitions)),t.definitions=t.definitions.concat(r(i(1683).definitions)),t.definitions=t.definitions.concat(r(i(91803).definitions)),t.definitions=t.definitions.concat(r(i(609202).definitions)),e.exports=t},320443:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"sharedHypeTrainProgressUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SharedHypeTrainDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sharedProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"sharedHypeTrainChannel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"channelProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"sharedHypeTrainProgress"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(1683).definitions)),t.definitions=t.definitions.concat(r(i(91803).definitions)),e.exports=t},91803:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"sharedHypeTrainProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allTimeHighState"},arguments:[],directives:[]}]}}]}},396719:function(e,n,i){"use strict";i.d(n,{YB:function(){return o},fw:function(){return t},s6:function(){return a},xu:function(){return r},yI:function(){return d}});var t={rain:14,rainOptout:10,fireworks:25,fireworksOptout:16},a=7e3,r=5e3,d={simmer:58,simmerRain:276,simmerRainShort:216,rainOptout:40,fireworks:276,fireworksShort:216,fireworksOptout:149},o=[{src:"https://d3aqoihi2n8ty8.cloudfront.net/celebi/diamond.png",token:"diamond"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/celebi/star.png",token:"star"},{src:"https://static-cdn.jtvnw.net/emoticons/v1/9/1.0",token:"heart"}]},927467:function(e,n,i){"use strict";i.d(n,{K6:function(){return t},nn:function(){return a},rw:function(){return r}});var t,a,r;!function(e){e.Control="Control",e.VariantA="VariantA",e.VariantB="VariantB",e.VariantC="VariantC"}(t||(t={})),function(e){e[e.Unknown=0]="Unknown",e.Complete="Complete",e.NearComplete="NearComplete"}(a||(a={})),function(e){e.NoAnimations="no_animation",e.Simmer="simmer",e.SimmerRain="simmer_rain",e.Fireworks="fireworks",e.RainOptOut="rain_optout",e.FireworksOptOut="fireworks_optout"}(r||(r={}))},633340:function(e,n,i){"use strict";i.d(n,{$e:function(){return c},Q7:function(){return u},RM:function(){return d},RQ:function(){return o},W5:function(){return s},km:function(){return l}});var t=i(503118),a=i(396719),r=i(927467),d=function(e){var n=e.progress/e.goal*100,i=n>100?100:n;if(e.hypeTrainProgressVisible&&(i>=95&&i<=100||e.allTimeHighState===t.Q.REACHED)){var a={level:e.level,status:r.nn.NearComplete,noCelebration:!0};return e.level===e.lastLevel&&100===i||(a.noCelebration=!1),a}if(e.hypeTrainLeveledUp&&!e.hypeTrainProgressVisible){a={level:e.level,status:r.nn.Complete,noCelebration:!0};return e.previousLevel>0&&(a.noCelebration=!1),a}return{level:e.level,status:r.nn.Unknown,noCelebration:!0}},o=function(e,n){return n.noCelebration?r.rw.NoAnimations:n.status===r.nn.NearComplete?r.rw.Simmer:n.status===r.nn.Complete?n.level===e.lastLevel?r.rw.Fireworks:r.rw.SimmerRain:r.rw.NoAnimations},s=function(e,n){var i=new Image;return i.src=e.src,i.alt=e.token,i.width=n,i.height=n,i},u=function(e){switch(e){case r.rw.Simmer:case r.rw.SimmerRain:return a.fw.rain;case r.rw.Fireworks:return a.fw.fireworks;case r.rw.RainOptOut:return a.fw.rainOptout;case r.rw.FireworksOptOut:return a.fw.fireworksOptout;default:return 0}},l=function(e){return e.noCelebration||e.status===r.nn.Unknown?"0":"level_".concat(e.level,"_").concat(e.status===r.nn.Complete?"complete":"95")},c=function(e,n){return e.level!==n.level||e.noCelebration!==n.noCelebration||e.status!==n.status}},503118:function(e,n,i){"use strict";var t;i.d(n,{Q:function(){return t}}),function(e){e.NONE="NONE",e.APPROACHING="APPROACHING",e.JUST_REACHED="JUST_REACHED",e.REACHED="REACHED"}(t||(t={}))},512009:function(e,n,i){"use strict";i.d(n,{Jx:function(){return r},KV:function(){return a},Zy:function(){return g},h2:function(){return h},ls:function(){return _},p4:function(){return p},pE:function(){return v},sK:function(){return y}});var t=i(267924),a=function(e){var n=Object.entries(e.conductors).map((function(e){return r(e[0],e[1])})),i={__typename:"HypeTrainExecution",id:e.id,config:o(e.config,e.id),startedAt:new Date(e.started_at).toISOString(),expiresAt:new Date(e.expires_at).toISOString(),updatedAt:new Date(e.updated_at).toISOString(),participations:Object.entries(e.participations).map((function(e){return d(e[0],e[1])})),conductors:n,endedAt:null,endReason:null,progress:v(e.progress,e.channel_id,e.config.difficulty,e.id),isGoldenKappaTrain:e.is_golden_kappa_train,allTimeHigh:k(e.all_time_high_progress,e.channel_id,e.config.difficulty)};return e.ended_at&&(i.endedAt=new Date(e.ended_at).toISOString()),e.ending_reason&&(i.endReason=e.ending_reason),i},r=function(e,n){var i=Object.entries(n.participations).map((function(e){return d(e[0],e[1])}));return{__typename:"HypeTrainConductor",id:n.id,source:e,participation:i,user:{__typename:"User",id:n.user.id,login:n.user.login,displayName:n.user.display_name,profileImageURL:n.user.profile_image_url}}},d=function(e,n){var i=e.split(".");return{__typename:"HypeTrainParticipation",source:i[0],action:i[1],quantity:n}},o=function(e,n){var i=[];return Object.entries(e.conductor_rewards).forEach((function(e){var n=Object.entries(e[1]).map((function(n){return i=e[0],t=n[0],a=n[1],{__typename:"HypeTrainConductorReward",source:i,type:t,rewards:a.map(g)};var i,t,a}));i=i.concat(n)})),{__typename:"HypeTrainConfig",id:n?"".concat(e.channel_id,":").concat(n):e.channel_id,conductorRewards:i,cooldownPeriodMinutes:e.cooldown_duration,difficulty:e.difficulty,difficultySettings:Object.entries(e.difficulty_settings).map((function(n){return l(n[0],e.channel_id,n[1])})),isEnabled:e.is_enabled,shouldUsePersonalizedSettings:e.use_personalized_settings,kickoff:u(e.kickoff),levelDurationSeconds:e.level_duration,notificationThresholds:Object.entries(e.notification_thresholds).map((function(e){return c(e[0],e[1])})),participationConversionRates:Object.entries(e.participation_conversion_rates).map((function(e){return m(e[0],e[1])})),calloutEmote:s(e),willUseCreatorColor:e.use_creator_color,primaryHexColor:e.primary_hex_color}},s=function(e){return{__typename:"Emote",id:e.callout_emote_id,token:e.callout_emote_token}},u=function(e){return{__typename:"HypeTrainKickoffConfig",eventsThreshold:e.num_of_events,minPoints:e.min_points,periodSeconds:e.duration}},l=function(e,n,i){return{__typename:"HypeTrainDifficultySettings",difficulty:e,levels:i.map((function(i){return f(i,n,e)}))}},c=function(e,n){var i=e.split(".");return{__typename:"HypeTrainNotificationThreshold",source:i[0],action:i[1],value:n}},m=function(e,n){var i=e.split(".");return{__typename:"HypeTrainParticipationConversionRate",source:i[0],action:i[1],value:n}},v=function(e,n,i,t){return{__typename:"HypeTrainProgress",id:t,goal:e.goal,total:e.total,progression:e.value,remainingSeconds:e.remaining_seconds,level:f(e.level,n,i)}},p=function(e,n,i,t){return{__typename:"HypeTrainProgress",id:e,goal:n.goal,total:n.total,progression:n.value,level:f(n.level,i,t),allTimeHighState:_(n.all_time_high_state)}},k=function(e,n,i){return{__typename:"HypeTrainCompleted",goal:e.goal,total:e.total,progression:e.value,level:f(e.level,n,i)}},f=function(e,n,i){var t=e.rewards.map(g);return{__typename:"HypeTrainLevel",id:"".concat(n,":").concat(i,":").concat(e.value),value:e.value,goal:e.goal,rewards:t}},g=function(e){switch(e.type){case t.Asq.BADGE:return{__typename:"HypeTrainBadgeReward",id:e.id,type:t.Asq.BADGE,badge:{__typename:"Badge",id:e.badge_id||e.id,setID:e.group_id,imageURL:e.image_url||""}};case t.Asq.EMOTE:return{__typename:"HypeTrainEmoteReward",id:e.id,type:t.Asq.EMOTE,emote:{__typename:"Emote",id:e.id,token:e.token||""}};default:throw new Error("unknown reward type found")}},y=function(e){return e.map((function(e){return{__typename:"HypeTrainParticipation",action:e.action,source:e.source,quantity:e.quantity}}))},h=function(e){return Array.from(Object.keys(e)).map((function(n){return{__typename:"HypeTrainApproachingEventsRemaining",events:parseInt(n,10),secondsRemaining:e[n]}}))},_=function(e){switch(e){case t.Q8_.APPROACHING:return t.Q8_.APPROACHING;case t.Q8_.REACHED:return t.Q8_.REACHED;default:return t.Q8_.NONE}}},926548:function(e,n,i){"use strict";i.d(n,{Cs:function(){return o},EF:function(){return m},J:function(){return f},LE:function(){return c},TK:function(){return k},Up:function(){return r},X7:function(){return d},Zl:function(){return t},h7:function(){return p},lJ:function(){return a},t9:function(){return v}});var t,a,r,d,o,s,u=i(478260),l=i(633340),c="hype-train";function m(e){var n={server_time:e.serverTime,channel_id:e.channelID,user_id:e.userID,train_id:e.trainID,action_name:e.action,action_type:e.actionType};u.E5.__track_SSRMigrationFixme("hype_train_card_interaction",n)}function v(e){var n={channel_id:e.channel_id,hype_train_level:(0,l.km)(e.hype_train_level),animation_type:e.animation_type,train_id:e.train_id,channel_treatment:e.channel_treatment};u.E5.track("hype_train_celebration_impression",n)}function p(e){e.channel_id&&u.E5.track("hype_train_approaching_impression",e)}function k(e){var n=u.Zn.get("hype_train_availability_sample_rate",0);Math.random()<n&&u.E5.track("hype_train_availability_event",e)}function f(e){var n="";if(e.hype_train_approaching)n=s.Approaching;else if(e.hype_train_started)n=s.Started;else if(e.hype_train_leveled_up)n=s.LevelUp;else if(e.hype_train_failed)n=s.Failed;else if(e.hype_train_complete)n=s.Complete;else{if(!e.hype_train_in_progress)return;n=s.InProgress}var i={user_id:e.user_id,channel_id:e.channel_id,train_id:e.train_id,current_level:e.current_level,all_time_high_status:e.all_time_high_status,hype_train_status:n};u.E5.__track_SSRMigrationFixme("hype_train_banner_impression",i)}!function(e){e.Expand="expand",e.Hide="hide",e.MoreInfo="moreinfo",e.LeaderName="leadername",e.BitsCTA="bitscta",e.SubsCTA="subscta",e.GiftCTA="giftcta"}(t||(t={})),function(e){e.Click="click"}(a||(a={})),function(e){e.Success="success",e.Failure="failure"}(r||(r={})),function(e){e.Approaching="approaching",e.Progress="progress",e.Pubsub_TrainConductorUpdate="pubsub_train_conductor_update",e.Pubsub_TrainLevelUp="pubsub_train_level_up",e.Pubsub_TrainStarting="pubsub_train_starting",e.End="end"}(d||(d={})),function(e){e.MissingGQLData="missing_gql_data",e.MissingInitiatorCurrency="missing_initiator_currency_powercheer",e.UnknownDuration="unknown_duration_event_sent",e.UnknownEndingReason="unknown_ending_reason",e.None="none"}(o||(o={})),function(e){e.Approaching="approaching",e.Started="started",e.InProgress="in_progress",e.Complete="complete",e.Failed="failed",e.LevelUp="level_up"}(s||(s={}))},950386:function(e,n,i){"use strict";i.d(n,{Zc:function(){return d},ku:function(){return r}});var t=i(917705),a=.5;function r(e){var n=(0,t.differenceInSeconds)(e,new Date);return Math.max(0,n)}function d(e){var n=(0,t.differenceInMilliseconds)(e,new Date)-1e3*a;return Math.max(0,n/1e3)}},797920:function(e,n,i){"use strict";i.d(n,{E_:function(){return A}});var t=i(331635),a=i(10982),r=i(225745),d=i(973421),o=i.n(d),s=i(917705),u=i(296540),l=i(415044),c=i(783321),m=i(640598),v=i(982821),p=i(503472),k=i(456450),f=i(267924),g=i(131883),y=i(512009),h=i(766697),_=i.n(h),T=i(720809),S=i.n(T),N=i(395359),F=i.n(N),D=i(456727),C=i.n(D),w=i(683428),b=i.n(w),x=i(320443),R=i.n(x),H=i(926548),E=i(313793),P=i(74950),A=function(e){var n=e.channelLogin,i=e.channelID,d=(0,l.d4)(g.wz),h=u.useRef(null),T=u.useRef(-1),N=u.useRef(null),D=u.useRef(null),w=(0,c.IT)(_(),{variables:{userLogin:null!=n?n:""},skip:null===n||null===i,fetchPolicy:"cache-and-network"}),x=w.client,A=w.data,G=w.loading,j=w.updateQuery;(0,m.s)({topic:(0,k.v9)((null==d?void 0:d.id)||""),skip:!(null==d?void 0:d.id),onMessage:function(e){var n,i,t,a;if(e.type===v.PD.HypeTrainRewardEligibility){var r=e;if(r.data.hypeTrainID===(null===(t=null===(i=null===(n=null==A?void 0:A.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===t?void 0:t.id)&&r.data.userID===(null==d?void 0:d.id)&&r.data.isEligibleForRewards!==(null===(a=A.user.channel.hypeTrain.execution.self)||void 0===a?void 0:a.isEligibleForRewards)){var s=(0,p.G5)(A.user.channel.hypeTrain.execution);s&&(0,p.WY)({id:s,fragment:F(),fragmentName:"hypeTrainExecutionSelfEdgeUpdate",mutator:function(e){return o()(e,(function(e){return e.self}),(function(){return{__typename:"HypeTrainExecutionSelfEdge",isEligibleForRewards:r.data.isEligibleForRewards}}))}},x)}}}});var Y=(0,k.tf)(i||"");(0,m.s)({topic:Y,skip:null===n||null===i,onMessage:function(e){var t=Date.now()/1e3;switch(e.type){case v.PD.HypeTrainProgression:var a=e;if(a.messageReceivedTime=t,a.data.sequence_id<=T.current)return;h.current=a,T.current=a.data.sequence_id;break;case v.PD.HypeTrainConductorUpdate:var r=e;r.messageReceivedTime=t,r.data.source===f.lTw.BITS?D.current=r:r.data.source===f.lTw.SUBS&&(N.current=r);break;case v.PD.HypeTrainApproaching:j((function(n){return O(e,n,t)}));break;case v.PD.HypeTrainStart:j((function(n){return L(e,n,i||"",t)})),T.current=-1;break;case v.PD.HypeTrainLevelUp:j((function(a){return I(e,a,i||"",n||"",t)}));break;case v.PD.HypeTrainEnd:j((function(n){return U(e,n,t,i||"")}));break;case v.PD.HypeTrainSharedChannelLeft:j((function(n){return V(e,n,i)}));break;case v.PD.HypeTrainMergeTrains:case v.PD.HypeTrainSharedConversion:j((function(n){return M(e,n,T)}))}}});var J=u.useState(0),Z=J[0],$=J[1];u.useEffect((function(){var e,n;if(null===(n=null===(e=null==A?void 0:A.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution){var i=(0,s.differenceInMilliseconds)(A.user.channel.hypeTrain.execution.endedAt||A.user.channel.hypeTrain.execution.expiresAt,new Date);if((0,P.$m)(A)||!(i<=-15e3)){$(350);var t=setTimeout((function(){$(0)}),i+15e3+1);return function(){return clearTimeout(t)}}$(0)}else $(0)}),[A]),(0,a.$)((function(){var e,n,t,a,r,d,s,u,l,c,m,v,k,f,g,_,F=null;if(h.current){if(h.current.data.id!==(null===(t=null===(n=null===(e=null==A?void 0:A.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)||void 0===t?void 0:t.id))return h.current=null,void(T.current=-1);F=h.current,h.current=null}if(F&&(null===(r=null===(a=null==A?void 0:A.user)||void 0===a?void 0:a.channel)||void 0===r?void 0:r.hypeTrain.execution)){if(A.user.channel.hypeTrain.execution.progress.level.value<F.data.progress.level.value)(I=(0,p.G5)(A.user.channel.hypeTrain.execution))&&((0,p.WY)({id:I,fragment:C(),fragmentName:"hypeTrainLevelUpdateV2",mutator:function(e){return X(e,F)}},x),A.user.channel.hypeTrain.execution.isTreasureTrain&&(null===(s=null===(d=null==A?void 0:A.user)||void 0===d?void 0:d.channel.hypeTrain.execution.treasureTrainDetails)||void 0===s?void 0:s.status)!==(null===(u=F.data.treasureTrainDetails)||void 0===u?void 0:u.status)&&j((function(e){var n,i,t;return(null===(t=null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===t?void 0:t.isTreasureTrain)?o()(e,(function(e){var n,i,t;return null===(t=null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===t?void 0:t.treasureTrainDetails}),(function(e){var n;return e&&e.status!==(null===(n=F.data.treasureTrainDetails)||void 0===n?void 0:n.status)?o()(e,(function(e){return e.status}),(function(){var e;return null===(e=F.data.treasureTrainDetails)||void 0===e?void 0:e.status})):e})):e})),(0,H.TK)({channel_id:i||"",status:H.Up.Success,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.None,pubsub_message_received_time:F.messageReceivedTime}));else(I=(0,p.G5)(A.user.channel.hypeTrain.execution.progress))&&((0,p.WY)({id:I,fragment:b(),fragmentName:"hypeTrainProgressUpdateV2",mutator:function(e){return Q(e,F)}},x),A.user.channel.hypeTrain.execution.isTreasureTrain&&(null===(c=null===(l=null==A?void 0:A.user)||void 0===l?void 0:l.channel.hypeTrain.execution.treasureTrainDetails)||void 0===c?void 0:c.status)!==(null===(m=F.data.treasureTrainDetails)||void 0===m?void 0:m.status)&&j((function(e){var n,i,t;return(null===(t=null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===t?void 0:t.isTreasureTrain)?o()(e,(function(e){var n,i,t;return null===(t=null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===t?void 0:t.treasureTrainDetails}),(function(e){var n;return e&&e.status!==(null===(n=F.data.treasureTrainDetails)||void 0===n?void 0:n.status)?o()(e,(function(e){return e.status}),(function(){var e;return null===(e=F.data.treasureTrainDetails)||void 0===e?void 0:e.status})):e})):e})),(0,H.TK)({channel_id:i||"",status:H.Up.Success,event_loc:H.X7.Progress,error_type:H.Cs.None,pubsub_message_received_time:F.messageReceivedTime}));if(F.data.sharedProgress&&(null===(v=A.user.channel.hypeTrain.execution.sharedHypeTrainDetails)||void 0===v?void 0:v.sharedProgress))(I=(0,p.G5)(A.user.channel.hypeTrain.execution.sharedHypeTrainDetails))&&(0,p.WY)({id:I,fragment:R(),fragmentName:"sharedHypeTrainProgressUpdate",mutator:function(e){return B(e,F.data.sharedProgress)}},x)}if(N.current||D.current){var w=null!==(f=null===(k=N.current)||void 0===k?void 0:k.messageReceivedTime)&&void 0!==f?f:0;D.current&&D.current.messageReceivedTime>w&&(w=D.current.messageReceivedTime);var E=D.current;D.current=null;var P=N.current;N.current=null;var U=[];if(E&&U.push((0,y.Jx)(E.data.source,E.data)),P&&U.push((0,y.Jx)(P.data.source,P.data)),U.length>0&&(null===(_=null===(g=null==A?void 0:A.user)||void 0===g?void 0:g.channel)||void 0===_?void 0:_.hypeTrain.execution)){var I,L=A.user.channel.hypeTrain.execution.sharedHypeTrainDetails,O=!!L,V=(null==L?void 0:L.id)===i;if(!O||V)(I=(0,p.G5)(A.user.channel.hypeTrain.execution))&&((0,p.WY)({id:I,fragment:S(),fragmentName:"hypeTrainConductorUpdate",mutator:function(e){return q(e,U)}},x),(0,H.TK)({channel_id:i||"",status:H.Up.Success,event_loc:H.X7.Pubsub_TrainConductorUpdate,error_type:H.Cs.None,pubsub_message_received_time:w}));O&&i&&j((function(e){return o()(e,(function(e){return e.user.channel.hypeTrain.execution.sharedHypeTrainDetails.sharedConductors}),(function(e){return K(e,i,U)}))}))}}}),Z);var W=u.useRef(null);u.useEffect((function(){var e,n,i,t,a,r,d,s,u,l;if((0,P.B$)(A)&&(0,P.Io)(null===(n=null===(e=null==A?void 0:A.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.approaching)){var c=null===(r=null===(a=null===(t=null===(i=null==A?void 0:A.user)||void 0===i?void 0:i.channel)||void 0===t?void 0:t.hypeTrain.approaching)||void 0===a?void 0:a.eventsRemaining)||void 0===r?void 0:r.find((function(e){return 1===(null==e?void 0:e.events)})),m=null===(l=null===(u=null===(s=null===(d=null==A?void 0:A.user)||void 0===d?void 0:d.channel)||void 0===s?void 0:s.hypeTrain.approaching)||void 0===u?void 0:u.eventsRemaining)||void 0===l?void 0:l.find((function(e){return 2===(null==e?void 0:e.events)}));W.current&&(clearTimeout(W.current),W.current=null),c&&m&&(W.current=setTimeout((function(){return j((function(e){var n,i;return(null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.approaching)?o()(e,(function(e){return e.user.channel.hypeTrain.approaching.eventsRemaining}),(function(e){return!e||e.length<E.P?e:e.filter((function(e){return(null==e?void 0:e.events)!==m.events})).map((function(e){return(null==e?void 0:e.events)!==c.events?e:o()(e,(function(e){return e.secondsRemaining}),(function(){return c.secondsRemaining-m.secondsRemaining}))}))})):e}))}),1e3*m.secondsRemaining))}else W.current&&(clearTimeout(W.current),W.current=null)}),[A,j]);var z=u.useRef(null);return u.useEffect((function(){var e,n,i,a;if(z.current&&(clearTimeout(z.current),z.current=null),(null===(n=null===(e=null==A?void 0:A.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)&&(0,P.$m)(A)){var r=(0,s.differenceInMilliseconds)(null===(a=null===(i=null==A?void 0:A.user)||void 0===i?void 0:i.channel)||void 0===a?void 0:a.hypeTrain.execution.expiresAt,new Date)+15e3;z.current=setTimeout((function(){return j((function(e){var n,i;return(null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)?o()(e,(function(e){return e.user.channel.hypeTrain.execution}),(function(e){return(0,t.__assign)((0,t.__assign)({},e),{endedAt:e.expiresAt,endReason:e.progress.level.value>1?f.Yip.COMPLETED:f.Yip.EXPIRED})})):e}))}),r)}}),[A,j]),(0,r.i)((function(){var e,n;clearTimeout(null!==(e=z.current)&&void 0!==e?e:-1),clearTimeout(null!==(n=W.current)&&void 0!==n?n:-1)})),{data:A,loading:G}},U=function(e,n,i,a){var r,d,s,u;return n&&(null===(d=null===(r=n.user)||void 0===r?void 0:r.channel)||void 0===d?void 0:d.hypeTrain.execution)?e.data.id!==(null===(u=null===(s=n.user)||void 0===s?void 0:s.channel)||void 0===u?void 0:u.hypeTrain.execution.id)?((0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.End,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i}),n):((0,H.TK)({channel_id:a,status:H.Up.Success,event_loc:H.X7.End,error_type:H.Cs.None,pubsub_message_received_time:i}),o()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(n){return(0,t.__assign)((0,t.__assign)({},n),{endedAt:new Date(e.data.ended_at).toISOString(),endReason:e.data.ending_reason,participations:e.data.participation_totals.map((function(e){return{__typename:"HypeTrainParticipation",source:e.source,action:e.action,quantity:e.quantity}}))})}))):((0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.End,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i}),n)},I=function(e,n,i,t,a){var r,d;return e.data.hype_train.self=null,n?n.user&&n.user.channel?(null===(d=null===(r=n.user)||void 0===r?void 0:r.channel)||void 0===d?void 0:d.hypeTrain.execution)?n:((0,H.TK)({channel_id:i||"",status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:a}),o()(n,(function(e){return e.user.channel.hypeTrain}),(function(n){return{__typename:"HypeTrain",execution:e.data.hype_train,approaching:n.approaching||null}}))):((0,H.TK)({channel_id:i||"",status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:a}),o()(n,(function(e){return e.user}),(function(){return{__typename:"User",id:i,displayName:t,channel:{__typename:"Channel",id:i,hypeTrain:{__typename:"HypeTrain",execution:e.data.hype_train,approaching:null}}}}))):((0,H.TK)({channel_id:i||"",status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:a}),{user:{__typename:"User",id:i,displayName:t,channel:{__typename:"Channel",id:i,hypeTrain:{__typename:"HypeTrain",execution:e.data.hype_train,approaching:null}}}})},L=function(e,n,i,t){return n&&n.user&&n.user.channel?((0,H.TK)({channel_id:i,status:H.Up.Success,event_loc:H.X7.Pubsub_TrainStarting,error_type:H.Cs.None,pubsub_message_received_time:t}),e.data.self=null,e.data.treasureTrainDetails||(e.data.treasureTrainDetails=null),o()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(){return e.data}))):((0,H.TK)({channel_id:i,status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainStarting,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:t}),n)},O=function(e,n,i){var t=e.data,a=t.channel_id,r=t.goal,d=t.events_remaining_durations,s=t.level_one_rewards,u=t.creator_color,l=t.participants,c=t.is_golden_kappa_train,m=t.expires_at,v=t.potential_rewards,p=t.is_treasure_train,k=(0,y.h2)(d),f=s.reduce((function(e,n){try{var t=(0,y.Zy)(n);t&&e.push(t)}catch(e){(0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.Approaching,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i})}return e}),[]);return n&&n.user&&n.user.channel?((0,H.TK)({channel_id:a,status:H.Up.Success,event_loc:H.X7.Approaching,error_type:H.Cs.None,pubsub_message_received_time:i}),o()(n,(function(e){return e.user.channel.hypeTrain.approaching}),(function(){return{__typename:"HypeTrainApproaching",id:a,goal:r,creatorColor:u,participants:l,isGoldenKappaTrain:c,eventsRemaining:k,levelOneRewards:f,potentialRewards:v,expiresAt:m,isTreasureTrain:p}}))):((0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.Approaching,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i}),n)},V=function(e,n,i){var t,a,r,d,s,u,l;if(!i)return n;var c=null===(r=null===(a=null===(t=n.user)||void 0===t?void 0:t.channel)||void 0===a?void 0:a.hypeTrain.execution)||void 0===r?void 0:r.id;if(!c||c!==e.data.id)return n;var m=null===(l=null===(u=null===(s=null===(d=n.user)||void 0===d?void 0:d.channel)||void 0===s?void 0:s.hypeTrain.execution)||void 0===u?void 0:u.sharedHypeTrainDetails)||void 0===l?void 0:l.id,v=e.data.user.id;return m===i?n:v===m||v===i?o()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(){return null})):n},M=function(e,n,i){var t,a,r,d,s;if(!(null===(a=null===(t=n.user)||void 0===t?void 0:t.channel)||void 0===a?void 0:a.hypeTrain))return n;if(e.data.hypeTrain.treasureTrainDetails||(e.data.hypeTrain.treasureTrainDetails=null),e.data.hypeTrain.self||(e.data.hypeTrain.self=null),e.type!==v.PD.HypeTrainMergeTrains&&e.type!==v.PD.HypeTrainSharedConversion||(e.data.hypeTrain.self=(null===(r=n.user.channel.hypeTrain.execution)||void 0===r?void 0:r.self)||null),e.data.hypeTrain.id!==(null===(d=n.user.channel.hypeTrain.execution)||void 0===d?void 0:d.id))return i.current=-1,o()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(){return e.data.hypeTrain}));if(e.data.sequenceID>=i.current)return i.current=e.data.sequenceID,o()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(){return e.data.hypeTrain}));var u=n.user.channel.hypeTrain.execution.progress,l=null===(s=n.user.channel.hypeTrain.execution.sharedHypeTrainDetails)||void 0===s?void 0:s.sharedProgress,c=e.data.hypeTrain;return c=o()(c,(function(e){return e.progress}),(function(){return u})),l&&c.sharedHypeTrainDetails&&(c=o()(c,(function(e){return e.sharedHypeTrainDetails.sharedProgress}),(function(){return l}))),o()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(){return c}))},G=function(e,n){switch(n.length){case 0:return e;case 1:var i=(0,t.__spreadArray)([],n,!0);return e.forEach((function(e){e.id!==n[0].id&&i.push((0,t.__assign)((0,t.__assign)({},e),{participation:(0,t.__spreadArray)([],e.participation,!0)}))})),i;default:return(0,t.__spreadArray)([],n,!0)}},K=function(e,n,i){var a=e.find((function(e){var i;return(null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.id)===n}));return a||(a={__typename:"SharedHypeTrainConductor",user:{__typename:"User",id:n},conductors:[]}),(0,t.__spreadArray)((0,t.__spreadArray)([],e.filter((function(e){var i;return(null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.id)!==n})),!0),[o()(a,(function(e){return e.conductors}),(function(e){return G(e,i)}))],!1)},q=function(e,n){return o()(e,(function(e){return e.conductors}),(function(e){return G(e,n)}))},Q=function(e,n){return o()(e,(function(e){return e}),(function(e){return{id:e.id,progression:n.data.progress.value,goal:n.data.progress.goal,total:n.data.progress.total,allTimeHighState:(0,y.ls)(n.data.progress.all_time_high_state)}}))},B=function(e,n){return o()(e,(function(e){return e.sharedProgress}),(function(){return n}))},X=function(e,n){return o()(e,(function(e){return e}),(function(e){var i=e.progress.level.id.split(":");return{__typename:e.__typename,progress:{__typename:e.progress.__typename,id:e.progress.id,progression:n.data.progress.value,goal:n.data.progress.goal,total:n.data.progress.total,allTimeHighState:(0,y.ls)(n.data.progress.all_time_high_state),level:{__typename:e.progress.level.__typename,id:"".concat(i[0],":").concat(i[1],":").concat(n.data.progress.level.value),value:n.data.progress.level.value,goal:n.data.progress.level.goal,rewards:n.data.progress.level.rewards.map(y.Zy)}},expiresAt:n.data.expires_at}}))}},313793:function(e,n,i){"use strict";i.d(n,{D:function(){return a},P:function(){return t}});var t=2,a="80393"},74950:function(e,n,i){"use strict";i.d(n,{$m:function(){return r},B$:function(){return a},Io:function(){return s},yM:function(){return d}});var t=i(950386),a=function(e){var n,i;return(null===(i=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.approaching)&&!o(e.user.channel.hypeTrain.approaching.expiresAt)&&(!e.user.channel.hypeTrain.execution||e.user.channel.hypeTrain.execution.endedAt&&o(e.user.channel.hypeTrain.execution.endedAt))},r=function(e){var n,i;return(null===(i=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)&&!e.user.channel.hypeTrain.execution.endedAt&&!o(e.user.channel.hypeTrain.execution.expiresAt)},d=function(e){var n,i,t;return!!(null===(t=null===(i=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===t?void 0:t.sharedHypeTrainDetails)},o=function(e){return(0,t.Zc)(new Date(e))<=0},s=function(e){return!!e&&("number"==typeof e?e>5:(e.goal||0)>5)}}}]);