!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="749dbdb0-3c71-40ef-81a6-ca2c9b47e19d",e._sentryDebugIdIdentifier="sentry-dbid-749dbdb0-3c71-40ef-81a6-ca2c9b47e19d")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[75569],{327649:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBitsButton_Bits"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withChannel"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsOffer"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idSHA1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsOffer"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsUserSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsUserSettings"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsUserState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withChannel"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]},r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(a(n(696981).definitions)),i.definitions=i.definitions.concat(a(n(401788).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}})),e.exports=i},868821:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsAdOffer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsAdOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]}]}}]}},999552:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsBundleOffer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPromo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"includesVAT"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currencyCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsBundleOfferPromotion"},directives:[]}]}}]}}]},r={};i.definitions=i.definitions.concat(n(352320).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},352320:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsBundleOfferPromotion"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsPromotion"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},696981:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsOffer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsAdOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsAdOffer"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsBundleOffer"},directives:[]}]}}]}}]},r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n(999552).definitions)),i.definitions=i.definitions.concat(a(n(868821).definitions)),e.exports=i},401788:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsUserSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsUserSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstCheerTutorial"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasAbandoned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSkipped"},arguments:[],directives:[]}]}}]}}]}},328102:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetBitsUserSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetBitsUserSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setBitsUserSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUserSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsUserSettings"},directives:[]}]}}]}}]}}]}}]},r={};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}i.definitions=i.definitions.concat(n(401788).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=i},816280:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetEmoteAnimations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetEmoteAnimationsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setEmoteAnimationsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},906435:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsEmoteAnimations"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},616169:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopNav_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPresto"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"turboStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasActiveTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasUsedFreeTrial"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},420517:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_PrimeOfferList_PrimeOffers_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}},type:{kind:"NamedType",name:{kind:"Name",value:"Time"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primeOffersWithEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateOverride"},value:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}}},{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"catalogOfferID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gameTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimInstructions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryMethod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"externalURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publisher"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtitleSubtext"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortDescription"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offerEligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canClaim"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isClaimed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offerState"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},605047:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_PrimeOffers_PrimeOfferIds_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}},type:{kind:"NamedType",name:{kind:"Name",value:"Time"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primeOffersWithoutEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateOverride"},value:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}}},{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"catalogOfferID"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},982703:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_PrimeOffers_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},624084:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"placeOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlaceOrderInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"placeOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderInformation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},349766:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_Current_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},156525:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useLiveGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseLiveBroadcast"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastBroadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useLiveGame"},directives:[]}]}}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},954233:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var i=n(331635),r=n(474848),a=n(296540),o=n(478260),s=n(959385),l=n(927027);function c(e,t){return function(n){var c=function(a){function s(){var e=null!==a&&a.apply(this,arguments)||this;return e.hadImpression=!1,e.reportImpression=null,e.element=null,e.logger=o.vF.withCategory("with-impression-listener"),e.getVisibilityMetric=function(){var t,n=null===(t=e.props.getScrollContent())||void 0===t?void 0:t.getBoundingClientRect();return e.element&&n?(0,l.DW)(e.element,n):null},e.setRef=function(t){return e.element=t},e.registerImpressionCallback=function(t){e.reportImpression=t},e.unregisterImpressionCallback=function(){e.reportImpression=null},e}return(0,i.__extends)(s,a),s.prototype.componentDidMount=function(){t&&void 0!==t.percentage&&void 0!==t.pixels?this.logger.warn("<".concat(e," /> should only be initialized with percentage or pixel thresholds, not both")):this.unregister=this.props.registerReceiver(this)},s.prototype.componentDidUpdate=function(e){this.props.impressionKey&&e.impressionKey!==this.props.impressionKey&&(this.hadImpression=!1,this.props.requestVisibilityCheck(this))},s.prototype.componentWillUnmount=function(){var e;null===(e=this.unregister)||void 0===e||e.call(this)},s.prototype.render=function(){var e={impressionListener:{registerImpressionCallback:this.registerImpressionCallback,unregisterImpressionCallback:this.unregisterImpressionCallback,getVisibilityMetric:this.getVisibilityMetric}},a=t&&t.impressionWrapperClassName,o=a?{className:a}:{};return(0,r.jsx)("div",(0,i.__assign)({ref:this.setRef},o,{children:(0,r.jsx)(n,(0,i.__assign)({},this.props,e))}))},s.prototype.checkVisible=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){return this.hadImpression||(n=(0,l.zN)(this.element,e,null==t?void 0:t.percentage,null==t?void 0:t.pixels))&&(r=this.isScrolled(),this.hadImpression=n,this.reportImpression&&this.reportImpression(r)),[2]}))}))},s.prototype.isScrolled=function(){var e=this.props.getScrollContent();return!(!e||0===e.scrollTop)},s}(a.Component);return(0,s.UJ)((function(e){return{registerReceiver:e.registerReceiver,getScrollContent:e.getScrollContent,requestVisibilityCheck:e.requestVisibilityCheck}}))(c)}}},309759:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var i=n(331635),r=n(474848),a=(n(296540),n(611407));function o(e){return function(t){return function(n){return(0,a.C)(e(n)),(0,r.jsx)(t,(0,i.__assign)({},n))}}}},312524:function(e,t,n){"use strict";n.d(t,{E:function(){return r},d:function(){return u}});var i,r,a=n(331635),o=n(391997),s=n(891975),l=n(296540);!function(e){e.Default="default",e.XS="xs",e.SM="sm",e.MD="md",e.LG="lg",e.XL="xl",e.XXL="xxl"}(r||(r={}));var c=((i={})[r.Default]="0px",i[r.XS]=o["break-xs"],i[r.SM]=o["break-sm"],i[r.MD]=o["break-md"],i[r.LG]=o["break-lg"],i[r.XL]=o["break-xl"],i[r.XXL]=o["break-xxl"],i.all=o,i),d=[r.XXL,r.XL,r.LG,r.MD,r.SM,r.XS,r.Default];function u(e){var t=l.useState(),n=t[0],i=t[1];return(0,s.S)((function(){var t=(e||d).map((function(e){var t=function(t){i((function(n){var i;return(0,a.__assign)((0,a.__assign)({},n||{}),((i={})[e]=t.matches,i))}))},r=window.matchMedia("(min-width: ".concat(c[e],")"));return r.addListener(t),n&&void 0!==n[e]||i((function(t){var n;return(0,a.__assign)((0,a.__assign)({},t||{}),((n={})[e]=r.matches,n))})),function(){r.removeListener(t)}}));return function(){t.forEach((function(e){e()}))}})),l.useMemo((function(){if(!n)return null;for(var e=0,t=d;e<t.length;e++){var i=t[e];if(n[i])return i}return null}),[n])}},285511:function(e,t,n){"use strict";n.d(t,{B:function(){return v}});var i=n(331635),r=n(474848),a=n(959340),o=n(914421),s=n(312663),l=n(588702),c=n(70931),d=n(564368),u=n(296540),p=n(478260),f=n(195824),m=n(671503),h=n(917602),g={themed:!0,dark:{"1x":"".concat(f.Vp,"/bits-card/intro/dark/bits-new-user-dark.gif")},light:{"1x":"".concat(f.Vp,"/bits-card/intro/light/bits-new-user-light.gif")}},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackLearnMore=function(e){t.props.trackBitsCardInteraction(m.N2.NewUserLearnMore)},t}return(0,i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onUserSkip,n=e.onUserClickFirstTimePurchaseDiscount;return(0,r.jsxs)(a.P,{padding:{left:2,right:2,y:1},children:[(0,r.jsx)(a.P,{display:o.nl.Flex,justifyContent:o.A9.Center,children:(0,r.jsx)(s.N,{type:l.M2.H4,bold:!0,children:(0,p.hw)("Join the party with Bits","BitsIntro")})}),(0,r.jsx)(a.P,{margin:{top:1},children:(0,r.jsxs)(s.N,{type:l.M2.P,children:[(0,p.hw)("Celebrate big moments and support your favorite streamers with special animated emotes!","BitsIntro"),"Â ",(0,r.jsx)(c.Cb,{linkTo:"/bits",targetBlank:!0,onClick:this.trackLearnMore,underline:!1,children:(0,p.hw)("Learn more","BitsIntro")})]})}),(0,r.jsx)(a.P,{margin:{top:2,bottom:2},display:o.nl.Flex,justifyContent:o.A9.Center,className:"bits-card-intro__gif-wrapper",children:(0,r.jsx)(h.F,{sources:g})}),(0,r.jsx)(d.$n,{onClick:n,fullWidth:!0,children:(0,p.hw)("First-Time Purchaser Discount","BitsIntro")}),t&&(0,r.jsx)(d.$n,{onClick:t,variant:d.VQ.Text,fullWidth:!0,children:(0,p.hw)("Skip","BitsIntro")})]})},t}(u.PureComponent)},290636:function(e,t,n){"use strict";n.d(t,{J:function(){return se}});var i,r=n(331635),a=n(474848),o=n(959340),s=n(296540),l=n(868238),c=n(478260),d=n(191132),u=n(928778),p=n(503472),f=n(935835),m=n(496228),h=n(285511),g=n(331947),v=n(446663),k=n(914421),x=n(312663),b=n(588702),y=n(656910),S=n(959385),w=n(267924),_=n(886692),P=n(22201),C=n(717286);!function(e){e.BitsBalanceHeader="bits-balance-header-selector",e.BitsBalanceLoggedOutHeader="bits-balance-logged-out-header-selector"}(i||(i={}));var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){return this.props.isLoggedIn?(0,a.jsx)(o.P,{"data-test-selector":i.BitsBalanceHeader,textAlign:k.nO.Center,fullWidth:!0,children:(0,a.jsx)(x.N,{type:b.M2.Span,children:(0,c.hw)("You have {bitsBalance}",{bitsBalance:(0,a.jsx)(C.k,{withImage:!0,withText:!0,count:this.props.bitsBalance?this.props.bitsBalance:0,bitsConfig:this.props.bitsConfig})},"Bits--GetBitsButton")})}):(0,a.jsx)(o.P,{"data-test-selector":i.BitsBalanceLoggedOutHeader,textAlign:k.nO.Center,fullWidth:!0,children:(0,a.jsx)(x.N,{type:b.M2.Span,children:(0,c.hw)("{bitsGem} Log in to see your Bits balance",{bitsGem:(0,a.jsx)(C.k,{count:100,withImage:!0,bitsConfig:this.props.bitsConfig})},"Bits--GetBitsButton")})})},t}(s.Component);var T=(0,l.Zz)((0,v.a3)((function(e){return{bitsConfig:e.bitsConfig}})))(N),D=n(216042),j=n(70931),I=n(564368),B=n(298830),O=n(411547),F=n(415044),U=n(530919),L=n(671503),E=n(432927),R=n(195824),M=n(917602),W={themed:!0,dark:{"1x":"".concat(R.Fh,"/dark/animated/1/cheertutorial.gif")},light:{"1x":"".concat(R.Fh,"/light/animated/1/cheertutorial.gif")}},A=function(){return(0,a.jsxs)(o.P,{display:k.nl.Flex,padding:{top:5,bottom:3},flexGrow:1,flexDirection:k.bo.Column,justifyContent:k.A9.Center,alignItems:k.k2.Center,children:[(0,a.jsxs)(x.N,{type:b.M2.H4,bold:!0,children:[(0,a.jsx)(M.F,{className:"cheermote-help__tutorial-image",sources:W}),(0,c.hw)("How to Cheer","Bits--CheermoteHelp")]}),(0,a.jsx)(o.P,{padding:{x:3},children:(0,a.jsx)(x.N,{children:(0,c.hw)('Type "cheer" + the number of Bits you want to Cheer.',"Bits--CheermoteHelp")})})]})},G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBuyClick=function(){t.openBitsCheckout({forcePopup:!1})},t.onBuyClickExtraSmall=function(){t.openBitsCheckout({forcePopup:!0})},t.openBitsCheckout=function(e){var n=e.forcePopup,i=(0,U.tf)({trackBitsCardInteraction:t.props.trackBitsCardInteraction,channelID:t.props.channelID,trackingID:t.props.trackingID,checkoutID:t.props.checkoutID,purchaseUrl:t.props.promo.url,bitsAmount:t.props.promo.bits,location:L.Yl.GetBitsButtonTopNav,offerID:t.props.promo.id,checkoutFormDispatch:t.props.showCheckoutFormModal,forcePopup:n,bitsBalance:t.props.bitsBalance});i&&t.props.onPromoBuyClose(i)},t}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=(0,a.jsxs)(o.P,{"data-test-selector":"first-time-user-intro",children:[(0,a.jsx)(o.P,{padding:{x:5,y:2},textAlign:k.nO.Center,children:(0,a.jsx)(x.N,{type:b.M2.H4,bold:!0,children:(0,c.hw)("Cheer Bits for your Favorite Streamer!","Bits--FirstTimeUserPrompt")})}),(0,a.jsx)(o.P,{padding:{x:2,bottom:1},children:(0,a.jsxs)(x.N,{type:b.M2.Span,color:k.Q1.Alt,children:[(0,c.hw)("Bits are fun, animated emotes. Cheering Bits celebrates moments you love with the community right in chat and similar to subscribing, helps support Partners and Affiliates.","Bits--FirstTimeUserPrompt"),(0,a.jsx)(D.S,{margin:{left:.5},children:(0,a.jsx)(j.Cb,{onClick:this.props.toggleShowTutorial,underline:!1,children:(0,c.hw)("How do I cheer?","Bits--FirstTimeUserPrompt")})})]})}),(0,a.jsxs)(o.P,{padding:{bottom:2},textAlign:k.nO.Center,children:[(0,a.jsx)(D.S,{margin:{bottom:1},children:(0,a.jsx)(x.N,{type:b.M2.H6,bold:!0,className:"bits-first-time-user-prompt__promo-header",children:(0,c.hw)("First Time Purchaser Discount Pack!","Bits--FirstTimeUserPrompt")})}),(0,a.jsx)(o.P,{display:k.nl.Hide,breakpointExtraSmall:{display:k.nl.Block},children:(0,a.jsx)(I.$n,{onClick:this.onBuyClick,"data-a-target":"bits-purchase-button-".concat(this.props.promo.bits),children:this.promoButtonText})}),(0,a.jsx)(o.P,{display:k.nl.Block,breakpointExtraSmall:{display:k.nl.Hide},children:(0,a.jsx)(I.$n,{onClick:this.onBuyClickExtraSmall,"data-a-target":"bits-purchase-button-xs-".concat(this.props.promo.bits),children:this.promoButtonText})})]})]});return this.props.isShowingTutorial?(0,a.jsxs)(o.P,{className:"bits-first-time-user-prompt",fullWidth:!0,children:[(0,a.jsx)(o.P,{className:"bits-first-time-user-prompt__tutorial-back-button",children:(0,a.jsxs)(I.$n,{onClick:this.props.toggleShowTutorial,variant:I.VQ.Text,children:[(0,a.jsx)(B.A,{size:8})," ",(0,c.hw)("Back","Bits--FirstTimeUserPrompt")]})}),(0,a.jsx)(o.P,{textAlign:k.nO.Center,padding:{x:2,bottom:2,top:5},fullHeight:!0,children:(0,a.jsx)(O.X5,{type:O.as.SlideInLeft,duration:O.J6.Long,enabled:!0,children:(0,a.jsx)(A,{})})})]}):this.props.animateFirstTimeUserIntro?(0,a.jsx)(D.S,{className:"bits-first-time-user-prompt",children:(0,a.jsx)(O.X5,{type:O.as.SlideInRight,duration:O.J6.Long,enabled:this.props.animateFirstTimeUserIntro,children:e})}):(0,a.jsx)(o.P,{className:"bits-first-time-user-prompt",children:e})},Object.defineProperty(t.prototype,"promoButtonText",{get:function(){return(0,c.hw)("{price} For {amount} Bits",{price:(0,c.ZV)(this.props.promo.amount,{style:"currency",currency:this.props.promo.currencyCode}),amount:(0,c.ZV)(this.props.promo.bits)},"Bits--FirstTimeUserPrompt")},enumerable:!1,configurable:!0}),t}(s.Component);var V,H=(0,F.Ng)(null,(function(e){return(0,l.zH)({showCheckoutFormModal:E.X},e)}))(G),z=n(973474),Z=n(36935),q=n(963423),X=n(691177),$=function(){var e=(0,F.d4)(X.iR)===q.S.Dark;return(0,a.jsxs)(o.P,{borderBottom:!0,padding:2,children:[(0,a.jsxs)(o.P,{alignItems:k.k2.Center,textAlign:k.nO.Center,display:k.nl.Flex,flexDirection:k.bo.Row,margin:{bottom:1},children:[(0,a.jsx)(o.P,{margin:{right:1},children:(0,a.jsx)(z.L,{className:"bits-explanation__gif",src:e?"https://d3aqoihi2n8ty8.cloudfront.net/actions/party/dark/animated/100/4.gif":"https://d3aqoihi2n8ty8.cloudfront.net/actions/party/light/animated/100/4.gif",alt:(0,c.hw)("Bits Icon","BitsExplanation")})}),(0,a.jsx)(Z.hE,{size:Z.uM.Title,children:(0,c.hw)("Use Bits to support streamers","BitsExplanation")})]}),(0,c.hw)("When you use Bits in a channel, Twitch rewards the streamer and you create an exciting moment.","BitsExplanation")]})};!function(e){e.Wrapper="wrapper-test-selector",e.NewUserWrapper="user-user-wrapper-test-selector"}(V||(V={}));var Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){return this.props.shouldShowNewUserCheerUX?this.renderNewUserCheerBuyBalloon():this.renderDefaultBuyBalloon()},t.prototype.renderFirstTimeUserPrompt=function(){if(this.props.bitsOffers){var e=this.props.bitsOffers.find((function(e){return(0,U.xb)(e)}));if(e&&e.type===w.l0Y.BUNDLE&&"BitsBundleOffer"===e.__typename)return(0,a.jsx)(H,{promo:e,animateFirstTimeUserIntro:this.props.animateFirstTimeUserIntro,isShowingTutorial:this.props.isShowingTutorial,toggleShowTutorial:this.props.toggleShowTutorial,trackBitsCardInteraction:this.props.trackBitsCardInteraction,channelID:this.props.channelID||"",trackingID:this.props.trackingID,checkoutID:this.props.checkoutID,onPromoBuyClose:this.props.onPromoBuyClose,bitsBalance:this.props.bitsBalance})}return null},t.prototype.renderDefaultBuyBalloon=function(){return(0,a.jsxs)(o.P,{"data-test-selector":V.Wrapper,overflow:k.nE.Hidden,children:[this.renderDropDownMenuHeader(),(0,a.jsx)(S.Vq,{className:"get-bits-button-content",children:(0,a.jsxs)(o.P,{children:[(0,a.jsx)($,{}),this.renderFirstTimeUserPrompt(),(0,a.jsx)(_.b,{channelLogin:this.props.channelLogin||"",closeAllBits:this.props.onClose,onClose:this.props.onClose,trackBitsCardInteraction:this.props.trackBitsCardInteraction,location:L.Yl.GetBitsButtonTopNav,size:P.Z.Fullsize,hidePromos:!0,trackingID:this.props.trackingID,checkoutID:this.props.checkoutID})]})})]})},t.prototype.renderNewUserCheerBuyBalloon=function(){return(0,a.jsxs)(o.P,{"data-test-selector":V.NewUserWrapper,overflow:k.nE.Hidden,children:[this.renderDropDownMenuHeader(),(0,a.jsx)(S.Vq,{className:"get-bits-button-content",children:(0,a.jsxs)(o.P,{className:"get-bits-button-content__body",children:[(0,a.jsx)($,{}),(0,a.jsx)(_.b,{channelLogin:this.props.channelLogin||"",closeAllBits:this.props.onClose,onClose:this.props.onClose,trackBitsCardInteraction:this.props.trackBitsCardInteraction,location:L.Yl.GetBitsButtonTopNav,hidePromos:!0,size:P.Z.Smallnoscroll,shouldShowNewUserCheerUX:!0,trackingID:this.props.trackingID,checkoutID:this.props.checkoutID})]})})]})},t.prototype.renderDropDownMenuHeader=function(){var e=(0,a.jsxs)(o.P,{display:k.nl.Flex,flexDirection:k.bo.Column,justifyContent:k.A9.Center,alignItems:k.k2.Center,children:[(0,a.jsx)(o.P,{children:(0,a.jsx)(x.N,{type:b.M2.H5,color:k.Q1.Alt,bold:!0,children:(0,c.hw)("Purchase Bits","BitsMainBalloonContent")})}),(0,a.jsx)(T,{bitsBalance:this.props.bitsBalance,isLoggedIn:this.props.isLoggedIn})]}),t=(0,c.hw)("Close Menu","BitsMainBalloonContent");return(0,a.jsx)(y.D,{popoverId:"GetBitsPopover",title:e,buttonRightPrimary:{"aria-label":t,onClick:this.props.closeBalloon}})},t}(s.PureComponent),K=n(328102),Y=n.n(K),J=n(110414),ee=n(82984),te=n(327649),ne=n.n(te),ie=(0,d.U)({name:"GetBitsButton",category:"monetization"}),re=ie.Available,ae=ie.Unavailable,oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUserClickFirstTimePurchaseDiscount=function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:if(e=this.props.bitsUserSettings,t=e&&e.firstCheerTutorial||{hasAbandoned:!1,hasSkipped:!1},!this.props.data.currentUser)return c.vF.errorAndReport(new Error("Failed to set bits user settings"),"Failed to set bits user settings."),[2];n={setBitsUserSettings:{__typename:"SetBitsUserSettingsPayload",currentUser:{__typename:"User",id:this.props.data.currentUser.id,bitsUserSettings:{__typename:"BitsUserSettings",firstCheerTutorial:(0,r.__assign)((0,r.__assign)({__typename:"FirstCheerTutorial"},t),{hasAbandoned:!0})}}}},this.trackBitsCardInteraction(L.N2.NewUserFirstTimePurchaseDiscountClick),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.setBitsUserSettings((0,p.De)({abandonedFirstCheerTutorial:!0},n))];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),(0,m.nF)()?c.vF.warn("Failed to set bits user settings."):c.vF.errorAndReport(i,"Failed to set bits user settings."),[3,4];case 4:return[2]}}))}))},t.trackBitsCardInteraction=function(e,n){var i={actionName:e,trackingId:t.props.trackingId,checkoutId:t.props.checkoutId,sessionId:t.props.sessionId,actionType:n&&n.actionType,emoteType:n&&n.emoteType,emoteLevel:n&&n.emoteLevel,location:t.props.trackingLocation||L.Yl.GetBitsButtonTopNav,displayedBalance:t.props.bitsBalance||0};(0,L.UK)(i)},t.onClose=function(){(0,J.Y)(t.props.bitsUserState,t.props.bitsUserSettings)&&t.trackBitsCardInteraction(L.N2.NewUserCloseTutorial),t.props.closeBalloon&&t.props.closeBalloon()},t.onPromoBuyClose=function(e){(0,f.qh)(e,(function(){t.props.data&&t.props.data.refetch()}))},t}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=null;return this.props.error?e=(0,a.jsx)(ae,{}):this.props.loading||(e=(0,a.jsx)(re,{})),this.props.loading?(0,a.jsx)(o.P,{padding:{y:5},"data-a-target":"get-bits-button-content-loading",children:(0,a.jsx)(g.d,{})}):(0,J.Y)(this.props.bitsUserState,this.props.bitsUserSettings)?(0,a.jsxs)(o.P,{padding:2,children:[e,(0,a.jsx)(h.B,{trackBitsCardInteraction:this.trackBitsCardInteraction,onUserClickFirstTimePurchaseDiscount:this.onUserClickFirstTimePurchaseDiscount})]}):(0,a.jsxs)(v.nW,{channelLogin:this.props.channelLogin,children:[e,(0,a.jsx)(Q,{bitsOffers:this.props.bitsOffers,bitsBalance:this.props.bitsBalance,isLoggedIn:this.props.isLoggedIn,isShowingTutorial:this.props.isShowingTutorial,animateFirstTimeUserIntro:this.props.animateFirstTimeUserIntro,channelID:this.props.channelID,trackingID:this.props.trackingId,checkoutID:this.props.checkoutId,channelLogin:this.props.channelLogin,toggleShowTutorial:this.props.toggleShowTutorial,onClose:this.onClose,trackBitsCardInteraction:this.trackBitsCardInteraction,onPromoBuyClose:this.onPromoBuyClose,shouldShowNewUserCheerUX:(0,J.b)(this.props.bitsUserState,this.props.bitsUserSettings),closeBalloon:this.props.closeBalloon})]})},t}(s.Component),se=(0,l.Zz)((0,ee.W)("GetBitsButtonContent"),(0,u._v)(Y(),{name:"setBitsUserSettings"}),(0,u._v)(ne(),{props:function(e){var t,n,i,r,a,o;return e.data&&e.data.user&&e.data.user.cheer&&(n=e.data.user.id||void 0),e.data&&e.data.currentUser?(r=e.data.currentUser.bitsBalance||void 0,i=e.data.currentUser.bitsOffers&&e.data.currentUser.bitsOffers.reduce((function(e,t){return t&&e.push(t),e}),[])||void 0,a=e.data.currentUser.bitsUserSettings||void 0,o=e.data.currentUser.bitsUserState||void 0):e.data&&e.data.bitsOffers&&(i=e.data.bitsOffers),{loading:!(!e.data||!e.data.loading),bitsOffers:i,bitsBalance:r,channelID:n,bitsUserSettings:a,bitsUserState:o,data:e.data,error:null===(t=e.data)||void 0===t?void 0:t.error}},options:function(e){var t;return{variables:{login:null!==(t=e.channelLogin)&&void 0!==t?t:"",withChannel:!!e.channelLogin,isLoggedIn:e.isLoggedIn}}}}))(oe)},110414:function(e,t,n){"use strict";n.d(t,{Y:function(){return a},b:function(){return r}});var i=n(267924),r=function(e,t){return!(!t||!t.firstCheerTutorial||t.firstCheerTutorial.hasSkipped||e!==i.vks.NEW_USER)},a=function(e,t){return!(!t||!t.firstCheerTutorial||t.firstCheerTutorial.hasAbandoned||t.firstCheerTutorial.hasSkipped||e!==i.vks.NEW_USER)}},800962:function(e,t,n){"use strict";n.d(t,{Fu:function(){return l},N5:function(){return c},OO:function(){return s},OZ:function(){return o},WK:function(){return a}});var i=n(337930),r=n(478260),a="https://static-cdn.jtvnw.net/subs-image-assets/valentines-day-2023-bits-themedpin-bg.png",o=function(){return(0,i.fX)("project_pixie_one")},s=function(){return"treatment"===r.x2.experiments.__hardcodedStaleExperiment("project_pixie_two","control")},l=function(){var e=new Image(25,25);return e.src="https://static-cdn.jtvnw.net/subs-image-assets/subtember2024-cheer-intro-bits-matching-subbie-asset.png",[e]},c=function(){var e=new Image(20,20);return e.src="https://static-cdn.jtvnw.net/subs-image-assets/valentines-day-2024-bits-heart.png",[e]}},651342:function(e,t,n){"use strict";n.d(t,{Ov:function(){return S},lv:function(){return P},nK:function(){return _},se:function(){return N}});var i=n(331635),r=n(474848),a=n(973421),o=n.n(a),s=n(296540),l=n(415044),c=n(868238),d=n(478260),u=n(928778),p=n(309759),f=n(982821),m=n(503472),h=n(456450),g=n(131883),v=n(397568),k=n(816280),x=n.n(k),b=n(906435),y=n.n(b),S="emoteAnimationsEnabled",w=(0,v.q)("EmoteAnimationsSettingContext",{setValue:function(){return null},value:!0}),_=w.context,P=w.withContext,C=function(e){function t(t){var n=e.call(this,t)||this;return n.setValue=function(e){if(n.setState({localOverride:e}),d.IG.set(S,e),n.props.isLoggedIn){var t=(0,i.__assign)((0,i.__assign)({},(0,m.AR)({isEmoteAnimationsEnabled:e})),{optimisticResponse:{setEmoteAnimationsEnabled:{__typename:"SetEmoteAnimationsEnabledPayload",isEmoteAnimationsEnabled:e}},update:function(t){var n;try{n=t.readQuery({query:y()})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=o()(n,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e}));t.writeQuery({query:y(),data:i})}}});n.props.setEmoteAnimations(t)}},n.state={},n}return(0,i.__extends)(t,e),t.prototype.render=function(){return(0,r.jsx)(_.Provider,{value:{setValue:this.setValue,value:this.value},children:this.props.children})},t.prototype.componentDidUpdate=function(e){var t,n,i;if(this.hasData(this.props)&&!this.hasData(e)){var r=null===(i=null===(n=null===(t=this.props.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.chatUISettings)||void 0===i?void 0:i.isEmoteAnimationsEnabled;null!=r?d.IG.set(S,r):this.setValue(this.value)}},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(t.prototype,"value",{get:function(){var e,t,n;if(void 0!==this.state.localOverride)return this.state.localOverride;var i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.chatUISettings)||void 0===n?void 0:n.isEmoteAnimationsEnabled;return null!=i?i:d.IG.get(S,!0)},enumerable:!1,configurable:!0}),t}(s.Component);var N=(0,c.Zz)((0,l.Ng)((function(e){return{isLoggedIn:(0,g.M3)(e)}})),(0,u._v)(y(),{skip:function(e){return!e.isLoggedIn}}),(0,p.n)((function(e){var t,n;return{query:y(),topic:(0,h.ew)((null===(n=null===(t=e.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==f.PD.UserPreferencesEmoteAnimations},type:f.PD.UserPreferencesEmoteAnimations,mutator:function(e,t){return t=o()(t,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e.new_value}))}}})),(0,u._v)(x(),{name:"setEmoteAnimations"}))(C)},917602:function(e,t,n){"use strict";n.d(t,{F:function(){return d}});var i=n(331635),r=n(474848),a=n(296540),o=n(415044),s=n(963423),l=n(691177),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.defaultRes,e.sources),n=(e.darkModeEnabled,(0,i.__rest)(e,["defaultRes","sources","darkModeEnabled"])),a=this.props.darkModeEnabled?t.dark:t.light,o=Object.keys(a);delete n.dispatch;var s=(0,i.__assign)((0,i.__assign)({},n),{src:a[this.props.defaultRes||o[0]],srcSet:o.map((function(e){return"".concat(a[e]," ").concat(e)})).join(",")});return(0,r.jsx)("img",(0,i.__assign)({},s,{onLoad:this.props.onLoad}))},t}(a.Component);var d=(0,o.Ng)((function(e){return{darkModeEnabled:(0,l.iR)(e)===s.S.Dark}}))(c)},971686:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var i=n(345029),r=n(211027);function a(e){return(e===r.nk.ChannelSub||e===r.nk.ChannelSubCustom||e===r.nk.ChannelSubStandardGift||e===r.nk.ChannelSubCommunityGift||e===r.nk.Turbo||e===r.nk.BitsBundle)&&(0,i.H7)()}},364539:function(e,t,n){"use strict";n.d(t,{$_:function(){return l},BE:function(){return s},RM:function(){return c},VG:function(){return i},i8:function(){return r}});var i,r,a=n(478260),o=n(433086);function s(e){a.x2.tracking.__track_SSRMigrationFixme("item_click",{section:e.section,item_subsection:e.item_subsection,category:e.category,item_page:e.item_page})}function l(e){a.x2.tracking.__track_SSRMigrationFixme("item_display",{section:e.section,item_subsection:e.item_subsection,category:e.category,item_page:e.item_page})}function c(e){return(0,o.W)(o.y.PlayLuna,{campaign_name:e})}!function(e){e.GameDirectory="presto_game_directory"}(i||(i={})),function(e){e.Launch="launch"}(r||(r={}))},80182:function(e,t,n){"use strict";n.d(t,{M:function(){return S}});var i=n(331635),r=n(474848),a=n(472571),o=n(959340),s=n(564368),l=n(679863),c=n(424131),d=n(14668),u=n(903689),p=n(368972),f=n(246942),m=n.n(f),h=n(706411),g=n.n(h),v=n(296540),k=n(478260),x=n(407310),b=n(704076),y="".concat("Alt","+").concat("P"),S=function(e){var t=e.hideKeyboardShortcut,n=(0,a.p)(),u=n.anchorProps,p=n.dialogProps,f=n.close,h=(0,b.bB)().targets,S=(0,v.useRef)(null),_=Object.values(h.global),P=Object.values(h.page),C=x.j.os.isMacOS();return(0,v.useEffect)((function(){var e=y.toLowerCase();return g().bind(e,(function(e){var t;e.preventDefault();var n,i=S.current;i&&(null!==(t=(n=i)?n.querySelector('button:not([disabled]), a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)'):null)&&void 0!==t?t:i).focus()})),function(){g().unbind(e)}}),[]),(0,r.jsxs)(o.P,{ref:S,display:"flex",alignItems:"center",className:m()({"skip-to-dropdown":!0,"is-dialog-visible":p.show}),children:[(0,r.jsxs)(s.$n,(0,i.__assign)({variant:s.VQ.Secondary,dropdown:!0,"aria-keyshortcuts":"alt+p",title:t?(0,k.hw)("Menu for skipping to content","SkipToDropdown"):(0,k.hw)("Menu for skipping to content ({keyboardShortcut})",{keyboardShortcut:y},"SkipToDropdown")},u,{children:[(0,k.hw)("Skip to...","SkipToDropdown"),!t&&(0,r.jsxs)(o.P,{display:"flex",margin:{left:.5},style:{gap:"calc(var(--space-05) / 2)"},children:[(0,r.jsx)(l.M,{children:C?"â¥":"Alt"}),(0,r.jsx)(l.M,{children:"P"})]})]})),(0,r.jsxs)(c.n,(0,i.__assign)({},p,{disableReturnFocusAfterClose:!0,onRequestClose:function(e){var t;void 0!==e.key&&"Escape"!==e.key||(null===(t=p.anchorRef)||void 0===t||t.focus(),f())},"aria-label":(0,k.hw)("Skip to content on the page","SkipToDropdown"),children:[_.length>0&&(0,r.jsx)(w,{title:(0,k.hw)("Global","SkipToDropdown"),targets:_,onItemClick:p.onRequestClose}),_.length>0&&P.length>0&&(0,r.jsx)(d.m,{}),P.length>0&&(0,r.jsx)(w,{title:(0,k.hw)("Page Content","SkipToDropdown"),targets:P,onItemClick:p.onRequestClose})]}))]})},w=function(e){var t=e.targets,n=e.title,i=e.onItemClick;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.x,{children:n}),t.map((function(e){var t="#".concat(e.id);return(0,r.jsx)(p.i,{figure:{icon:e.icon},linkTo:t,renderLink:function(e){var n=e.className,a=e.children;return(0,r.jsx)("a",{className:n,href:t,onClick:i,children:a})},children:e.label},e.id)}))]})}},704076:function(e,t,n){"use strict";n.d(t,{$7:function(){return m},bB:function(){return f}});var i=n(474848),r=n(296540),a=n(397568),o=n(331635),s=n(532968),l=function(e,t){var n,i;switch(t.type){case"add":return(0,o.__assign)((0,o.__assign)({},e),((n={})[t.section]=function(e,t){var n;return(0,o.__assign)((0,o.__assign)({},e),((n={})[t.id]=t,n))}(e[t.section],t.target),n));case"remove":return(0,o.__assign)((0,o.__assign)({},e),((i={})[t.section]=function(e,t){if(!e[t])return e;var n=(0,o.__assign)({},e);return delete n[t],n}(e[t.section],t.id),i));default:(0,s.x)(t)}},c=function(){},d={targets:{global:{},page:{}},actions:{addTarget:c,removeTarget:c}},u=(0,a.q)("SkipToContext",d),p=u.context,f=(u.withContext,function(){return(0,r.useContext)(p)}),m=function(e){var t=e.children,n=function(e){var t=(0,r.useReducer)(l,e),n=t[0],i=t[1],a=(0,r.useMemo)((function(){return function(e){return{addTarget:function(t,n){e({type:"add",section:t,target:n})},removeTarget:function(t,n){e({type:"remove",section:t,id:n})}}}(i)}),[]);return{targets:n,actions:a}}(d.targets);return(0,i.jsx)(p.Provider,{value:n,children:t})}},79923:function(e,t,n){"use strict";n.d(t,{TF:function(){return i},R8:function(){return D},Rs:function(){return w},Bn:function(){return _}});var i,r=n(331635),a=n(474848),o=n(368972),s=n(959340),l=n(914421),c=n(79004),d=n(723874),u=n(324602),p=n(903689),f=n(14668),m=n(478260),h=n(718059),g=n(959385),v=n(345029),k=n(784351),x=n(253762),b=n(433086),y=["US","AT","CA","DE","ES","FR","IT","PL","NL","UK"];!function(e){e.TryPrimeLink="top-nav__try-prime-link",e.GiftCardLink="top-nav__go-giftcard-link",e.GoTurboLink="top-nav__go-turbo-link",e.DownloadLink="top-download-link",e.DropdownStoreLink="top-nav__dropdown-store-link",e.DropdownDesktopLink="top-nav__dropdown-desktop-link",e.PrivacyCenter="top-nav__privacy-center-link",e.SafetyCenter="top-nav__safety-center-link",e.LunaLink="top-nav__luna-link"}(i||(i={}));var S="https://www.twitch.tv/p/giftcard",w=function(){return(0,m.hw)("Safety Center","TopNav")},_=function(){return(0,m.hw)("Turbo","TopNav")},P=function(e){if(!e)return S;var t="twitch_gift_card_url_"+(null==e?void 0:e.toLowerCase()),n=m.Zn.get(t,S);return n||S},C=function(e){e||(0,b.W)(b.y.ThreeDot)()},N=function(e,t){return e.label.localeCompare(t.label,m.x2.intl.getLanguageCode()||void 0,{sensitivity:"base"})},T=function(e){var t=e.options;return(0,a.jsx)(a.Fragment,{children:t.sort(N).map((function(e){return(0,a.jsx)(o.i,(0,r.__assign)({},e),e.label)}))})},D=function(e){var t,n,o=e.countryCode,S=e.languageCode,w=(0,m.hw)("More Options","TopNav"),N=[{targetBlank:!0,linkTo:"https://www.twitch.tv/p/about","data-a-target":"about-link",label:(0,m.hw)("About","TopNav"),onClick:(0,b.W)(b.y.About)},{targetBlank:!0,linkTo:"http://twitchadvertising.tv/","data-a-target":"advertisers-link",label:(0,m.hw)("Advertisers","TopNav"),onClick:(0,b.W)(b.y.Advertisers)},{targetBlank:!0,linkTo:"https://blog.twitch.tv/","data-a-target":"blog-link",label:(0,m.hw)("Blog","TopNav"),onClick:(0,b.W)(b.y.Blog)},{targetBlank:!0,linkTo:"https://dev.twitch.tv/","data-a-target":"developers-link",label:(0,m.hw)("Developers","TopNav"),onClick:(0,b.W)(b.y.Developers)},{targetBlank:!0,linkTo:"/downloads","data-a-target":"desktop-link-dropdown","data-test-selector":i.DropdownDesktopLink,label:(0,m.hw)("Download Apps","TopNav"),onClick:(0,b.W)(b.y.GetDesktop2)},{targetBlank:!0,linkTo:"https://www.igdb.com/?utm_source=Twitch&utm_campaign=igdb_three_dot_menu_link","data-a-target":"idgb-link",label:(0,m.hw)("IGDB","TopNav"),onClick:(0,b.W)(b.y.IGDB)},{targetBlank:!0,linkTo:"https://www.twitch.tv/jobs","data-a-target":"jobs-link",label:(0,m.hw)("Jobs","TopNav"),onClick:(0,b.W)(b.y.Jobs)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/partners","data-a-target":"partners-link",label:(0,m.hw)("Partners","TopNav"),onClick:(0,b.W)(b.y.Partners)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/press","data-a-target":"press-link",label:(0,m.hw)("Press","TopNav"),onClick:(0,b.W)(b.y.Press)}],D={targetBlank:!0,linkTo:"https://www.twitch.tv/store","data-a-target":"store-link-dropdown","data-test-selector":i.DropdownStoreLink,label:(0,m.hw)("Loot Cave - Merch Store","TopNav"),onClick:(0,b.W)(b.y.Store2)},j=(n=null!==(t=(0,v.If)())&&void 0!==t?t:"",y.includes(n)?{targetBlank:!0,linkTo:"https://luna.amazon.com/?g=web&ref=tmp_twitch_topnav","data-a-target":"luna-link-dropdown","data-test-selector":i.LunaLink,label:"Luna",onClick:(0,b.W)(b.y.Luna)}:null),I={targetBlank:!0,linkTo:"https://link.twitch.tv/twitchartists",label:(0,m.hw)("Music on Twitch","TopNav"),onClick:(0,b.W)(b.y.TwitchMusic)},B={targetBlank:!0,linkTo:"https://www.twitch.tv/turbo","data-a-target":"turbo-link",label:_(),onClick:(0,b.W)(b.y.Turbo)};(m.Zn.get("enable_localized_twitch_music_link",!1)||"en"===S)&&N.push(I);var O={targetBlank:!0,linkTo:"https://www.twitch.tv/p/giftcard",label:(0,m.hw)("Gift Card","TopNav"),onClick:(0,b.W)(b.y.GiftCard)};return(0,a.jsx)(s.P,{display:l.nl.Flex,fullHeight:!0,alignItems:l.k2.Center,padding:{x:1},children:(0,a.jsxs)(k.U,{onToggle:C,tooltipLabel:w,hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{placement:"bottom-start"}},children:[(0,a.jsx)(c.a2,{icon:d.G,"aria-label":w,"data-a-target":"ellipsis-button"}),(0,a.jsx)(u.fK,{size:u.$V.Small,"data-a-target":"overflow-menu",children:(0,a.jsx)(g.Vq,{className:"top-nav__overflow-menu",children:(0,a.jsxs)(s.P,{padding:1,children:[(0,a.jsx)(p.x,{children:(0,m.hw)("General","TopNav")}),(0,a.jsx)(T,{options:(0,r.__spreadArray)((0,r.__spreadArray)([],N,!0),[D,j,(0,r.__assign)((0,r.__assign)({},O),{linkTo:P(o)}),B],!1).filter((function(e){return!!e}))}),(0,a.jsx)(f.m,{}),(0,a.jsx)(p.x,{children:(0,m.hw)("Help & Legal","TopNav")}),(0,a.jsx)(T,{options:(0,x.IT)()}),(0,a.jsx)(h.K,{name:"privacy_center",children:(0,a.jsx)(T,{options:(0,x.hj)()})}),(0,a.jsx)(T,{options:(0,x.RT)()})]})})})]})})}},546593:function(e,t,n){"use strict";n.d(t,{k3:function(){return Nn},b$:function(){return Mn}});var i,r,a=n(331635),o=n(474848),s=n(959340),l=n(914421),c=n(216042),d=n(70931),u=n(580357),p=n(296540),f=n(415044),m=n(868238),h=n(478260),g=n(191132),v=n(407827),k=n(928778),x=n(273701),b=n(430926),y=n(337930),S=n(105146),w=n(131883),_=n(472571),P=n(79004),C=n(486489),N=n(897120),T=n(564368),D=n(552400),j=n(632606),I=n(324602),B=n(891975),O=n(561551),F=n(267924),U=n(961420),L=n(691177),E=n(671503),R=n(557013),M=n(211027),W=n(82984),A=n(290636),G=(0,m.Zz)((0,W.W)("GetBitsButton"),(0,R.eQ)((function(e){return(0,a.__assign)({},e)})))((function(e){var t=e.channelLogin,n=e.hasTurbo,i=e.sessionId,r=e.order,c=e.offerTPLR,d=e.latencyTracking,u=(0,p.useState)({trackingId:(0,S.aq)(),checkoutId:(0,S.aq)(),isShowingTutorial:!1,animateFirstTimeUserIntro:!1}),m=u[0],g=u[1],v=(0,_.p)(),k=v.dialogProps,x=v.anchorProps,b=(0,f.wA)(),y=(0,U.QN)(w.M3),R=(0,U.QN)(L.Hb);(0,B.S)((function(){return d.reportInteractive()}));var W=(0,p.useCallback)((function(){var e=(0,S.aq)(),t=(0,S.aq)();g((function(n){return(0,a.__assign)((0,a.__assign)({},n),{animateFirstTimeUserIntro:!1,trackingId:e,checkoutId:t})})),R?((0,E.UK)({trackingId:e,checkoutId:t,sessionId:i,actionName:E.N2.BuyMain,location:E.Yl.GetBitsButtonTopNav,displayedBalance:0}),b((0,O.Hw)())):b((0,O.R_)())}),[b,R,i]),G=(0,p.useCallback)((function(){b((0,O.Hw)())}),[b]),V="treatment"===h.x2.experiments.__hardcodedStaleExperiment("kr_jp_string_test","control")?(0,h.hw)("Get Bits","Bits--GetBitsButtonV2"):(0,h.hw)("Get Bits","Bits--GetBitsButton");return(0,o.jsxs)(s.P,{display:"flex",justifyContent:"center",children:[(0,o.jsx)(D.m,{label:V,children:function(e){var t,i=(t=null==r?void 0:r.state,Boolean(t&&!M.QA.includes(t)&&c===M.nk.BitsBundle&&t!==F.dFc.THREE_D_SECURE_CHALLENGE_REQUIRED)),d=(0,h.hw)("Purchasing...","Bits--GetBitsButton"),u=(0,o.jsx)(P.a2,(0,a.__assign)({},x,{onClick:W,icon:i?(0,o.jsx)(C.k,{}):(0,o.jsx)(N.S,{}),disabled:i,"aria-label":e,"data-a-target":"top-nav-get-bits-button"}));return(0,o.jsxs)(s.P,{children:[(0,o.jsx)(s.P,{display:l.nl.Flex,breakpointLarge:{display:l.nl.Hide},children:u}),(0,o.jsx)(s.P,{display:l.nl.Hide,breakpointLarge:{display:l.nl.Flex},children:n?(0,o.jsxs)(T.$n,(0,a.__assign)({},x,{onClick:W,disabled:i,variant:T.VQ.Secondary,"data-a-target":"top-nav-get-bits-button",icon:i?void 0:N.S,children:[i&&(0,o.jsx)(C.k,{}),(0,o.jsx)(s.P,{padding:{left:i?.5:0},children:i?d:e})]})):u})]})}(V)}),(0,o.jsx)(j.A,(0,a.__assign)({},k,{show:R,popoverId:"GetBitsPopover",onRequestClose:G,size:I.$V.Large,"aria-label":V,children:(0,o.jsx)(A.J,{isLoggedIn:y,channelLogin:t,toggleShowTutorial:function(){g((function(e){return(0,a.__assign)((0,a.__assign)({},e),{isShowingTutorial:!e.isShowingTutorial,animateFirstTimeUserIntro:!0})}))},isShowingTutorial:m.isShowingTutorial,animateFirstTimeUserIntro:m.animateFirstTimeUserIntro,closeBalloon:G,sessionId:i,trackingId:m.trackingId,checkoutId:m.checkoutId})}))]})})),V=n(52548),H=n(714742),z=n(80182),Z=n(732446),q=n(792486),X=n(36935),$=n(736585),Q=n(731667),K=n(246942),Y=n.n(K),J=function(e){var t=e.activeIndicator,n=e.currentRef,i=(0,a.__rest)(e,["activeIndicator","currentRef"]),r=i.className,d=i.icon,u=i.label,p=i.linkTo,f=i.onClick,m=i.showLeftBorder,h=i.targetBlank,g=r||Y()({"navigation-link":!0,active:!!t});return(0,o.jsxs)(o.Fragment,{children:[m&&(0,o.jsx)(s.P,{className:"navigation-link__left-border",margin:{top:1}}),(0,o.jsxs)(s.P,{display:l.nl.Flex,fullHeight:!0,padding:{x:1},breakpointExtraLarge:{padding:{x:2}},children:[(0,o.jsx)(s.P,{display:l.nl.Flex,alignSelf:l.gB.Center,fullHeight:!0,children:(0,o.jsx)(q.M,(0,a.__assign)({linkTo:p,onClick:f,targetBlank:h,"aria-label":u,className:g},i,{children:(0,o.jsxs)("div",{ref:n&&n,children:[(0,o.jsx)(s.P,{flexDirection:l.bo.Column,display:l.nl.Hide,breakpointSmall:{display:l.nl.Flex},children:(0,o.jsx)(c.S,{fontSize:l.Z4.Size4,breakpointExtraLarge:{fontSize:l.Z4.Size3},children:(0,o.jsx)(X.hE,{size:X.uM.Title,children:u})})}),d&&(0,o.jsx)(s.P,{padding:{x:1},display:l.nl.Flex,"aria-label":u,breakpointSmall:{display:l.nl.Hide},children:(0,o.jsx)($.cv,{align:$.HX.Center,direction:$.n5.Bottom,label:u,children:(0,o.jsx)(Q.t,{asset:d,height:20,width:20})})})]})}))}),(0,o.jsx)(s.P,{className:"navigation-link__indicator-container",children:t})]})]})},ee=n(759369),te=n(364539),ne=n(433086);!function(e){e[e.Following=1]="Following",e[e.Browse=2]="Browse",e[e.None=5]="None",e[e.Presto=8]="Presto"}(i||(i={})),function(e){e.BrowseLink="top-nav__browse-link",e.FollowingLink="top-nav__following-link",e.PrestoLink="top-nav__presto-link"}(r||(r={}));var ie,re={linkTo:{pathname:"/directory/following",state:{medium:"twitch_topnav",content:"directory_following"}},onClick:(0,ne.W)(ne.y.Following),link:i.Following,"data-a-target":"following-link","data-test-selector":r.FollowingLink,icon:ee.t.FollowHollow},ae={linkTo:{pathname:"/directory",state:{medium:"twitch_topnav",content:"directory_games"}},onClick:(0,ne.W)(ne.y.Browse),link:i.Browse,"data-a-target":"browse-link","data-test-selector":r.BrowseLink,icon:ee.t.Browse},oe={linkTo:"https://www.amazon.com/luna",link:i.Presto,targetBlank:!0,onClick:(0,te.RM)(te.i8.Launch),className:"top-nav__external-link","data-a-target":"try-presto-link","data-test-selector":r.PrestoLink},se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeIndicatorTransform:""},t.containerRef=null,t.indicatorRef=null,t.linksRef=Array(Object.keys(i).length).fill(null),t.getActiveLink=function(e){var t=i.None;return e.startsWith("/directory")&&(t=i.Browse,e.startsWith("/directory/following")&&(t=i.Following)),t},t.computeStyles=function(){var e=t.linksRef[t.getActiveLink(t.props.location.pathname)],n=t.linksRef.find((function(e){return null!==e}));if(!(n&&e&&t.indicatorRef&&t.containerRef))return"";var i=t.indicatorRef.getBoundingClientRect(),r=i.left-t.containerRef.getBoundingClientRect().left+n.getBoundingClientRect().left,a="scaleX(".concat(i.width/e.clientWidth,")"),o="translateX(".concat(r-e.offsetLeft,"px)");return"".concat(o," ").concat(a)},t.animateSelection=function(e){t.setState({activeIndicatorTransform:e},(function(){t.ensureLayoutReflow(),t.setState({activeIndicatorTransform:""})}))},t.ensureLayoutReflow=function(){t.containerRef&&t.containerRef.scrollTop},t.setContainerRef=function(e){t.containerRef=e},t.setIndicatorRef=function(e){t.indicatorRef=e},t.setRef=function(e){return function(n){t.linksRef[e]=n}},t.getActiveIndicator=function(e){if(t.getActiveLink(t.props.location.pathname)===e)return(0,o.jsx)("div",{className:"navigation-link__active-indicator",style:{transform:t.state.activeIndicatorTransform},ref:t.setIndicatorRef})},t.getBrowseLink=function(){return(0,a.__assign)((0,a.__assign)({},ae),{label:(0,h.hw)("Browse","TopNav")})},t.getFollowLink=function(){return t.props.user?(0,a.__assign)((0,a.__assign)({},re),{label:(0,h.hw)("Following","TopNav")}):null},t.getPrestoLink=function(){return t.props.hasPresto?(0,a.__assign)((0,a.__assign)({},oe),{label:(0,h.hw)("Discover Luna","TopNav")}):null},t}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=this,t=[this.getFollowLink(),this.getBrowseLink(),this.getPrestoLink()].filter((function(e){return null!==e})).map((function(t){if(t){var n=t.link;return(0,o.jsx)(J,(0,a.__assign)({activeIndicator:e.getActiveIndicator(n),currentRef:e.setRef(n)},t),n)}}));return(0,o.jsx)("div",{ref:this.setContainerRef,children:(0,o.jsx)(s.P,{display:l.nl.Flex,fullHeight:!0,justifyContent:l.A9.Between,flexDirection:l.bo.Row,children:t})})},t.prototype.getSnapshotBeforeUpdate=function(e){return this.getActiveLink(this.props.location.pathname)!==this.getActiveLink(e.location.pathname)?this.computeStyles():null},t.prototype.componentDidUpdate=function(e,t,n){n&&this.animateSelection(n)},t}(p.Component),le=(0,Z.y)(se),ce=n(79923),de=n(554372),ue=n(303621),pe=n(746442),fe=n(411547),me=n(216378),he=n(882439),ge=n(650839),ve=n(784351);!function(e){e.PrimeTrackingButtonWrapper="test_selector_prime_tracking_button_wrapper"}(ie||(ie={}));var ke,xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverTimer=0,t.onMouseEnter=function(e){t.clearTimeout(),t.hoverTimer=setTimeout((function(){t.props.onHover&&t.props.onHover(e)}),200)},t.onMouseLeave=function(){t.clearTimeout()},t.onClick=function(e){t.props.onClick&&t.props.onClick(e),t.clearTimeout()},t.clearTimeout=function(){t.hoverTimer&&(clearTimeout(t.hoverTimer),t.hoverTimer=0)},t}return(0,a.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.clearTimeout()},t.prototype.render=function(){return(0,o.jsx)("div",{"data-test-selector":ie.PrimeTrackingButtonWrapper,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick,children:this.props.children})},t}(p.Component),be=xe,ye=n(656910),Se=n(963423),we=n(485694),_e=(0,W.W)("PrimeOfferHeader",{autoReportInteractive:!0})((function(e){var t=(0,h.hw)("Close Menu","PrimeOfferHeader"),n=(0,h.hw)("Prime Gaming Logo","PrimeOfferHeader"),i=(0,h.hw)("{offerCount, plural, one {{offerCount} New Item} other {{offerCount} New Items}}",{offerCount:e.numOfUnseenOffers},"PrimeOfferHeader"),r=(0,U.QN)(L.iR)===Se.S.Dark?we.ZU.White:we.ZU.Black;return(0,o.jsx)(s.P,{className:"prime-popover-header",children:(0,o.jsx)(ye.D,{popoverId:"PrimeOfferPopover",buttonLeftPrimary:{"aria-label":n,icon:(0,o.jsx)(we.oy,{color:r,width:112,height:30}),overlay:!0},title:e.numOfUnseenOffers>0?{title:i}:void 0,buttonRightPrimary:{"aria-label":t,onClick:e.closeCrownMenu}})})})),Pe=n(627561),Ce=n(907666),Ne=n(305528),Te=n(588702),De=n(727234),je=n(959385),Ie=n(705104),Be=n(198640),Oe=n(982821),Fe=n(345029),Ue=n(456450),Le=n(312663),Ee=n(146065),Re=n(957573),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.render=function(){return(0,o.jsx)(T.$n,{"data-a-target":"prime-offers-loot-page-button",icon:Ee.N,linkTo:(0,Re.xo)(h.$W.tryPrimeURI,{ref_:"CGTS"}),fullWidth:!0,targetBlank:!0,children:(0,h.hw)("Start Now","PrimeLootPageButton")})},t}(p.Component),We=(0,W.W)("PrimeLootPageButton",{autoReportInteractive:!0})(Me),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.render=function(){return this.props.linkToLootPage?(0,o.jsxs)(s.P,{className:"prime-empty","data-a-target":"prime-offers-empty",margin:2,children:[(0,o.jsx)(s.P,{textAlign:l.nO.Center,children:(0,o.jsx)(we.oy,{width:330,height:150,color:we.ZU.Purple})}),(0,o.jsx)(s.P,{padding:{bottom:1},textAlign:l.nO.Center,children:(0,o.jsx)(Le.N,{fontSize:l.Z4.Size4,children:(0,h.hw)("View all Prime Gaming offers, even those you've dismissed.","PrimeEmpty")})}),(0,o.jsx)(We,{})]}):null},t}(p.Component),Ge=(0,W.W)("PrimeEmpty",{autoReportInteractive:!0})(Ae),Ve=n(97774),He=n(953838),ze=n(902418),Ze=n(75331),qe=n.n(Ze),Xe=n(954233),$e=n(503472),Qe=n(407310),Ke=n(783321),Ye=n(476748),Je=n(763560),et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){(0,Ye.Rv)({offerID:t.props.offerID,externalURL:t.props.externalURL,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData},t.props.offerType,t.props.isFGWPOfferOnODP),t.props.claimCallback&&t.props.offerType!==Je.p4.EXTERNAL_OFFER&&t.props.claimCallback(e)},t.onHover=function(){(0,Ye.tG)({offerID:t.props.offerID,externalURL:t.props.externalURL,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData},t.props.offerType)},t}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.orientation||Je.pG.Default,t=(0,Je.RN)(e),n=(0,Je.hT)("prime-claim-button",e);return(0,o.jsx)(s.P,{fullWidth:!0,className:n,display:t?l.nl.Block:l.nl.InlineBlock,children:this.renderClaimButton()})},t.prototype.renderClaimButton=function(){var e=this.props,t=e.externalURL,n=e.claiming,i=e.offerID,r=this.getButtonText();if(t&&this.props.offerType!==Je.p4.DIRECT_ENTITLEMENT)return(0,o.jsx)(be,{onHover:this.onHover,children:(0,o.jsx)(T.$n,{fullWidth:!0,linkTo:t,targetBlank:!0,onClick:this.onClick,"data-a-target":"prime-claim-button",children:r})});if("treatment"===h.x2.experiments.__hardcodedStaleExperiment("fgwpClaimingOnPGHQ","control")&&this.props.offerType===Je.p4.DIRECT_ENTITLEMENT)return(0,o.jsx)(be,{onHover:this.onHover,children:(0,o.jsx)(T.$n,{fullWidth:!0,linkTo:"https://gaming.amazon.com/loot?pagecontext=".concat(i),targetBlank:!0,onClick:this.onClick,"data-a-target":"prime-claim-button",children:r})});var a=(0,o.jsx)(be,{onHover:this.onHover,children:(0,o.jsx)(T.$n,{fullWidth:!0,state:n?T.w.Loading:T.w.Default,disabled:n,onClick:this.onClick,"data-a-target":"prime-claim-button",children:r})});return(0,o.jsx)(s.P,{position:l.yX.Relative,children:a})},t.prototype.getButtonText=function(){var e=(0,h.hw)("Claim Game","PrimeClaimButton");switch(this.props.offerType){case Je.p4.EXTERNAL_OFFER:return this.props.isFGWPOfferOnODP?e:this.props.ctaText?this.props.ctaText:(0,h.hw)("Claim","PrimeClaimButton");case Je.p4.DIRECT_ENTITLEMENT:return e;default:return(0,h.hw)("Learn More","PrimeClaimButton")}},t}(p.Component),tt=(0,m.Zz)((0,W.W)("PrimeClaimButton"))(et),nt=n(522777),it=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleShowDescription=function(){var e=!n.state.showDescription;(0,Ye.lS)(e,{offerID:n.props.offerID,externalURL:n.props.externalURL,hasPrime:n.props.hasPrime,index:n.props.index}),n.setState({showDescription:e})},n.onHover=function(){n.state.showDescription?(0,Ye.rk)({offerID:n.props.offerID,externalURL:n.props.externalURL,hasPrime:n.props.hasPrime,index:n.props.index}):(0,Ye.iV)({offerID:n.props.offerID,externalURL:n.props.externalURL,hasPrime:n.props.hasPrime,index:n.props.index})},n.renderVerticalDescriptionBlock=function(){return(0,o.jsx)(s.P,{className:"prime-claim-description__body",background:l.VS.Alt2,border:!0,position:l.yX.Relative,children:n.renderDescription()})},n.renderHorizontalDescriptionBlock=function(){return(0,o.jsx)(s.P,{className:"prime-claim-description__body",background:l.VS.Base,border:!0,position:l.yX.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,margin:{right:1,top:.5},overflow:l.nE.Scroll,children:n.renderDescription()})},n.renderDescription=function(){return(0,o.jsx)(s.P,{"data-a-target":"prime-claim-description-body",margin:{bottom:2},padding:1,children:(0,o.jsx)(nt.F,{children:(0,o.jsx)(qe(),{source:n.props.description||""})})})},n.state={showDescription:!1},n}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.orientation||Je.pG.Default,t=(0,Je.hT)("prime-claim-description",e),n={"data-a-target":"prime-claim-description-button",fullWidth:!0,variant:T.VQ.Secondary};return n=this.props.externalURL&&this.props.offerType===Je.p4.DIRECT_ENTITLEMENT?(0,a.__assign)((0,a.__assign)({},n),{linkTo:this.props.externalURL,onClick:(0,Ye.C_)({offerID:this.props.offerID,externalURL:this.props.externalURL,hasPrime:this.props.hasPrime,index:this.props.index}),targetBlank:!0}):(0,a.__assign)((0,a.__assign)({},n),{onClick:this.toggleShowDescription}),(0,o.jsxs)(s.P,{fullWidth:!0,className:t,margin:{top:1},children:[(0,o.jsx)(be,{onHover:this.onHover,children:(0,o.jsx)(T.$n,(0,a.__assign)({},n,{children:this.getDescriptionButtonText()}))}),this.getDescriptionBlock(e)]})},t.prototype.getDescriptionButtonText=function(){return this.state.showDescription?(0,h.hw)("Close Info","PrimeClaimDescription"):(0,h.hw)("More Info","PrimeClaimDescription")},t.prototype.getDescriptionBlock=function(e){var t=null,n=(0,Je.RN)(e);return this.state.showDescription&&(t=n?this.renderVerticalDescriptionBlock():this.renderHorizontalDescriptionBlock()),t},t}(p.Component),rt=(0,W.W)("PrimeClaimDescription",{autoReportInteractive:!0})(it),at=(0,W.W)("PrimeUpsellButton",{autoReportInteractive:!0})((function(e){var t=(0,Ye.yB)(),n=function(){var n;if(e.externalURL)return(0,Re.xo)(e.externalURL,{twitchReferral:t,ref_:e.externalReftag||Re.pb,yTwchPos:"".concat(null!==(n=e.index)&&void 0!==n?n:Re.pJ)});var i=e.externalReftag||Re.pb,r=window.location.pathname.substring(1);return(0,Re.r3)(i,r,t,"upsell")};return(0,o.jsx)(s.P,{className:"prime-upsell-button",margin:{top:2,bottom:1},children:(0,o.jsx)(be,{onHover:function(){(0,Ye.jc)({offerID:e.offerID,externalURL:n(),hasPrime:!1,index:e.index,experimentData:e.experimentData})},children:(0,o.jsx)(T.$n,{fullWidth:!0,linkTo:n(),targetBlank:!0,onClick:function(){e.trackingProperties&&(0,Ye.tZ)((0,a.__assign)((0,a.__assign)({},e.trackingProperties),{tp_refcode:t,tp_campaign:Ye.HE.TrackingAlpha,experimentData:e.experimentData})),(0,Ye.dC)({offerID:e.offerID,externalURL:n(),hasPrime:!1,index:e.index,experimentData:e.experimentData})},children:(0,h.hw)("Start Your Free Trial","PrimeUpsellButton")})})})})),ot=n(349766),st=n.n(ot),lt=(0,W.W)("PrimeInstructions")((function(e){var t=(0,Ke.IT)(st()),n=t.data,i=t.loading;p.useEffect((function(){i||e.latencyTracking.reportInteractive()}),[i,e.latencyTracking]);var r=e.orientation||Je.pG.Default,a=(0,Je.hT)("prime-claim",r),l=function(){var t=e.offerType===Je.p4.EXTERNAL_OFFER&&e.isFGWP;return(0,o.jsx)(tt,{offerType:e.offerType,offerID:e.catalogOfferID?e.catalogOfferID:e.offerID,claimCallback:e.claimCallback,claiming:e.claiming,orientation:e.orientation,externalURL:(0,Re.rW)(e.externalURL,e.index),index:e.index,isFGWPOfferOnODP:t,experimentData:e.experimentData,ctaText:e.ctaText})};return(0,o.jsxs)(s.P,{className:a,margin:{bottom:1},children:[function(){var t;return(null===(t=null==n?void 0:n.currentUser)||void 0===t?void 0:t.hasPrime)?l():(0,o.jsx)(at,{trackingProperties:e.trackingProperties,externalReftag:e.externalReftag,externalURL:(0,Re.rW)(e.externalURL,e.index),offerID:e.offerID,index:e.index,orientation:e.orientation,experimentData:e.experimentData})}(),function(){var t;return e.offerType===Je.p4.EXTERNAL_OFFER||"treatment"===h.x2.experiments.__hardcodedStaleExperiment("fgwpClaimingOnPGHQ","control")&&e.offerType===Je.p4.DIRECT_ENTITLEMENT?null:(0,o.jsx)(rt,{description:e.offerDescription,offerID:e.offerID,externalURL:(0,Re.rW)(e.externalURL,e.index),index:e.index,orientation:e.orientation,hasPrime:(null===(t=null==n?void 0:n.currentUser)||void 0===t?void 0:t.hasPrime)||!1,offerType:null==e?void 0:e.offerType})}()]})})),ct=n(734594),dt=function(e){function t(t){var n=e.call(this,t)||this;return n.getClaimInstructions=function(){return(0,o.jsx)(nt.F,{children:(0,o.jsx)(qe(),{source:n.props.claimInstructions||"",escapeHtml:!0,renderers:{Link:function(e){return(0,o.jsx)(d.Cb,{linkTo:e.href,targetBlank:!0,rel:"nofollow noopener noreferrer",underline:!1,children:e.children})}}})})},n.renderVerticalLayout=function(){return(0,o.jsx)(s.P,{className:"prime-claim-instructions prime-claim-instructions--vertical","data-a-target":"prime-claim-instructions--vertical",background:l.VS.Alt2,border:!0,padding:1,fontSize:l.Z4.Size6,children:n.getClaimInstructions()})},n.renderHorizontalLayout=function(){return(0,o.jsxs)(s.P,{fullWidth:!0,className:"prime-claim-instructions prime-claim-instructions--horizontal",margin:{top:1},children:[(0,o.jsx)(s.P,{fullWidth:!0,justifyContent:l.A9.Center,textAlign:l.nO.Center,children:(0,o.jsx)(d.Cb,{onClick:n.toggleShowDescription,underline:!1,children:n.getDescriptionButtonText()})}),n.state.showDescription&&(0,o.jsx)(s.P,{className:"prime-claim-instructions__body","data-a-target":"prime-claim-instructions--horizontal",border:!0,position:l.yX.Absolute,padding:1,background:l.VS.Alt,overflow:l.nE.Scroll,attachTop:!0,attachLeft:!0,attachRight:!0,margin:{right:1,top:.5},children:n.getClaimInstructions()})]})},n.toggleShowDescription=function(){n.setState({showDescription:!n.state.showDescription})},n.getDescriptionButtonText=function(){return n.state.showDescription?(0,h.hw)("Close Info","PrimeClaimInstruction"):(0,h.hw)("Click here for Claim Instructions","PrimeClaimInsctuction")},n.state={showDescription:!1},n}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=this.props.orientation||Je.pG.Default;return(0,Je.RN)(e)?this.renderVerticalLayout():this.renderHorizontalLayout()},t}(p.Component),ut=(0,W.W)("PrimeClaimInstructions",{autoReportInteractive:!0})(dt),pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPrimeClaimInstructions=function(){return(0,o.jsx)(ut,{claimInstructions:t.props.claimInstructions||"",orientation:t.props.orientation})},t}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=this.props.orientation||Je.pG.Default,t=(0,Je.hT)("prime-redeem",e);return(0,o.jsxs)(s.P,{className:t,children:[this.getConfirmation(e),this.getPrimeClaimInstructions()]})},t.prototype.getConfirmation=function(e){var t=(0,Je.RN)(e),n=t?1:0,i=t?3:0;return(0,o.jsx)(s.P,{display:l.nl.Flex,justifyContent:l.A9.Center,margin:{bottom:n},padding:{y:n},className:"prime-redeem__confirmation",borderRadius:Ve.Z.Medium,children:(0,o.jsx)(Le.N,{type:t?Te.M2.H4:Te.M2.H6,align:l.G4.Middle,color:l.Q1.Overlay,children:(0,o.jsxs)(s.P,{display:l.nl.InlineFlex,flexGrow:1,flexWrap:l.I4.NoWrap,alignItems:l.k2.Center,"data-test-target":"prime-redeem-check","data-a-target":"prime-redeem-check",padding:{right:i},children:[(0,o.jsx)(s.P,{margin:{right:1},display:l.nl.InlineFlex,flexGrow:1,flexWrap:l.I4.NoWrap,padding:{y:.5},alignItems:l.k2.Center,children:(0,o.jsx)(ct.i,{size:20})}),(0,h.hw)("Claimed","PrimeRedeem")]})})})},t}(p.Component),ft=(0,m.Zz)((0,W.W)("PrimeRedeem",{autoReportInteractive:!0}))(pt),mt=n(624084),ht=n.n(mt);!function(e){e.PrimeOfferGameTitle="prime-offer-game-title",e.PrimeOfferTitle="prime-offer-title",e.PrimeOffer="prime-offer",e.PrimeOfferDismissButton="prime-offer-dismiss-button",e.PrimeOfferVideo="prime-offer__video"}(ke||(ke={}));var gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={claimed:!1,claiming:!1,error:void 0,status:void 0},t.videoPlaying=!1,t.renderVerticalLayout=function(e){var n=t.props.isLast||!1,i=e.content,r=i&&i.categories&&i.categories[0]||"",a=i&&(i.subtitleSubtext||i.publisher)||"",c=vt(e.catalogOfferID);return(0,o.jsxs)(s.P,{className:"prime-offer",position:l.yX.Relative,children:[t.renderDismissButton(),(0,o.jsxs)(s.P,{"data-a-target":c,"data-test-selector":c,className:"prime-offer__data prime-offer--vertical",alignItems:l.k2.Center,display:l.nl.Block,borderBottom:!n,textAlign:l.nO.Left,position:l.yX.Relative,padding:{x:3,y:1},children:[t.renderHeader(e),t.renderOfferImageOrVideo(e.imageURL),(0,o.jsxs)(s.P,{margin:{bottom:2},children:[(0,o.jsx)(s.P,{className:"prime-offer__description",padding:{top:.5},children:(0,o.jsx)(Le.N,{type:Te.M2.P,children:r})}),(0,o.jsx)(s.P,{className:"prime-offer__publisher",children:(0,o.jsx)(Le.N,{type:Te.M2.P,color:l.Q1.Alt2,fontSize:l.Z4.Size7,children:a})})]}),t.renderRedeemUpsellOrClaimSection(e)]})]})},t.renderHorizontalLayout=function(e){var n=e.content,i=n&&n.categories&&n.categories[0]||"",r=n&&n.publisher||"";return(0,o.jsxs)(s.P,{"data-a-target":ke.PrimeOffer,"data-test-selector":ke.PrimeOffer,className:"prime-offer prime-offer--horizontal",alignItems:l.k2.Center,display:l.nl.InlineBlock,textAlign:l.nO.Left,position:l.yX.Relative,padding:{right:1,y:.5},fullWidth:!0,children:[(0,o.jsxs)(s.P,{className:"prime-offer__content",margin:{bottom:2},children:[(0,o.jsxs)(s.P,{className:"prime-offer__content__text",background:l.VS.Base,children:[(0,o.jsx)(s.P,{className:"prime-offer__publisher",children:(0,o.jsx)(Le.N,{type:Te.M2.P,color:l.Q1.OverlayAlt,fontSize:l.Z4.Size7,transform:Te.Ms.Uppercase,children:r})}),(0,o.jsxs)(s.P,{className:"prime-offer__title",alignItems:l.k2.Start,padding:{y:.5},children:[t.renderGameTitle(e),t.renderTitle(e)]}),(0,o.jsx)(s.P,{className:"prime-offer__description",children:(0,o.jsx)(Le.N,{type:Te.M2.P,color:l.Q1.Alt2,children:i})})]}),t.renderOfferImageOrVideo(e.imageURL)]}),t.renderRedeemUpsellOrClaimSection(e)]})},t.renderOfferImageOrVideo=function(e){var n,i=function(e){if(!e)return e;var t=e.split(".");return t[t.length-1]}(e);return n="mp4"===i?(0,o.jsx)("video",{preload:"auto",ref:function(e){t.offerVideo=e||void 0},loop:!0,playsInline:!0,muted:!0,autoPlay:!0,controls:Qe.j.platform.isMobile()||Qe.j.platform.isTablet(),"data-a-target":ke.PrimeOfferVideo,"data-test-selector":ke.PrimeOfferVideo,poster:"https://m.media-amazon.com/images/G/01/sm/Evergreen_Shared/crown_video_evergreen.jpg",children:(0,o.jsx)("source",{src:e,type:"video/mp4"})}):(0,o.jsx)("img",{src:e,alt:(0,h.hw)("Offer media asset","PrimeOffer")}),(0,o.jsx)(c.S,{borderRadius:Ve.Z.Medium,children:n})},t.renderRedeemUpsellOrClaimSection=function(e){var n,i,r=(null===(n=null==e?void 0:e.content)||void 0===n?void 0:n.externalURL)||"",a=(null===(i=e.content)||void 0===i?void 0:i.ctaText)||"";return e.deliveryMethod!==F.s53.EXTERNAL_OFFER&&(t.isCurrentOfferClaimed(e)||t.state.claimed)?(0,o.jsx)(ft,{claimInstructions:e.claimInstructions,orientation:t.props.orientation,toggleCrownMenu:t.props.toggleCrownMenu}):(0,o.jsx)(lt,{trackingProperties:t.props.trackingProperties,offerID:e.id,catalogOfferID:e.catalogOfferID,isFGWP:e.tags.includes("FGWP"),offerDescription:e.description,offerType:e.deliveryMethod,externalReftag:t.props.externalReftag,externalURL:r,claimCallback:t.placeOrder,claiming:t.state.claiming,index:t.props.index,orientation:t.props.orientation,toggleCrownMenu:t.props.toggleCrownMenu,experimentData:t.props.experimentData,ctaText:a})},t.placeOrder=function(e){var n;if(e.nativeEvent.stopImmediatePropagation(),t.setState({claiming:!0}),(0,Je.F6)(t.props.userData)){var i=t.props.offer.catalogOfferID,r=(0,$e.AR)({offerID:i,idempotenceKey:(0,S.k3)(),attributionChannel:JSON.stringify({eventId:"crown:".concat(i),page:"home"}),dateOverride:null===(n=(0,Je.jo)(Je.F2.DateOverride))||void 0===n?void 0:n.toString()});t.props.placeOrder(r).then((function(e){var n,i,r,a=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.placeOrder,o=null===(i=null==a?void 0:a.error)||void 0===i?void 0:i.code;if(o){var s=Je.By[o];t.setState({claiming:!1,claimed:!1,error:s})}(null===(r=null==a?void 0:a.orderInformation)||void 0===r?void 0:r[0])&&t.setState({claiming:!1,claimed:!0,error:void 0})})).catch((function(){t.setState({claiming:!1,claimed:!1,error:Je.By.UNKNOWN_ERROR})}))}},t.dismissOffer=function(){var e=t.props.offer,n=e.content,i=n&&n.externalURL||"";(0,Ye.e)({offerID:e.catalogOfferID,externalURL:i,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData}),t.props.dismissOffer(t.props.offer.catalogOfferID)},t.onDismissHover=function(){var e=t.props.offer,n=e.content,i=n&&n.externalURL||"";(0,Ye.Cv)({offerID:e.catalogOfferID,externalURL:i,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData})},t.trackImpression=function(){var e=null;t.props.offer.content&&(e=t.props.offer.content.externalURL),(0,Ye.KZ)({offerID:t.props.offer.catalogOfferID,externalURL:e||"",index:t.props.index,hasPrime:(0,Je.xg)(t.props.userData),displayWidthType:t.props.displayWidthType,experimentData:t.props.experimentData})},t}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractiveIfReady(),this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.componentDidUpdate=function(e){this.reportInteractiveIfReady(),this.offerVideo&&!this.videoPlaying&&(this.offerVideo.setAttribute("muted","muted"),this.offerVideo.play(),this.videoPlaying=!0),this.handlePrimeOfferClaimPubsubMessage(this.props.pubsubClaimMessage,e.pubsubClaimMessage)},t.prototype.reportInteractiveIfReady=function(){this.shouldReportInteractive&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.offer;if(e){var t=this.props.orientation||Je.pG.Default;return(0,Je.RN)(t)?this.renderVerticalLayout(e):this.renderHorizontalLayout(e)}return null},t.prototype.renderDismissButton=function(){return(0,Je.xg)(this.props.userData)?(0,o.jsx)(s.P,{className:"prime-offer__dismiss",margin:{top:.5},padding:{top:1,right:.5},zIndex:l.Py.Above,children:(0,o.jsx)(be,{onHover:this.onDismissHover,children:(0,o.jsx)(P.a2,{"aria-label":(0,h.hw)("Dismiss","PrimeOffer"),"data-a-target":ke.PrimeOfferDismissButton,"data-test-selector":ke.PrimeOfferDismissButton,icon:He.g,onClick:this.dismissOffer,size:ze.f.Small})})}):null},t.prototype.renderHeader=function(e){var t,n;return!!(null===(t=e.content)||void 0===t?void 0:t.ctaText)?(0,o.jsxs)(s.P,{padding:{y:.5},children:[this.renderTitle(e),this.renderSubTitle(null===(n=e.content)||void 0===n?void 0:n.shortDescription,"prime-offer__short-description")]}):(0,o.jsxs)(s.P,{padding:{y:.5},children:[this.renderGameTitle(e),this.renderTitle(e)]})},t.prototype.renderTitle=function(e){return(0,o.jsx)(s.P,{"data-a-target":ke.PrimeOfferTitle,"data-test-selector":ke.PrimeOfferTitle,className:"prime-offer__title",alignItems:l.k2.Start,display:l.nl.Flex,children:(0,o.jsx)(qe(),{className:"prime-offer__title__markdown",renderers:{root:"h4"},source:e.title||""})})},t.prototype.renderSubTitle=function(e,t){return e&&(0,o.jsx)(s.P,{"data-a-target":ke.PrimeOfferGameTitle,"data-test-selector":ke.PrimeOfferGameTitle,className:t,display:l.nl.Flex,children:(0,o.jsx)(Le.N,{color:l.Q1.Alt2,fontSize:l.Z4.Size4,children:e})})},t.prototype.renderGameTitle=function(e){var t=e.gameTitle,n=e.tags.includes("FGWP");return t&&!n?this.renderSubTitle(t,"prime-offer__game-title"):null},t.prototype.isCurrentOfferClaimed=function(e){return(e.offerEligibility||{isClaimed:!1}).isClaimed},Object.defineProperty(t.prototype,"shouldReportInteractive",{get:function(){return!this.isUserDataLoading||this.isUserDataError},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserDataLoading",{get:function(){var e=this.props.userData;return e&&e.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserDataError",{get:function(){var e=this.props.userData;return e&&e.error},enumerable:!1,configurable:!0}),t.prototype.handlePrimeOfferClaimPubsubMessage=function(e,t){if(e&&(!t||t!==e)){var n=e.type===Oe.PD.PrimeGamingOfferClaimSuccess;this.setState({claimed:n})}},t}(p.Component),vt=function(e){return"".concat(ke.PrimeOffer,"-").concat(e)},kt=(0,m.Zz)((0,k._v)(st(),{name:"userData"}),(0,k._v)(ht(),{name:"placeOrder"}),(0,W.W)("PrimeOffer"),(0,Xe.m)("PrimeOffer",{pixels:100}))(gt),xt=n(718059),bt=n(973474),yt=function(){return(0,o.jsx)(q.M,{linkTo:(0,Re.xo)(h.$W.tryPrimeURI,{ref_:"TCMHB"}),targetBlank:!0,"aria-label":(0,h.hw)("Go to Prime Gaming home page","PrimeOfferHeaderCard"),children:(0,o.jsx)(bt.L,{"data-testid":"prime-event-image",alt:(0,h.hw)("Artwork of Prime Gaming special event related games.","PrimeOfferHeaderCard"),src:"https://m.media-amazon.com/images/G/01/sm/secretlevel/165527_-_ASSET_A_-_900x240.jpg"})})},St=new Set(["FAKE-BETA-COUNTRY"]);function wt(){var e=(0,Fe.If)()||"";return""===e||St.has(e)}var _t,Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=(0,h.hw)("View all Prime Gaming offers, even those you've dismissed.","PrimeOfferHeaderCard");return(0,o.jsxs)(s.P,{borderBottom:!0,className:"prime-offer-header-card",padding:2,children:[!wt()&&(0,o.jsx)(xt.K,{name:"prime_gaming_special_event_image",children:(0,o.jsx)(s.P,{margin:{bottom:1},children:(0,o.jsx)(yt,{})})}),(0,o.jsx)(s.P,{padding:{bottom:1},children:(0,o.jsx)(Le.N,{children:e})}),(0,o.jsx)(We,{})]})},t}(p.Component),Ct=(0,W.W)("PrimeOfferHeaderCard",{autoReportInteractive:!0})(Pt),Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.orientation||Je.pG.Default,t=(0,Je.RN)(e);return(0,o.jsxs)(s.P,{className:"prime-offer-placeholder",alignItems:l.k2.Center,borderBottom:t,padding:{x:2,y:1},display:t?l.nl.Block:l.nl.InlineBlock,fullWidth:t,children:[(0,o.jsx)(s.P,{className:"prime-offer-placeholder__title",padding:{y:.5},children:(0,o.jsx)(Ne.Or,{height:20})}),(0,o.jsx)(Ne.Or,{height:160}),(0,o.jsx)(s.P,{className:"prime-offer-placeholder__description",padding:{y:.5},children:(0,o.jsx)(Ne.Or,{height:20,width:160})}),(0,o.jsx)(s.P,{className:"prime-offer-placeholder__publisher",children:(0,o.jsx)(Ne.Or,{height:20,width:80})}),(0,o.jsx)(s.P,{className:"prime-offer-placeholder__claim",margin:{top:2,bottom:1},children:(0,o.jsx)(Ne.Or,{height:40})})]})},t}(p.Component),Tt=(0,W.W)("PrimeOfferPlaceholder",{autoReportInteractive:!0})(Nt),Dt=n(853296),jt=n(471417),It=n(418460),Bt=n(705371),Ot=n(771242),Ft=n(145463),Ut=(0,W.W)("PrimeSubscriptionUpsell",{autoReportInteractive:!0})((function(e){var t=e.signedInToTwitch,n=e.hasPrime,i=(0,Ye.yB)(),r="".concat(h.$W.tryPrimeURI,"links/twitch/manage/"),a=function(){return(0,o.jsxs)(s.P,{children:[(0,o.jsxs)(s.P,{margin:{bottom:2},display:l.nl.Flex,flexDirection:l.bo.Row,gap:.5,alignItems:l.k2.Center,children:[(0,o.jsx)(Dt.i,{size:"1.5rem",fillColor:jt.jo.Success}),(0,o.jsx)(Le.N,{type:Te.M2.P,children:(0,h.hw)("Successfully linked Twitch and Amazon accounts.","PrimeSubscriptionUpsell")})]}),(0,o.jsx)(Le.N,{type:Te.M2.P,children:(0,h.hw)("To use your credit, go to a channel of your choice and select âSubscribeâ and enable âPrime Subâ.","PrimeSubscriptionUpsell")})]})},d=function(){return(0,o.jsxs)(s.P,{children:[(0,o.jsx)(Le.N,{type:Te.M2.P,children:(0,h.hw)("With Prime Gaming, you get a Twitch channel subscription to support a Twitch streamer each month. You'll unlock channel specific Subscriber perks and support your favorite Twitch streamers, all included in your Prime Membership.","PrimeSubscriptionUpsell")}),u(It.C,(0,h.hw)("Channel-specific Subscriber perks","PrimeSubscriptionUpsell")),u(Bt.t,(0,h.hw)("Exclusive chat colors and emotes","PrimeSubscriptionUpsell")),u(Ot.g,(0,h.hw)("Exclusive badges","PrimeSubscriptionUpsell"))]})},u=function(e,t){return(0,o.jsxs)(s.P,{margin:{left:1,top:2},display:l.nl.Flex,flexDirection:l.bo.Row,gap:1,children:[(0,o.jsx)(e,{}),(0,o.jsx)(Le.N,{type:Te.M2.P,children:t})]})},p=function(){var e=(0,h.hw)("Sign in to claim","PrimeSubscriptionUpsell");return(0,o.jsxs)(s.P,{children:[(0,o.jsx)(Le.N,{type:Te.M2.P,fontWeight:l.IT.Bold,margin:{bottom:.5},children:(0,h.hw)("Already an Amazon Prime member?","PrimeSubscriptionUpsell")}),(0,o.jsx)(s.P,{className:"prime-sub-crown-upsell__button",children:(0,o.jsx)(T.$n,{fullWidth:!0,"aria-label":e,linkTo:(0,Re.xo)(h.$W.tryPrimeURI,{twitchReferral:i,ref_:"CTCSSI"}),targetBlank:!0,children:e})})]})},f=function(){var e=(0,h.hw)("Link Twitch and Amazon accounts","PrimeSubscriptionUpsell");return(0,o.jsx)(s.P,{className:"prime-sub-crown-upsell__button",children:(0,o.jsx)(T.$n,{fullWidth:!0,"aria-label":e,linkTo:(0,Re.xo)(r,{twitchReferral:i,ref_:"CTCSLA"}),targetBlank:!0,children:e})})},m=function(){var e=(0,h.hw)("Explore channels","PrimeSubscriptionUpsell");return(0,o.jsx)(T.$n,{fullWidth:!0,"aria-label":e,linkTo:(0,Ft.VV)("/directory"),children:e})},g=function(){var e=(0,h.hw)("Manage linked accounts","PrimeSubscriptionUpsell");return(0,o.jsx)(T.$n,{fullWidth:!0,variant:T.VQ.Secondary,"aria-label":e,linkTo:(0,Re.xo)(r,{twitchReferral:i,ref_:"CTCSML"}),targetBlank:!0,children:e})};return(0,o.jsxs)(s.P,{className:"prime-sub-crown-upsell",margin:{top:2,right:2,left:2},children:[(0,o.jsx)(Le.N,{type:Te.M2.H4,children:(0,h.hw)("Claim your Twitch channel sub","PrimeSubscriptionUpsell")}),(0,o.jsx)(c.S,{margin:{top:.5},borderRadius:Ve.Z.Medium,children:(0,o.jsx)(bt.L,{src:"https://m.media-amazon.com/images/G/01/sm/twitch-hub/twitch-art-official-med-cropped2x.png",alt:(0,h.hw)("Twitch logo with controller","PrimeSubscriptionUpsell")})}),(0,o.jsx)(s.P,{margin:{top:2,bottom:2},children:t&&n?a():d()}),(0,o.jsx)(s.P,{margin:{bottom:2},children:t?n?(0,o.jsxs)(s.P,{children:[(0,o.jsx)(s.P,{className:"prime-sub-crown-upsell__button",margin:{bottom:1},children:m()}),g()]}):f():p()})]})})),Lt=n(657659),Et=(0,W.W)("ExplorePrimeButton",{autoReportInteractive:!0})((function(e){var t=(0,Ye.yB)(),n=function(){if(e.externalURL)return(0,Re.xo)(e.externalURL,{twitchReferral:t,ref_:e.externalReftag||Re.lN});var n=e.externalReftag||Re.lN,i=window.location.pathname.substring(1);return(0,Re.r3)(n,i,t,"explore")};return(0,o.jsx)(s.P,{className:"explore-prime-button",margin:{top:2,bottom:1},children:(0,o.jsx)(be,{onHover:function(){(0,Ye.jc)({externalURL:n(),hasPrime:!1,experimentData:e.experimentData})},children:(0,o.jsxs)(T.$n,{fullWidth:!0,linkTo:n(),targetBlank:!0,onClick:function(){(0,Ye.dC)({externalURL:n(),hasPrime:!1,experimentData:e.experimentData})},children:[(0,o.jsx)("span",{className:"explore-prime-button-inner-value",children:(0,h.hw)("Claim now","PrimeUpsellButton")}),(0,o.jsx)("span",{className:"explore-prime-button-inner-value",children:(0,o.jsx)(Lt.d,{size:"1.33em"})})]})})})})),Rt=(0,W.W)("PrimeUpsell",{autoReportInteractive:!0})((function(e){var t=(0,h.hw)("Already have Prime? ","PrimeUpsell"),n="IN"===(0,Fe.If)();return(0,o.jsxs)(s.P,{"data-test-target":"prime-offers-upsell","data-a-target":"prime-offers-upsell",className:"prime-offers-upsell",alignItems:l.k2.Center,padding:{x:2,y:1},borderBottom:!0,children:[(0,o.jsxs)(s.P,{className:"prime-offers-upsell-callout",margin:{bottom:1},alignItems:l.k2.Start,children:[(0,o.jsx)(X.hE,{type:Te.M2.H3,size:X.uM.Title,className:"prime-offers-upsell-callout__upsell-heading-text",children:(0,h.hw)("Claim your games today","PrimeUpsell")}),(0,o.jsxs)(Le.N,{type:Te.M2.H4,className:"prime-offers-upsell-callout__icon-text",margin:{top:.5},children:[(0,o.jsx)(s.P,{className:"icon",children:(0,o.jsx)(Dt.i,{size:14})}),(0,h.hw)("Included with Amazon Prime","PrimeUpsell")]})]}),n?(0,o.jsx)(Le.N,{type:Te.M2.P,children:(0,h.hw)("Get games every week and other gaming benefits.","PrimeUpsell")}):(0,o.jsx)(Le.N,{type:Te.M2.P,children:(0,h.hw)("Get a monthly Twitch channel sub for your favorite streamer, games every week, and other gaming benefits.","PrimeUpsell")}),!wt()&&(0,o.jsx)(xt.K,{name:"prime_gaming_special_event_image",children:(0,o.jsx)(s.P,{margin:{top:1},children:(0,o.jsx)(yt,{})})}),(0,o.jsx)(Et,{trackingProperties:e.trackingProperties,experimentData:e.experimentData}),(0,o.jsxs)(s.P,{textAlign:l.nO.Center,className:"prime-offers-upsell-links",children:[(0,o.jsx)(Le.N,{type:Te.M2.P,className:"prime-offers-upsell-sign-in-label",children:t}),(0,o.jsx)(d.Cb,{externalLinkIcon:!0,linkTo:function(){var e=window.location.pathname.substring(1),t=(0,Ye.yB)();return(0,Re.r3)("",e,t,"sign")}(),targetBlank:!0,hoverUnderlineNone:!0,underline:!1,className:"prime-upsell-sign-in-link",children:(0,h.hw)("Sign in","PrimeUpsell")})]})]})}));!function(e){e.Game="Game",e.InGameLoot="InGameLoot",e.All="All",e.PriorityOffers="PriorityOffers"}(_t||(_t={}));var Mt,Wt=n(420517),At=n.n(Wt),Gt=n(659456),Vt=n(551686);!function(e){e.CallOfDuty="call of duty"}(Mt||(Mt={}));var Ht,zt,Zt=function(e,t){return e.includes(Mt.CallOfDuty)&&t.includes(Mt.CallOfDuty)};!function(e){e[e.Offers=0]="Offers",e[e.Subcredit=1]="Subcredit"}(zt||(zt={}));var qt=function(e,t){return t?e?(0,o.jsx)(s.P,{padding:{x:1},className:"prime-offers__title__placeholder",children:(0,o.jsx)(Ne.Or,{height:28,width:300})}):(0,o.jsx)(s.P,{margin:{y:1},className:"prime-offers__title",children:(0,o.jsx)(X.hE,{type:Te.M2.H3,children:t})}):null},Xt=function(e,t,n){if(null==t?void 0:t.loading)return!0;var i=null==e?void 0:e.length;return i||!i&&!n},$t=function(e,t,n,i,r){if(!(null==e?void 0:e.primeOffersWithEligibility))return[];var a=e.primeOffersWithEligibility,o=Qt(),s=t?Kt(a,n):[],l=Yt(a),c=a.filter((function(e){return!s.includes(e.catalogOfferID)&&!o.includes(e.catalogOfferID)&&!l.includes(e.catalogOfferID)}));if((0,Je.F6)(i)){var d=c.filter((function(e){return Jt(e)})).sort(Je.OO),u=en(e,d,r),p=c.filter((function(e){return!Jt(e)})).sort(Je.OO);return en(e,p,r).concat(u)}return en(e,c,r).slice().sort(Je.OO)},Qt=function(){return h.Zn.get("prime-crown-hidden-ids",["20b44d5c-6d94-eee1-7f5d-e3c5baa5cd67","94b44d55-bdb7-ea3b-981d-4e8e28ad764b","32b44b56-38a9-ddc3-486c-c7c073bacb9f"])},Kt=function(e,t){for(var n=[],i=(0,Je.cd)(),r=0,a=e;r<a.length;r++){var o=a[r];(i.includes(o.catalogOfferID)||t.includes(o.catalogOfferID))&&n.push(o.catalogOfferID)}return n},Yt=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];r.tags.includes("TEMPLAR")&&t.push(r.catalogOfferID)}return t},Jt=function(e){var t,n;return!(null===(t=e.content)||void 0===t?void 0:t.externalURL)&&(null===(n=e.offerEligibility)||void 0===n?void 0:n.isClaimed)},en=function(e,t,n){var i=tn(e)||[];return n===_t.Game?t.filter((function(e){return i.includes(e.catalogOfferID)})).sort(Je.OO):n===_t.InGameLoot?t.filter((function(e){return!i.includes(e.catalogOfferID)})).sort(Je.OO):t},tn=function(e){return e?e.primeOffersWithEligibility.filter((function(e){return e.tags.includes("FGWP")})).map((function(e){return e.catalogOfferID})):[]},nn=function(e,t,n,i){if(e&&!(0,Je.eT)(e)&&!(0,Je.xg)(e)&&!t)return(0,o.jsx)(Rt,{experimentData:i,trackingProperties:n})},rn=function(e){for(var t=[],n=0;n<3;++n){var i=(0,o.jsx)(Tt,{orientation:e},n);t.push(i)}return t},an=function(e){if(e&&e.length&&!(0,Je.jo)(Je.F2.DateOverride)){var t=(0,Je.cd)(),n=e.map((function(e){return e.catalogOfferID}));(0,Je.Fe)(t.filter((function(e){return n.includes(e)})))}},on=function(e,t,n){if((!n||n!==t)&&t)switch(t.type){case Oe.PD.PrimeGamingOfferClaimSuccess:case Oe.PD.PrimeGamingOfferClaimFailed:e((function(e){var n;return(0,a.__assign)((0,a.__assign)({},e),((n={})[t.data.offerId]=t,n))}));break;default:return}},sn=(0,m.Zz)((0,k._v)(At(),{name:"offersData",options:function(){var e,t;return{variables:{dateOverride:null===(e=(0,Je.jo)(Je.F2.DateOverride))||void 0===e?void 0:e.toString(),countryCode:null===(t=(0,Je.jo)(Je.F2.CountryCode))||void 0===t?void 0:t.toString()}}},skip:function(e){return!e.firstPageLoaded&&!e.ignoreFirstPageLoad}}),(0,k._v)(st(),{name:"userData",skip:function(e){return!e.firstPageLoaded&&!e.ignoreFirstPageLoad}}),(0,Be.U)([{topic:function(e){return(0,Ue.Qo)((0,Je.F6)(e.userData))},skip:function(e){return""===(0,Je.F6)(e.userData)},mapMessageTypesToProps:(Ht={},Ht[Oe.PD.PrimeGamingOfferClaimSuccess]="offerClaimMessage",Ht[Oe.PD.PrimeGamingOfferClaimFailed]="offerClaimMessage",Ht)}]),(0,W.W)("PrimeOfferList"))((function(e){var t=e.hideWithNoOffers,n=e.latencyTracking,i=e.offersData,r=e.offerFilterType,c=e.pubsub,d=e.sectionTitle,u=e.trackingProperties,f=e.userData,m=(0,p.useState)(!0),g=m[0],v=m[1],k=(0,p.useState)((0,Je.cd)()),x=k[0],b=k[1],y=(0,p.useState)({}),S=y[0],w=y[1],_=(0,p.useState)(!1),P=_[0],C=_[1],N=(0,p.useState)(!1),T=N[0],D=N[1],j=(0,p.useState)(!1),I=j[0],B=j[1],O=(0,p.useState)([]),F=O[0],U=O[1],L=p.useState(zt.Offers),E=L[0],R=L[1],M=(0,De.Z)(c),W=function(){var e,t,n,i=(0,Gt.N)().channelLogin,r=(0,Vt.c)(null!=i?i:"",null).data;return{currentChannelGameName:(null===(n=null===(t=null===(e=null==r?void 0:r.user)||void 0===e?void 0:e.lastBroadcast)||void 0===t?void 0:t.game)||void 0===n?void 0:n.name)||null}}().currentChannelGameName,A=function(e){var t=(0,p.useState)([]),n=t[0],i=t[1];return(0,p.useEffect)((function(){e.length&&i(e)}),[e,i]),{filteredOffers:n}}(F).filteredOffers,G={experimentId:"",experimentTreatment:null,currentChannelGameName:W,currentActiveExperimentData:null,hasPrime:(0,Je.xg)(f)};(0,p.useEffect)((function(){!i||(null==i?void 0:i.loading)?D(!0):(an(i.primeOffersWithEligibility),D(!1))}),[i]),(0,p.useMemo)((function(){var e,t,n;(null===(e=null==i?void 0:i.primeOffersWithEligibility)||void 0===e?void 0:e.length)&&W?(n=function(e,t){return t?e.slice().sort((function(e,n){var i,r,a=null===(i=e.gameTitle)||void 0===i?void 0:i.toLowerCase(),o=null===(r=n.gameTitle)||void 0===r?void 0:r.toLowerCase(),s=null==t?void 0:t.toLowerCase();if(a===s&&o!==s)return-1;if(a!==s&&o===s)return 1;if(a===o&&a===s)return e.priority-n.priority;var l=a.includes(s)||Zt(a,s),c=o.includes(s)||Zt(o,s);return l&&!c?-1:!l&&c?1:l&&c?e.priority-n.priority:0})):e}(n=$t(i,P,x,f,r),W),U(n)):(null===(t=null==i?void 0:i.primeOffersWithEligibility)||void 0===t?void 0:t.length)&&(n=$t(i,P,x,f,r),U(n))}),[i,P,x,f,r,W]),(0,p.useEffect)((function(){C((0,Je.xg)(f))}),[f]),(0,p.useEffect)((function(){(null==f?void 0:f.loading)&&!(null==f?void 0:f.error)||(null==i?void 0:i.loading)&&!(null==i?void 0:i.error)||n.reportInteractive()}),[n,i,f]),(0,p.useEffect)((function(){var e=(0,Je.F6)(f),t=(0,Ue.Qo)(e),n=t?c.status[t]:null;e&&n&&!n.error&&!n.isSubscribing&&on(w,c.messages.offerClaimMessage,null==M?void 0:M.messages.offerClaimMessage)}),[M,c,f]),(0,p.useEffect)((function(){Xt(F,i,t)&&B(!0)}),[F,i,t]);var V=Je.pG.Vertical,H=V.toLowerCase(),z=(0,Je.hT)("prime-offer-list",V),Z="prime-offer-list__content prime-offer-list__content--".concat(H," prime-offer-list__content--").concat(g?"more-offers-to-see":"no-more-offers-to-see"),q=function(){return(0,o.jsxs)(s.P,{"data-target":"prime-offer-list",className:"prime-offer-list__content--mobile",children:[qt(T,d),(0,Je.xg)(f)&&(0,o.jsx)(Ct,{},"headerCard"),X(Ye.B$.Narrow,A)]})},X=function(t,n){if(T)return rn(V);if(0!==n.length){var i=n[n.length-1];return n.map((function(n,r){return(0,o.jsx)(s.P,{display:l.nl.InlineBlock,children:(0,o.jsx)(kt,{trackingProperties:u,externalReftag:e.externalReftag,offer:n,isLast:i.catalogOfferID===n.catalogOfferID,index:r,orientation:V,displayWidthType:t,toggleCrownMenu:e.toggleCrownMenu,dismissOffer:$,pubsubClaimMessage:S[n.catalogOfferID],experimentData:G},n.catalogOfferID)},n.catalogOfferID)}))}return(0,o.jsx)(Ge,{linkToLootPage:(0,Je.xg)(f)})},$=function(e){var t;(null===(t=null==f?void 0:f.currentUser)||void 0===t?void 0:t.id)&&((0,Je.Fe)((0,a.__spreadArray)((0,a.__spreadArray)([],(0,Je.cd)(),!0),[e],!1)),b((function(t){return(0,a.__spreadArray)((0,a.__spreadArray)([],t,!0),[e],!1)})))},Q=(0,ge.U)((0,Fe.If)()||"");return(0,o.jsxs)(s.P,{children:[I&&(0,o.jsx)(je.Vq,{className:z,suppressScrollX:!0,children:(0,o.jsxs)(s.P,{className:Z,alignItems:l.k2.Center,padding:{x:1,top:1,bottom:P?void 0:2},children:[nn(f,e.hideUpsell,u,G),Q?(0,o.jsxs)(s.P,{margin:{top:1},children:[(0,o.jsx)(Pe.t,{activeTabIndex:E,borderBottom:!0,size:Ce.v.Default,justifyContent:l.A9.Start,height:"3em",tabs:[{label:(0,h.hw)("Games","PrimeOfferListPresentation"),onClick:function(){return R(zt.Offers)},padding:{x:2}},{label:(0,h.hw)("Twitch channel sub","PrimeOfferListPresentation"),onClick:function(){return R(zt.Subcredit)},padding:{x:2}}]}),E===zt.Offers&&q(),E===zt.Subcredit&&(0,o.jsx)(Ut,{signedInToTwitch:!!(0,Je.F6)(f),hasPrime:(0,Je.xg)(f)})]}):q(),(0,o.jsx)(Ie.F,{visible:function(){g&&v(!1)},notVisible:function(){g||v(!0)},pixelThreshold:50})]})}),!I&&null]})}));var ln,cn,dn=(0,f.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}))(sn),un=n(101795),pn=n(79690),fn=n.n(pn);!function(e){e.Crown="crown",e.PrimePage="primepage"}(cn||(cn={}));var mn=((ln={})[cn.Crown]={US:un.MV.CrownUs,UK:un.MV.CrownUk},ln[cn.PrimePage]={US:un.MV.PrimePageUs,UK:un.MV.PrimePageUk},ln),hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive()},t.prototype.componentDidUpdate=function(){this.reportInteractive()},t.prototype.render=function(){if(!this.props.data||this.props.data.loading||this.props.data.error)return null;var e=this.props.data.requestInfo.countryCode,t=mn[this.props.location][e];return(0,o.jsx)(un.zJ,{settingsKey:t,countryCode:e})},t.prototype.reportInteractive=function(){!this.props.data||this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t}(p.Component),gn=(0,m.Zz)((0,k._v)(fn()),(0,W.W)("PrimeTracking"))(hn),vn=n(605047),kn=n.n(vn),xn=n(982703),bn=n.n(xn),yn=function(e){function t(n){var i=e.call(this,n)||this;return i.hasTrackedLoad=!1,i.saveCrownMenuRef=function(e){return i.crownMenuRef=e},i.toggleCrownMenu=function(e){var t;null===(t=i.crownMenuRef)||void 0===t||t.toggleBalloon(e)},i.closeCrownMenu=function(){var e;null===(e=i.crownMenuRef)||void 0===e||e.toggleBalloon(!1)},i.onToggleMenu=function(e){i.state.loadTracking||i.setState({loadTracking:!0}),i.seeOffers(),e&&i.setState({numOfUnseenOffers:0}),(0,Ye.kd)(!e,{hasPrime:i.hasPrime(),numberOfOffers:i.getNumberOfOffers()}),i.refreshImpressionTracking()},i.refreshImpressionTracking=function(){window.dispatchEvent(new Event("resize"))},i.getNumberOfOffers=function(){var e=i.props.offersData,t=e&&e.primeOffersWithoutEligibility;return t&&t.length||0},i.onHover=function(){(0,Ye.D0)({hasPrime:i.hasPrime()})},i.hasPrime=function(e){return void 0===e&&(e=i.props),!!(e.userData&&e.userData.currentUser&&e.userData.currentUser.hasPrime)},i.registerOffersLoadedEvent=function(){return i.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:"Twitch Prime",key:"prime-offer-loaded",label:"Loaded",start:"registration"})},i.getUnseenOffers=function(e){var n=e.offersData;if(n&&!n.loading&&!n.error){var r=n.primeOffersWithoutEligibility||[];i.setState({numOfUnseenOffers:r.filter(t.offerIsUnseen).length})}},i.seeOffers=function(){var e=i.props.offersData;if(e&&!e.loading&&!e.error){var t=(e.primeOffersWithoutEligibility||[]).map((function(e){return"".concat(e.catalogOfferID)}));(0,Je.$R)(t)}},i.shouldReportInteractive=function(){return(!i.isUserDataLoading||i.isUserDataError)&&(!i.isOffersDataLoading||i.isOffersDataError)},i.state={numOfUnseenOffers:0,loadTracking:i.showOffersByDefault()},i}return(0,a.__extends)(t,e),t.getDerivedStateFromProps=function(e){var n=e.offersData;return!n||n.loading||n.error?null:{numOfUnseenOffers:(n.primeOffersWithoutEligibility||[]).filter(t.offerIsUnseen).length}},t.prototype.componentDidMount=function(){this.shouldReportInteractive()&&this.props.latencyTracking.reportInteractive(),this.offersLoadedEvent=this.registerOffersLoadedEvent(),this.getUnseenOffers(this.props)},t.prototype.componentDidUpdate=function(){this.shouldReportInteractive()&&this.props.latencyTracking.reportInteractive();var e=this.props.offersData,t=this.props.userData;if(!this.hasTrackedLoad&&e&&!e.loading&&t&&!t.loading){this.hasTrackedLoad=!0,this.offersLoadedEvent&&this.props.latencyTracking.reportCustomEvent(this.offersLoadedEvent);var n=e.primeOffersWithoutEligibility,i=n&&n.length;(0,Ye.Gv)({hasPrime:this.hasPrime(this.props),numberOfOffers:i||0})}},t.prototype.render=function(){var e,t;return this.props.userData&&this.props.userData.requestInfo&&(0,ge.U)(this.props.userData.requestInfo.countryCode)?(e=this.state.numOfUnseenOffers>0?(0,h.hw)("New from Prime","PrimeOffers"):(0,h.hw)("Prime Gaming benefits","PrimeOffers"),this.state.loadTracking&&(t=(0,o.jsx)(gn,{location:cn.Crown})),(0,o.jsxs)(s.P,{className:"prime-offers",position:l.yX.Relative,children:[(0,o.jsxs)(ve.U,{onToggle:this.onToggleMenu,openByDefault:this.showOffersByDefault(),tooltipLabel:e,ref:this.saveCrownMenuRef,preloadOnInteraction:!0,children:[(0,o.jsx)(be,{onHover:this.onHover,children:(0,o.jsx)(P.a2,{"aria-label":(0,h.hw)("Prime offers","PrimeOffers"),icon:ue.$,"data-a-target":"prime-offers-icon","data-target":"prime-offers-icon"})}),(0,o.jsxs)(pe.N,{popoverId:"PrimeOfferPopover",size:I.$V.Large,children:[(0,o.jsx)(_e,{numOfUnseenOffers:this.state.numOfUnseenOffers,closeCrownMenu:this.closeCrownMenu}),(0,o.jsx)(s.P,{"data-a-target":"offers-list",children:(0,o.jsx)(dn,{toggleCrownMenu:this.toggleCrownMenu,trackingProperties:{content:"crown_menu",medium:"prime_upsell_button"}})}),t]})]}),this.renderUnseenOffersDisplay()]})):null},t.prototype.showOffersByDefault=function(){var e=location.search,t=he.parse(e);return t&&!!t.expandoffers||this.props.openByDefault},t.prototype.renderUnseenOffersDisplay=function(){var e=this.state.numOfUnseenOffers;if(e)return(0,o.jsx)(s.P,{className:"prime-offers__pill",position:l.yX.Absolute,fontSize:l.Z4.Size7,attachTop:!0,attachRight:!0,children:(0,o.jsx)(fe.X5,{type:fe.as.BounceIn,duration:fe.J6.Medium,timing:fe.pn.EaseIn,enabled:e>0,children:(0,o.jsx)(me.h,{value:e,mask:l.VS.Base})})})},Object.defineProperty(t.prototype,"isUserDataLoading",{get:function(){var e=this.props.userData;return e&&e.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserDataError",{get:function(){var e=this.props.userData;return e&&e.error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOffersDataLoading",{get:function(){var e=this.props.offersData;return e&&e.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOffersDataError",{get:function(){var e=this.props.offersData;return e&&e.error},enumerable:!1,configurable:!0}),t.offerIsUnseen=function(e){var n=(0,Je.g1)();return!t.getHiddenCrownOfferIds().includes(e.catalogOfferID)&&!n.includes(e.catalogOfferID)},t.getHiddenCrownOfferIds=function(){return h.Zn.get("prime-crown-hidden-ids",[])},t}(p.Component),Sn=(0,m.Zz)((0,k._v)(kn(),{name:"offersData",skip:function(e){return!e.firstPageLoaded&&!e.openByDefault},options:function(){var e,t;return{variables:{dateOverride:null===(e=(0,Je.jo)(Je.F2.DateOverride))||void 0===e?void 0:e.toString(),countryCode:null===(t=(0,Je.jo)(Je.F2.CountryCode))||void 0===t?void 0:t.toString()}}}}),(0,k._v)(bn(),{name:"userData"}),(0,W.W)("PrimeOffers"))(yn);var wn=(0,f.Ng)((function(e){return{firstPageLoaded:!!e.session.firstPageLoaded}}))(Sn),_n=n(449041),Pn=n(616169),Cn=n.n(Pn),Nn="5rem",Tn=v.x.wrap((function(){return Promise.all([n.e(79025),n.e(85459),n.e(46663),n.e(88499),n.e(64607),n.e(70352),n.e(87965),n.e(48133),n.e(92432),n.e(31813)]).then(n.bind(n,432983))}),"Whispers",{failSilently:!0,placeholder:null}),Dn=(0,g.U)({name:"TopNav__TwitchPrimeCrown",category:"monetization"}),jn=Dn.Available,In=Dn.Unavailable,Bn=(0,g.U)({name:"TopNav__BitsButton",category:"monetization"}),On=Bn.Available,Fn=Bn.Unavailable,Un=(0,g.U)({name:"TopNav__TurboButton",category:"monetization"}),Ln=Un.Available,En=Un.Unavailable,Rn=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=h.x2.logger.withCategory("top-nav"),n.renderTwitchPrimeCrown=function(){return n.state.isError?(0,o.jsx)(In,{reason:"error state"}):(0,o.jsx)(jn,{children:(0,o.jsx)(s.P,{className:"top-nav__prime",flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:l.gB.Center,flexWrap:l.I4.NoWrap,children:(0,o.jsx)(wn,{})})})},n.renderOnsiteNotifications=function(){return n.state.isError||!n.props.user?null:(0,o.jsx)(s.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:l.gB.Center,flexWrap:l.I4.NoWrap,children:(0,o.jsx)(V.H,{})})},n.renderWhispers=function(){return n.state.isError||!n.props.user?null:(0,o.jsx)(s.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:l.gB.Center,flexWrap:l.I4.NoWrap,children:n.props.isWhispersLoaded&&(0,o.jsx)(Tn,{})})},n.renderBitsButton=function(){var e,t,i;if(n.state.isError)return(0,o.jsx)(Fn,{reason:"error state"});if(!n.props.user)return(0,o.jsx)(On,{});var r=null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.turboStatus)||void 0===i?void 0:i.hasActiveTurbo;return(0,o.jsx)(On,{children:(0,o.jsx)(s.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:l.gB.Center,flexWrap:l.I4.NoWrap,children:(0,o.jsx)(G,{channelLogin:null,hasTurbo:r,sessionId:n.state.bitsSessionId})})})},n.renderTurboButton=function(){var e,t,i,r,a,c;if(n.state.isError)return(0,o.jsx)(En,{reason:"error state"});if(!n.props.user||!(0,y.fX)("TV2_flag"))return(0,o.jsx)(Ln,{});var d=null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.turboStatus)||void 0===i?void 0:i.hasActiveTurbo,u=null===(c=null===(a=null===(r=n.props.data)||void 0===r?void 0:r.currentUser)||void 0===a?void 0:a.turboStatus)||void 0===c?void 0:c.hasUsedFreeTrial;return(0,o.jsx)(Ln,{children:(0,o.jsx)(s.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:l.gB.Center,flexWrap:l.I4.NoWrap,children:(0,o.jsx)(s.P,{children:(0,o.jsx)(de.Pl,{user:n.props.user,hasTurbo:!!d,hasUsedFreeTrial:!!u})})})})},n.state={isError:!1,bitsSessionId:(0,S.aq)()},n}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){!this.state.isError&&this.props.user&&(0,E.Z4)({sessionId:this.state.bitsSessionId,userId:this.props.user.id,location:E.Yl.GetBitsButtonTopNav})},t.prototype.componentDidCatch=function(e,t){var n=this;this.setState({isError:!0},(function(){h.x2.stats.recordComponentError("TopNav"),n.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:t})}))},t.prototype.render=function(){var e,t,n,i,r,a,p=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.turboStatus)||void 0===n?void 0:n.hasActiveTurbo,f=null===(i=this.props.data)||void 0===i?void 0:i.loading;return(0,o.jsx)(c.S,{flexShrink:0,children:(0,o.jsx)("nav",{className:"top-nav","data-a-target":"top-nav-container",style:{height:Nn},children:(0,o.jsxs)(s.P,{background:l.VS.Base,className:"top-nav__menu",display:l.nl.Flex,elevation:1,alignItems:l.k2.Stretch,flexWrap:l.I4.NoWrap,fullHeight:!0,children:[(0,o.jsxs)(s.P,{flexGrow:1,flexShrink:2,fullWidth:!0,display:l.nl.Flex,alignItems:l.k2.Stretch,justifyContent:l.A9.Start,flexWrap:l.I4.NoWrap,children:[(0,o.jsx)(z.M,{}),(0,o.jsx)(c.S,{display:"flex",alignItems:"center",children:(0,o.jsx)(d.Cb,{linkTo:{pathname:"/",state:{medium:"twitch_topnav",content:"twitch_logo"}},onClick:(0,ne.W)(ne.y.HomeIcon),"data-a-target":"home-link","aria-label":(0,h.hw)("Twitch Home","TopNav"),underline:!1,children:(0,o.jsx)(u.q,{width:40,height:40,padding:.5})})}),(0,o.jsx)(le,{user:this.props.user,hasPresto:(null===(a=null===(r=this.props.data)||void 0===r?void 0:r.currentUser)||void 0===a?void 0:a.hasPresto)||!1}),(0,o.jsx)(ce.R8,{countryCode:this.props.data&&this.props.data.requestInfo&&this.props.data.requestInfo.countryCode||"",languageCode:this.props.languageCode})]}),(0,o.jsx)(s.P,{flexGrow:2,flexShrink:1,fullWidth:!0,display:l.nl.Hide,alignItems:l.k2.Center,justifyContent:l.A9.Center,breakpointSmall:{display:l.nl.Flex},children:(0,o.jsx)(s.P,{className:"top-nav__search-container",margin:{x:2},children:!this.state.isError&&(0,o.jsx)(H.Gd,{truncated:!1})})}),(0,o.jsxs)(s.P,{flexGrow:1,flexShrink:2,fullWidth:!0,display:l.nl.Flex,alignItems:l.k2.Center,justifyContent:l.A9.End,children:[(0,o.jsx)(s.P,{flexGrow:0,flexShrink:0,padding:{x:.5},alignSelf:l.gB.Center,flexWrap:l.I4.NoWrap,breakpointSmall:{display:l.nl.Hide},children:(0,o.jsx)(H.Gd,{truncated:!0})}),this.renderTwitchPrimeCrown(),this.renderOnsiteNotifications(),this.renderWhispers(),!f&&p&&this.renderTurboButton(),!f&&this.renderBitsButton(),!f&&!p&&this.renderTurboButton(),this.renderUserMenu()]})]})})})},t.prototype.renderUserMenu=function(){return(0,o.jsx)(s.P,{fullHeight:!0,alignItems:"center",margin:{right:1},display:l.nl.Flex,children:(0,o.jsx)(_n.B,{user:this.props.user})})},t}(p.Component);var Mn=(0,m.Zz)((0,k._v)(Cn()),(0,W.W)("TopNav",{autoReportInteractive:!0}),(function(e){return function(t){var n=(0,x.n)(Tn.getLoader(),b.L.Later);return(0,o.jsx)(e,(0,a.__assign)({},t,{isWhispersLoaded:n}))}}),(0,f.Ng)((function(e){return{languageCode:(0,w.Ul)(e),user:e.session.user}})))(Rn)},253762:function(e,t,n){"use strict";n.d(t,{IT:function(){return c},hj:function(){return d},RT:function(){return u}});var i=n(112736),r=n(478260),a=n(79923),o=n(345029),s=null;var l=n(433086),c=function(){return(0,i.jP)([{targetBlank:!0,linkTo:"https://legal.twitch.com/legal/accessibility/","data-a-target":"accessibility-statement-link",label:(0,r.hw)("Accessibility Statement","TopNav"),onClick:(0,l.W)(l.y.AccessibilityStatement)},{targetBlank:!0,linkTo:"https://legal.twitch.com/legal/ad-choices/","data-a-target":"ad-choices-link",label:(0,r.hw)("Ad Choices","TopNav"),onClick:(0,l.W)(l.y.AdChoices)},{targetBlank:!0,linkTo:"https://safety.twitch.tv/s/article/Community-Guidelines/","data-a-target":"community-guidelines-link",label:(0,r.hw)("Community Guidelines","TopNav"),onClick:(0,l.W)(l.y.CommunityGuidelines)},{targetBlank:!0,linkTo:"https://legal.twitch.com/legal/cookie-notice/","data-a-target":"cookie-policy-link",label:(0,r.hw)("Cookie Notice","TopNav"),onClick:(0,l.W)(l.y.CookiePolicy)},{targetBlank:!0,linkTo:"https://help.twitch.tv/","data-a-target":"help-link",label:(0,r.hw)("Help","TopNav"),onClick:(0,l.W)(l.y.Help)},{targetBlank:!0,linkTo:"https://legal.twitch.com/legal/privacy-notice/","data-a-target":"privacy-policy-link",label:(0,r.hw)("Privacy Notice","TopNav"),onClick:(0,l.W)(l.y.PrivacyPolicy)}])},d=function(){return(0,i.jP)([{targetBlank:!0,linkTo:"https://twitch.tv/privacy","data-a-target":"privacy-center-link","data-test-selector":a.TF.PrivacyCenter,label:(0,r.hw)("Privacy Center","TopNav"),onClick:(0,l.W)(l.y.PrivacyCenter)}])},u=function(){return(0,i.jP)([{targetBlank:!0,linkTo:"https://safety.twitch.tv/","data-a-target":"safety-center-link","data-test-selector":a.TF.SafetyCenter,label:(0,a.Rs)(),onClick:(0,l.W)(l.y.SafetyCenter)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/security","data-a-target":"security-link",label:(0,r.hw)("Security","TopNav"),onClick:(0,l.W)(l.y.Security)},{targetBlank:!0,linkTo:"https://legal.twitch.com/legal/terms-of-service/","data-a-target":"terms-link",label:(0,r.hw)("Terms","TopNav"),onClick:(0,l.W)(l.y.Terms)},{targetBlank:!0,linkTo:"https://legal.twitch.com/","data-a-target":"legal-link",label:(0,r.hw)("All Legal Docs","TopNav"),onClick:(0,l.W)(l.y.Legal)},(null===s&&(s=window.location.search.includes("__show-de")||"DE"===(0,o.If)()),s?{targetBlank:!0,linkTo:"https://legal.twitch.com/de-de/legal/imprint/","data-a-target":"german-link",label:(0,r.hw)("Imprint","TopNavDE"),onClick:(0,l.W)(l.y.GermanDisclosure)}:null)])}},295752:function(e,t,n){"use strict";n.d(t,{j8:function(){return a},lZ:function(){return r},qP:function(){return o}});var i=n(478260),r=function(){return(0,i.hw)("Manage Turbo","TopNav")},a=function(){return(0,i.hw)("Go Ad-Free for Free","TurboFreeTrial")},o=function(){return(0,i.hw)("Try Free","TurboFreeTrial")}},554372:function(e,t,n){"use strict";n.d(t,{FF:function(){return U},Pl:function(){return L}});var i=n(331635),r=n(474848),a=n(472571),o=n(746442),s=n(914421),l=n(324602),c=n(656910),d=n(79004),u=n(96514),p=n(326046),f=n(564368),m=n(959340),h=n(552400),g=n(61604),v=n(430228),k=n.n(v),x=n(296540),b=n(415044),y=n(868238),S=n(478260),w=n(407827),_=n(312524),P=n(681685),C=n(105146),N=n(315320),T=n(718482),D=n(79923),j=n(295752),I=n(436157),B=n(807179),O=w.x.wrap((function(){return Promise.all([n.e(55152),n.e(2722)]).then(n.bind(n,597792))}),"GetTurboButtonDialog"),F=new(k());function U(e){F.emit("turboButtonToggle",e)}var L=(0,y.Zz)((0,b.Ng)(null,(function(e){return(0,y.zH)({showLoginModal:T.cd(P.W.GetTurboButton),showSubscriptionCheckout:N.Z},e)})))((function(e){var t=e.showLoginModal,n=e.showSubscriptionCheckout,v=e.user,k=e.hasTurbo,b=e.hasUsedFreeTrial,y=(0,S.hw)("Close Menu","GetTubroPopoverHeader"),w=(0,S.hw)("Get Ad-Free","GetTurboButton"),P=(0,D.Bn)(),N=(0,j.lZ)(),T=(0,x.useState)(""),U=T[0],L=T[1],E=(0,x.useState)(""),R=E[0],M=E[1],W=(0,a.p)(),A=W.dialogProps,G=W.setAnchorRef,V=W.toggle,H=W.isOpen,z=(0,_.d)(null)||_.E.Default,Z=function(e){return e===_.E.LG||e===_.E.XL||e===_.E.XXL},q=(0,x.useState)(!Z(z)),X=q[0],$=q[1];(0,x.useEffect)((function(){$(!Z(z))}),[z]);var Q=(0,x.useCallback)((function(){if(!H){var e=(0,C.k3)();L(e),(0,B.vd)({action:B.fz.OpenMenu,turbo_session_id:e,buttonFullSize:!X,cta_location:"topnav",is_free_trial:!b})}V()}),[b,H,V,X]),K=(0,x.useCallback)((function(){if(!H){var e=(0,C.k3)();L(e),(0,B.vd)({action:B.fz.OpenMenu,turbo_session_id:e,buttonFullSize:!X,cta_location:"SDAUpsell",is_free_trial:!k})}V()}),[k,H,V,X]),Y=(0,x.useCallback)((function(e){M(e),K()}),[K]);(0,x.useEffect)((function(){return F.on("turboButtonToggle",Y),function(){F.off("turboButtonToggle",Y)}}),[Y,K]);var J=function(){return k?N:(0,I.g)()&&!b?(0,j.j8)():w},ee=X?(0,r.jsx)(d.a2,{icon:k?u.o:p.g,"aria-label":J(),onClick:Q,ref:G}):(0,r.jsx)(f.$n,{variant:f.VQ.Secondary,icon:k?u.o:p.g,onClick:Q,ref:G,children:J()});return(0,r.jsxs)(m.P,{children:[(0,r.jsx)(h.m,{label:X?J():P,children:ee}),(0,r.jsx)(g.O,(0,i.__assign)({},A,{children:H&&(0,r.jsxs)(o.N,{background:s.VS.Base,popoverId:"GetTurboPopover",size:l.$V.Large,children:[(0,r.jsx)(c.D,{popoverId:"GetTurboPopover",buttonRightPrimary:{"aria-label":y,onClick:Q}}),(0,r.jsx)(O,{truncated:!0,user:v,toggleBalloon:V,showLoginModal:t,showSubscriptionCheckout:n,hasTurbo:!!k,turboSessionId:U,upsellSessionId:R})]})}))]})}))},436157:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i=n(478260),r=function(){return i.x2.dynamicSettings.get("turbo_ft",!1)}},807179:function(e,t,n){"use strict";n.d(t,{fz:function(){return i},vd:function(){return a}});var i,r=n(478260);!function(e){e.OpenMenu="open_menu",e.GetTurbo="get_turbo_click",e.ManageTurbo="manage_turbo_click",e.ContinueTurbo="continue_sub_click",e.AdsUpsellTurbo="ads_upsell_click"}(i||(i={}));var a=function(e){return r.E5.track("turbo_menu_interaction",e)}},485694:function(e,t,n){"use strict";n.d(t,{ZU:function(){return i},oy:function(){return c}});var i,r=n(474848),a=(n(296540),n(478260)),o=n.p+"assets/prime-gaming-black-ecfbef801617248a6fc7.svg",s=n.p+"assets/prime-gaming-purple-2018720eb815c4306af7.svg",l=n.p+"assets/prime-gaming-white-16a61c65dde4c7bfa38e.svg";!function(e){e[e.Black=0]="Black",e[e.Purple=1]="Purple",e[e.White=2]="White"}(i||(i={}));var c=function(e){var t=e.width||"145",n=e.height||"39";return(0,r.jsx)("img",{alt:(0,a.hw)("Prime Gaming Logo","PrimeGamingLogo"),"data-test-selector":"prime-gaming-logo",height:n,width:t,src:function(e){switch(e){case i.Black:return o;case i.Purple:return s;case i.White:return l;default:return s}}(e.color)})}},551686:function(e,t,n){"use strict";n.d(t,{c:function(){return k}});var i=n(331635),r=n(973421),a=n.n(r),o=n(296540),s=n(145748),l=n(783321),c=n(982821),d=n(503472),u=n(456450),p=n(478260),f=n(214120),m=p.Zn.get("watch_channel_update_after_pubsub_max_rps",1e4);var h=n(156525),g=n.n(h),v=1e4;function k(e,t){var n,r,p,h,k=(0,l.IT)(g(),{variables:{channelLogin:e},skip:!e}),x=null!==(p=null===(r=null===(n=k.data)||void 0===n?void 0:n.user)||void 0===r?void 0:r.id)&&void 0!==p?p:null,b=(0,s.D)(x?(0,u.Fz)(x):"",{skip:!x,jitterMSMax:(h=null!=t?t:v,(0,f.yT)(function(e,t){return e?t/e*1e3:0}(m,h)))})[0];return(0,o.useEffect)((function(){(function(e){return(null==e?void 0:e.type)===c.PD.BroadcastSettingsUpdate})(b)&&(0,d.oR)(g(),{channelLogin:e},(function(e){var t;if(null!==b.status){var n=null;b.game&&b.game_id&&(n={__typename:"Game",name:b.game,displayName:b.game,id:b.game_id.toString()});var r=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.lastBroadcast;return a()(e,(function(e){return e.user.lastBroadcast}),(function(){return(0,i.__assign)((0,i.__assign)({},r),{title:b.status,game:n})}))}return e}),(function(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)!==b.channel_id}))}),[b,e,t]),k}}}]);