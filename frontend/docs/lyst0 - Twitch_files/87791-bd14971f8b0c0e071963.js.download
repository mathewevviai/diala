!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="30e92d6b-f90d-4ee8-b04d-c3e240a03ecc",e._sentryDebugIdIdentifier="sentry-dbid-30e92d6b-f90d-4ee8-b04d-c3e240a03ecc")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[87791],{710283:function(){},611773:function(e,n,t){var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateConsentMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateConsentInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeNewCookieConsentFields"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeTCData"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateConsent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"consent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDeniedUnderage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privacyLawName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldShowNotification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldShowSettingsPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldShowDismissButton"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldSkipDmaBanner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vendorStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"consentStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasUserSetConsent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVisible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vendorConsentStatus"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeNewCookieConsentFields"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"vendorConsentStatuses"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gdprUserPreferences"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeTCData"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gdprUserPreferences"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dmaUserPreferences"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeTCData"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"dmaUserPreferences"},directives:[]}]}}]}}]}}]}}]},i={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)}))}function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,n)})),e.definitions&&e.definitions.forEach((function(e){a(e,n)}))}o.definitions=o.definitions.concat(r(t(322517).definitions)),o.definitions=o.definitions.concat(r(t(804879).definitions));var s={};o.definitions.forEach((function(e){if(e.name){var n=new Set;a(e,n),s[e.name.value]=n}})),e.exports=o},923996:function(e,n,t){"use strict";t.d(n,{H6:function(){return c},OC:function(){return s},VT:function(){return l},dw:function(){return d},t$:function(){return u}});var o=t(478260),i="twilight.vendor.modal.preferences",r="twilight.vendor.modal.preferences.dma";function a(){return JSON.parse(o.VS.get(i,"null"))}function s(){var e=a();return null===e?new Map:new Map(e)}function l(e){o.VS.set(i,JSON.stringify(Array.from(e.entries())))}function d(){o.VS.remove(i),o.VS.remove(r)}function c(e){return o.VS.set(r,e)}function u(e){var n=JSON.parse(o.VS.get(r,"null"));return null===n?e:n}},700546:function(e,n,t){"use strict";t.d(n,{Qk:function(){return f},ec:function(){return m},mR:function(){return p},oo:function(){return C},xd:function(){return k},zs:function(){return w}});var o=t(474848),i=t(959340),r=t(36935),a=t(914421),s=t(379831),l=t(312663),d=t(296540),c=t(478260),u=t(267924),v=t(923996),g=t(369379),h=t(110760),p=function(e){return(0,o.jsxs)(i.P,{padding:{y:2},children:[(0,o.jsx)(m,{title:e.title,titleSize:r.uM.Title,toggle:e.toggle}),e.children]})};p.displayName="CookieSection";var f=function(e){return(0,o.jsxs)(i.P,{padding:{y:2},children:[(0,o.jsx)(m,{title:e.title}),e.children]})};f.displayName="VendorSubSection";var m=function(e){var n,t=null===(n=e.toggle)||void 0===n?void 0:n.onChange,c=d.useCallback((function(e){null==t||t(e.currentTarget.checked)}),[t]);return(0,o.jsxs)(i.P,{alignItems:a.k2.Center,display:a.nl.Flex,flexDirection:a.bo.Row,className:"fixed-width-title-and-toggle",children:[e.toggle&&(0,o.jsx)(s.o,{checked:e.toggle.toggled,disabled:e.toggle.disabled,"aria-label":e.title,label:"",onChange:c}),e.titleSize?(0,o.jsx)(r.hE,{size:e.titleSize,className:"fixed-width-title-and-toggle__title",children:e.title}):(0,o.jsx)(l.N,{fontWeight:a.IT.SemiBold,className:"fixed-width-title-and-toggle__title",children:e.title})]})};m.displayName="FixedWidthTitleAndToggle";var w=function(e){return(0,o.jsxs)(i.P,{display:a.nl.Flex,flexDirection:a.bo.Column,children:[(0,o.jsx)(m,{title:y(e.vendorName),toggle:{toggled:e.toggled,onChange:e.onChange}}),e.children&&(0,o.jsx)(g.m,{label:(0,c.hw)("Details","GDPRConsentModal"),children:e.children})]})};function y(e){switch(e){case u.eo7.AMAZON:return(0,c.hw)("Amazon","GDPRConsentModal");case u.eo7.BRANCH:return(0,c.hw)("Branch","GDPRConsentModal");case u.eo7.COMSCORE:return(0,c.hw)("ComScore","GDPRConsentModal");case u.eo7.GOOGLE:return(0,c.hw)("Google","GDPRConsentModal");case u.eo7.NIELSEN:return(0,c.hw)("Nielsen","GDPRConsentModal");case u.eo7.TWITCH_AMAZON:return(0,c.hw)("Amazon/Twitch","GDPRConsentModal");case u.eo7.SALESFORCE_DMP:return(0,c.hw)("Salesforce DMP","GDPRConsentModal");case u.eo7.INTEGRAL_AD_SCIENCE:return(0,c.hw)("Integral Ad Science","GDPRConsentModal");case u.eo7.DOUBLEVERIFY:return(0,c.hw)("DoubleVerify","GDPRConsentModal");case u.eo7.KANTAR:return(0,c.hw)("Kantar","GDPRConsentModal");case u.eo7.LUCID:return(0,c.hw)("Lucid/Cint","GDPRConsentModal");case u.eo7.SMARTME:return(0,c.hw)("SmartMe","GDPRConsentModal");case u.eo7.AUDIENCE_PROJECT:return(0,c.hw)("Audience Project","GDPRConsentModal");case u.eo7.INNOVID:return(0,c.hw)("Innovid","GDPRConsentModal");case u.eo7.DYNATA:return(0,c.hw)("Dynata","GDPRConsentModal");default:return e}}function k(e){var n=function(e){return e===u.eo7.TWITCH_AMAZON?"AMAZON_TWITCH":e};return e.sort((function(e,t){var o=n(e.vendorName),i=n(t.vendorName);return o.localeCompare(i)}))}function C(e){var n=(0,v.OC)();return e.status.filter((function(e){return e.isVisible})).map((function(e){var t,o,i,r,a,s,l,d=[],c=[],u=[],v=[],g=[],p=0;"TCFCookieVendor"===e.__typename&&(c=null!==(t=e.features)&&void 0!==t?t:[],u=null!==(o=e.flexiblePurposes)&&void 0!==o?o:[],d=null!==(r=Array.from(new Set(null===(i=e.purposes)||void 0===i?void 0:i.concat(u))))&&void 0!==r?r:[],v=null!==(a=e.specialFeatures)&&void 0!==a?a:[],g=null!==(s=e.specialPurposes)&&void 0!==s?s:[],p=null!==(l=e.cookieMaxAgeSeconds)&&void 0!==l?l:0);var f="TCFCookieVendor"===e.__typename?h.Pe.TCF:h.Pe.NonTCF,m=n.get(e.name)||!1;return{cookieType:e.cookieVendorType,vendorName:e.name,hasUserSetConsent:e.hasUserSetConsent,initialConsentStatus:m||e.consentStatus,policyURL:e.policyURL,vendorType:f,features:c,purposes:d,specialFeatures:v,specialPurposes:g,cookieMaxAgeSeconds:p}}))}w.displayName="VendorToggle"},887791:function(e,n,t){"use strict";t.d(n,{wk:function(){return Q}});var o=t(474848),i=t(296540),r=t(191132),a=t(779075),s=t(407827),l=t(669022),d=t(323587),c=t(331635),u=t(959340),v=t(70931),g=t(97774),h=t(312663),p=t(950962),f=t(407590),m=t(914421),w=t(36935),y=t(415044),k=t(868238),C=t(478260),_=t(982742),S=t(185344),T=t(503472),x=t(178196),b=t(267924),N=t(574156),D=t(486612),P=t(700546),j=t(475777),A=t(361430),M=t(397061),F=t(906712),I=t(345319),E=t(260674),V=function(e){function n(n){var t,i,r,a,s,d,m,w,y,k=e.call(this,n)||this;k.logger=C.vF.withCategory("consent-modal"),k.renderContentByPrivacyLaw=function(){var e,n,t,i=null===(t=null===(n=null===(e=k.props)||void 0===e?void 0:e.consentData)||void 0===n?void 0:n.consent)||void 0===t?void 0:t.privacyLawName,r=k.isQPLModal(),a=r?k.state.showPersonalizedAds:!k.state.showPersonalizedAds,s=r?(0,C.hw)("By checking this box, you consent to receiving interest-based ads on Twitch.","GDPRConsentModal"):(0,C.hw)("Opt out of targeted advertising","ConsentModal"),l=r?"":(0,C.hw)("By checking this box, you will be opted out of targeted advertising on Twitch.","GDPRConsentModal"),d=(0,o.jsx)(u.P,{children:(0,o.jsx)(P.mR,{title:s,toggle:{toggled:a,onChange:k.onToggleAllConsent},children:(0,o.jsx)(u.P,{padding:{top:1},children:l})})});switch(i){case b.QKh.QPL:return(0,o.jsxs)(u.P,{padding:2,children:[k.renderBodyText((0,C.hw)("Twitch uses cookies and similar technologies as described in our <x:cookies>Cookie Notice</x:cookies>, including, with your consent, to show you interest-based ads. To learn more about how Twitch provides interest-based ads, please visit the Twitch <x:ads>Ad Choices</x:ads> page.",{"x:cookies":function(e){return(0,o.jsx)(v.Cb,{linkTo:"https://www.twitch.tv/p/legal/cookie-notice/",targetBlank:!0,children:e})},"x:ads":function(e){return(0,o.jsx)(v.Cb,{linkTo:"https://www.twitch.tv/p/legal/ad-choices/",targetBlank:!0,children:e})}},"ConsentModal")),d]});case b.QKh.CCPA:return(0,o.jsxs)(u.P,{padding:2,children:[k.renderBodyText((0,C.hw)("Twitch values your privacy. We do not sell your personal information. If you’d like to know more about how Twitch protects your privacy please visit our <x:privacy>Privacy Notice</x:privacy>. ",{"x:privacy":function(e){return(0,o.jsx)(v.Cb,{linkTo:"https://www.twitch.tv/p/legal/privacy-policy/",targetBlank:!0,children:e})}},"ConsentModal")),k.renderBodyText((0,C.hw)("When you see advertising on Twitch, we try to make it relevant by referring to information about you and your activities which you share with Twitch and our affiliated companies, such as our parent company, Amazon.com, Inc. This may include information like your location or the categories of content you watch. In some cases, Twitch may work with trusted third-party advertising partners to provide what is sometimes called “targeted advertising” or “cross-contextual advertising.” This form of advertising allows us to further personalize the advertising you see by incorporating information about your activities on third-party websites and applications across the internet. When we work with third-parties in this way, we may share some of your personal data, for example by using cookies or other technologies, but we do not use or share information which on its own identifies you, such as name or email address. You have the right to opt-out of targeted advertising by preventing sharing of your personal data with third-parties for advertising purposes. To do so, please use the checkbox below.","ConsentModal")),d]});case b.QKh.GDPR:return(0,o.jsxs)(u.P,{padding:2,children:[k.renderBodyText((0,C.hw)("Twitch respects your privacy. Visiting our site with your browser settings adjusted to accept cookies tells us that you want to use Twitch’s services and that you consent to our use of cookies and other technologies as described in our <x:privacy>Privacy Policy</x:privacy>. You can control your cookies by changing the cookie settings in your browser. Consult our <x:cookies>Cookie Policy</x:cookies> for more information.",{"x:cookies":function(e){return(0,o.jsx)(v.Cb,{linkTo:"https://www.twitch.tv/p/legal/cookie-policy/",targetBlank:!0,children:e})},"x:privacy":function(e){return(0,o.jsx)(v.Cb,{linkTo:"https://www.twitch.tv/p/legal/privacy-policy/",targetBlank:!0,children:e})}},"ConsentModal")),k.renderBodyText((0,C.hw)('Additionally, Twitch engages in third-party interest-based ("personalized") advertising and analytics activities to support our services and to provide more relevant ad experiences. Thus, not providing or withdrawing your consent may result in seeing advertising that is not as relevant to you. You can turn off personalized ads using the toggle below.',"ConsentModal")),k.renderBodyText((0,C.hw)("Please note that if you turn off personalized ads from third parties you may still see personalized ads from Amazon, which owns Twitch. You can learn more about Amazon’s interest-based ads policy and how to set your advertising preferences <x:link>here</x:link>.",{"x:link":function(e){return(0,o.jsx)(v.Cb,{linkTo:"https://www.amazon.co.uk/gp/help/customer/display.html/ref=footer_Interest_Based_Ads_Notice?ie=UTF8&nodeId=201909150",targetBlank:!0,children:e})}},"ConsentModal")),k.renderBodyText((0,C.hw)("Please note that, if you elect to participate with incentivized ad products (e.g., Watch Ads for Bits), Twitch may show you personalized ads.","ConsentModal")),(0,o.jsxs)(u.P,{border:!0,borderRadius:g.Z.Small,children:[(0,o.jsx)(E.p,{id:"show_personalized_ads",checked:k.state.showPersonalizedAds,onChange:k.onToggleAllConsent,label:(0,C.hw)("Show me personalized ads","ConsentModal"),"data-a-target":"consent-modal-change-all",description:(0,C.hw)("You can elect to opt out of the collection of information to engage in personalized advertising with all third parties by toggling personalized ads on or off. To customize your opt in options you may pick which specific third parties you'd like to have on or off below.","ConsentModal")}),k.renderToggles()]})]});default:return null}},k.renderBodyText=function(e){return(0,o.jsx)(u.P,{margin:{bottom:2},children:(0,o.jsx)(h.N,{children:e})})},k.renderToggles=function(){var e=Object.keys(k.state.vendorPreferences);return(0,o.jsx)(u.P,{padding:{x:2,top:2},borderTop:!0,children:e.map((function(e){return k.renderToggle(e)}))})},k.renderToggle=function(e){return(0,o.jsx)(u.P,{margin:{bottom:2},children:(0,o.jsx)(p.gE,{label:k.getToggleTitle(e),orientation:p.aG.Horizontal,children:(0,o.jsx)(f.l,{checked:k.hasVendorConsent(e),onChange:function(){return k.onToggle(e)},"data-test-selector":e})})},e)},k.onToggleAllConsent=function(){k.setState((function(e){var n,t,o,i,r,a=!e.showPersonalizedAds,s=(0,N.kT)(e.vendorPreferences,a);return(0,M.am)(s,M.wL.Toggle_All,null===(t=null===(n=k.props)||void 0===n?void 0:n.consentData.consent)||void 0===t?void 0:t.privacyLawName,null===(r=null===(i=null===(o=k.props)||void 0===o?void 0:o.consentData.consent)||void 0===i?void 0:i.dmaUserPreferences)||void 0===r?void 0:r.hasDmaOptIn),{vendorPreferences:s,showPersonalizedAds:a}}))},k.onToggle=function(e){k.setState((function(n){var t=function(e,n){var t,o=e[n];if(!o)return e;return(0,c.__assign)((0,c.__assign)({},e),(t={},t[n]=(0,c.__assign)((0,c.__assign)({},o),{consent:!o.consent}),t))}(n.vendorPreferences,e);return{vendorPreferences:t,showPersonalizedAds:!(0,N.Gh)(t,!1)}}),(function(){var n,t,o,i,r;(0,M.am)(k.state.vendorPreferences,(0,M.Su)(e),null===(t=null===(n=k.props)||void 0===n?void 0:n.consentData.consent)||void 0===t?void 0:t.privacyLawName,null===(r=null===(i=null===(o=k.props)||void 0===o?void 0:o.consentData.consent)||void 0===i?void 0:i.dmaUserPreferences)||void 0===r?void 0:r.hasDmaOptIn)}))},k.onClickSave=function(){return(0,c.__awaiter)(k,void 0,void 0,(function(){var e,n,t,o,i,r,a,s,d,u,v,g,h;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:if(c.trys.push([0,2,,3]),(0,M.am)(this.state.vendorPreferences,M.wL.Save,null===(r=null===(i=this.props)||void 0===i?void 0:i.consentData.consent)||void 0===r?void 0:r.privacyLawName,null===(d=null===(s=null===(a=this.props)||void 0===a?void 0:a.consentData.consent)||void 0===s?void 0:s.dmaUserPreferences)||void 0===d?void 0:d.hasDmaOptIn),!(e=null===(g=null===(v=null===(u=this.props)||void 0===u?void 0:u.consentData)||void 0===v?void 0:v.consent)||void 0===g?void 0:g.privacyLawName))throw new Error("Invalid privacy law name");return n=(0,N.UC)(this.state.vendorPreferences,this.state.purposePreferences,this.state.specialFeaturePreferences,e,l.RI,b.jtc.CONSENT_MODAL,"en"),[4,this.props.updateConsentMutation((0,T.AR)(n))];case 1:if(!(t=c.sent().data))throw new Error("GQL data missing");if(!(o=t.updateConsent)||!o.consent)throw new Error("GQL error, please revoke all consent!");return(0,M.G$)(null===(h=this.props)||void 0===h?void 0:h.consentData),[3,3];case 2:return c.sent(),this.logger.debug("mutation errors!"),[3,3];case 3:return this.props.closeModal(),[2]}}))}))},k.onClickCancel=function(){var e,n,t,o,i;(0,M.am)(k.state.vendorPreferences,M.wL.Cancel,null===(n=null===(e=k.props)||void 0===e?void 0:e.consentData.consent)||void 0===n?void 0:n.privacyLawName,null===(i=null===(o=null===(t=k.props)||void 0===t?void 0:t.consentData.consent)||void 0===o?void 0:o.dmaUserPreferences)||void 0===i?void 0:i.hasDmaOptIn),k.props.closeModal()},k.hasVendorConsent=function(e){var n=k.state.vendorPreferences[e];return!(!n||!n.consent)},k.isQPLModal=function(){var e,n;return(null===(n=null===(e=k.props.consentData)||void 0===e?void 0:e.consent)||void 0===n?void 0:n.privacyLawName)===b.QKh.QPL};var _,S=null===(i=null===(t=null==n?void 0:n.consentData)||void 0===t?void 0:t.consent)||void 0===i?void 0:i.vendorStatus,x=null===(a=null===(r=null==n?void 0:n.consentData)||void 0===r?void 0:r.consent)||void 0===a?void 0:a.privacyLawName;_=O(S?(0,N.wY)(S,x):(0,A.k)(x));(0,M.HL)(_,null===(d=null===(s=k.props)||void 0===s?void 0:s.consentData.consent)||void 0===d?void 0:d.privacyLawName,null===(y=null===(w=null===(m=k.props)||void 0===m?void 0:m.consentData.consent)||void 0===w?void 0:w.dmaUserPreferences)||void 0===y?void 0:y.hasDmaOptIn);var D=!(0,N.Gh)(_,!1);return k.state={showPersonalizedAds:D,vendorPreferences:_,purposePreferences:{},specialFeaturePreferences:{}},k}return(0,c.__extends)(n,e),n.prototype.render=function(){var e=this.isQPLModal()?(0,C.hw)("Cookies & Ads Choices","ConsentModal"):(0,C.hw)("Opt-out Preferences","ConsentModal");return(0,o.jsxs)(u.P,{background:m.VS.Base,className:"consent-modal",children:[(0,o.jsx)(u.P,{padding:2,borderBottom:!0,textAlign:m.nO.Center,children:(0,o.jsx)(w.hE,{id:S.ji,children:e})}),this.renderContentByPrivacyLaw(),(0,o.jsx)(u.P,{padding:2,background:m.VS.Alt2,children:(0,o.jsx)(I.O,{status:F.a.DirtyChanges,onClickSave:this.onClickSave,onClickCancel:this.onClickCancel,saveDataATarget:"consent-modal-save",cancelDataATarget:"consent-modal-cancel"})}),(0,o.jsx)(_.w,{})]})},n.prototype.getToggleTitle=function(e){switch(e){case D.F.AmazonDeprecated:return"Amazon";case D.F.Branch:return"Branch";case D.F.ComScore:return"ComScore";case D.F.Google:return"Google";case D.F.Nielsen:return"Nielsen";case D.F.SalesforceDMP:return"Salesforce DMP";case D.F.IntegralAdScience:return"Integral Ad Science";case D.F.DoubleVerify:return"DoubleVerify";case D.F.Kantar:return"Kantar";case D.F.Lucid:return"Lucid/Cint";case D.F.AudienceProject:return"Audience Project";case D.F.SmartMe:return"SmartMe";case D.F.Innovid:return"Innovid";case D.F.Dynata:return"Dynata";default:return(0,C.hw)("Unknown","ConsentModal")}},n}(i.Component);function O(e){var n=(0,A.z)();return Object.keys(n).reduce((function(n,t){var o,i=e[t];return i&&i.isVisible?(0,c.__assign)((0,c.__assign)({},n),((o={})[t]=e[t],o)):(0,c.__assign)({},n)}),{})}var R=(0,k.Zz)((0,y.Ng)(null,(function(e){return(0,k.zH)({closeModal:x.Oo},e)})),(0,j.D)())(V),L=(0,r.U)({name:"ConsentModal",category:"identity"}),B=L.Available,G=L.Unavailable,z=s.x.wrap((function(){return Promise.all([t.e(43318),t.e(85264)]).then(t.bind(t,876350))}),"GDPRConsentModal"),U=s.x.wrap((function(){return Promise.all([t.e(43318),t.e(78889)]).then(t.bind(t,711343))}),"GDPRPurposeModal"),Q=function(e){var n,t,r=(0,i.useState)("vendor"),s=r[0],c=r[1],u=(0,l.S9)().data;return u?"GDPRVendorConsent"===(null===(t=null===(n=u.consent)||void 0===n?void 0:n.vendorConsentStatus)||void 0===t?void 0:t.__typename)&&(0,d.s7)()?(0,d.e5)()&&"purpose"===s&&u.consent.gdprUserPreferences?(0,o.jsx)(a.t,{name:"ConsentModal",children:(0,o.jsx)(B,{children:(0,o.jsx)(U,{gdprUserPreferences:u.consent.gdprUserPreferences,changeModalView:function(){return c("vendor")}})})}):(0,o.jsx)(a.t,{name:"ConsentModal",children:(0,o.jsx)(B,{children:(0,o.jsx)(z,{gdprConsentData:u.consent.vendorConsentStatus,gdprUserPreferences:u.consent.gdprUserPreferences,dmaUserPreferences:u.consent.dmaUserPreferences,hideDmaBanner:e.hideDmaBanner,changeModalView:function(){return c("purpose")}})})}):(0,o.jsx)(R,{consentData:u}):(0,o.jsx)(G,{})}},369379:function(e,n,t){"use strict";t.d(n,{m:function(){return c}});var o=t(474848),i=t(959340),r=t(914421),a=t(636367),s=t(312663),l=t(674602),d=t(296540),c=(t(710283),function(e){var n=(0,d.useState)(!1),t=n[0],c=n[1],u=(0,d.useCallback)((function(){c((function(e){return!e}))}),[]);return(0,o.jsxs)(i.P,{className:"consent-modal-details",display:r.nl.Flex,flexDirection:r.bo.Column,children:[(0,o.jsx)(i.P,{alignSelf:r.gB.Start,children:(0,o.jsx)(a.tD,{onClick:u,children:(0,o.jsxs)(i.P,{display:r.nl.Flex,color:r.Q1.Link,padding:{bottom:.5},children:[(0,o.jsx)(s.N,{children:e.label}),(0,o.jsx)(l.K7,{open:t,closedDirection:l.JZ.Down,openDirection:l.JZ.Up})]})})}),t&&e.children]})});c.displayName="ConsentModalAccordion"},110760:function(e,n,t){"use strict";t.d(n,{Pe:function(){return o},yK:function(){return c}});var o,i,r=t(331635),a=t(973421),s=t.n(a),l=t(296540),d=t(267924);function c(e,n){var t=l.useReducer(u,function(e,n){void 0===e&&(e=[]);return u({vendorConsentMap:{},hasDmaOptIn:!1},{type:i.Initialize,vendors:e,hasDmaOptIn:n})}(n,e)),r=t[0],a=t[1],s=l.useCallback((function(e){a({type:i.ToggleVendor,vendorName:e})}),[]),c=l.useCallback((function(e){a({type:i.ToggleAllVendorsOfCookieType,cookieType:e})}),[]),v=l.useCallback((function(){a({type:i.ToggleDma})}),[]),g=l.useMemo((function(){return function(e){var n,t=Object.values(e.vendorConsentMap).sort((function(e,n){return e.vendorName.localeCompare(n.vendorName)})),i=function(e){return t.filter((function(n){return n.cookieType===e})).every((function(e){return e.toggleState}))},r={vendors:(n={},n[d.ft9.ESSENTIAL]={NonTCF:[],TCF:[],allVendorsConsented:i(d.ft9.ESSENTIAL)},n[d.ft9.ADVERTISING]={NonTCF:[],TCF:[],allVendorsConsented:i(d.ft9.ADVERTISING)},n[d.ft9.ANALYTICS]={NonTCF:[],TCF:[],allVendorsConsented:i(d.ft9.ANALYTICS)},n),hasDmaOptIn:e.hasDmaOptIn};return t.forEach((function(e){r.vendors[e.cookieType][e.vendorType===o.TCF?"TCF":"NonTCF"].push(e)})),r}(r)}),[r]);return{onCookieTypeToggle:c,onDmaToggle:v,onVendorToggle:s,modalState:g}}!function(e){e[e.TCF=0]="TCF",e[e.NonTCF=1]="NonTCF"}(o||(o={})),function(e){e[e.Initialize=0]="Initialize",e[e.ToggleDma=1]="ToggleDma",e[e.ToggleVendor=2]="ToggleVendor",e[e.ToggleAllVendorsOfCookieType=3]="ToggleAllVendorsOfCookieType"}(i||(i={}));var u=function(e,n){switch(n.type){case i.Initialize:var t={};return n.vendors.forEach((function(e){t[e.vendorName]=(0,r.__assign)((0,r.__assign)({},e),{toggleState:e.initialConsentStatus===d.PI2.GIVEN})})),{vendorConsentMap:t,hasDmaOptIn:n.hasDmaOptIn};case i.ToggleVendor:return e.vendorConsentMap[n.vendorName]?s()(e,(function(e){return e.vendorConsentMap[n.vendorName].toggleState}),(function(e){return!e})):e;case i.ToggleAllVendorsOfCookieType:var o=function(e,n){return Object.values(e.vendorConsentMap).filter((function(e){return e.cookieType===n}))}(e,n.cookieType),a=o.every((function(e){return e.toggleState})),l=e;return o.forEach((function(e){var n=e.vendorName;l.vendorConsentMap[n]&&(l=s()(l,(function(e){return e.vendorConsentMap[n].toggleState}),(function(){return!a})))})),l;case i.ToggleDma:var c=e;return c=s()(c,(function(e){return e.hasDmaOptIn}),(function(e){return!e}));default:return e}}},475777:function(e,n,t){"use strict";t.d(n,{D:function(){return d},Y:function(){return c}});var o=t(331635),i=t(928778),r=t(783321),a=t(323587),s=t(611773),l=t.n(s);function d(){var e=this;return(0,i._v)(l(),{props:function(n){return{updateConsentMutation:function(t){return(0,o.__awaiter)(e,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:if(!n.mutate)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.mutate((0,o.__assign)((0,o.__assign)({},t),{variables:(0,o.__assign)((0,o.__assign)({},t.variables),{includeNewCookieConsentFields:(0,a.s7)(),includeTCData:(0,a.e5)()})}))];case 2:return[2,{data:e.sent().data}];case 3:throw e.sent(),new Error("Unable to update consent");case 4:return[3,6];case 5:throw new Error("Update consent is not ready");case 6:return[2]}}))}))}}}})}var c=function(){return(0,r.n_)(l())}},397061:function(e,n,t){"use strict";t.d(n,{G$:function(){return g},HL:function(){return f},Su:function(){return w},Z8:function(){return h},am:function(){return m},b0:function(){return p},dE:function(){return r},uo:function(){return k},wL:function(){return a}});var o,i,r,a,s=t(478260),l=t(267924),d=t(574156),c=t(486612),u=t(669022),v=t(323587);function g(e,n){var t,r,a,c,g,h,p,f=s.x2.store.getState();if((null===(t=null==e?void 0:e.consent)||void 0===t?void 0:t.privacyLawName)!==l.QKh.ROW)if(null===(r=null==e?void 0:e.consent)||void 0===r?void 0:r.isDeniedUnderage)y(i.Underage,e);else if(n)y(i.DismissButton,e);else{var m=(0,d.wY)(null===(a=null==e?void 0:e.consent)||void 0===a?void 0:a.vendorStatus,null===(c=null==e?void 0:e.consent)||void 0===c?void 0:c.privacyLawName),w=o.Mixed;(0,d.Gh)(m,!0)?w=o.Given:(0,d.Gh)(m,!1)&&(w=o.Denied);var k="";try{k=JSON.stringify((0,d.Sp)(m))}catch(e){s.vF.withCategory("consent-tracking").warn("Failed constructing vendor string")}var C={is_tc_string_enabled:(0,v.e5)(),consent_action:w,consent_session_id:u.RI,consent_string:k,has_dma_opt_in:null===(h=null===(g=null==e?void 0:e.consent)||void 0===g?void 0:g.dmaUserPreferences)||void 0===h?void 0:h.hasDmaOptIn,privacy_law:null===(p=null==e?void 0:e.consent)||void 0===p?void 0:p.privacyLawName,user_id:f.session.user&&f.session.user.id||null};s.E5.track("consent_set",C)}}function h(e){var n,t=s.x2.store.getState();s.E5.track("consent_dialog_shown",{is_tc_string_enabled:(0,v.e5)(),consent_session_id:u.RI,privacy_law:null===(n=null==e?void 0:e.consent)||void 0===n?void 0:n.privacyLawName},{user_id:t.session.user&&t.session.user.id||null})}function p(e,n){var t,o=s.x2.store.getState();s.E5.track("consent_dialog_click",{is_tc_string_enabled:(0,v.e5)(),action:e,consent_session_id:u.RI,privacy_law:null===(t=null==n?void 0:n.consent)||void 0===t?void 0:t.privacyLawName},{user_id:o.session.user&&o.session.user.id||null})}function f(e,n,t){var o=s.x2.store.getState(),i="";try{i=JSON.stringify((0,d.Sp)(e))}catch(e){s.vF.withCategory("consent-tracking").warn("Failed constructing vendor string")}s.E5.track("consent_tool_shown",{is_tc_string_enabled:(0,v.e5)(),consent_session_id:u.RI,consent_string:i,has_dma_opt_in:t,privacy_law:n},{user_id:o.session.user&&o.session.user.id||null})}function m(e,n,t,o){var i=s.x2.store.getState(),r="";try{r=JSON.stringify((0,d.Sp)(e))}catch(e){s.vF.withCategory("consent-tracking").warn("Failed constructing vendor string")}s.E5.track("consent_tool_click",{is_tc_string_enabled:(0,v.e5)(),action:n,consent_session_id:u.RI,consent_string:r,has_dma_opt_in:o,privacy_law:t},{user_id:i.session.user&&i.session.user.id||null})}function w(e){switch(e){case c.F.Branch:return a.Toggle_Branch;case c.F.ComScore:return a.Toggle_Comscore;case c.F.Google:return a.Toggle_Google;case c.F.Nielsen:return a.Toggle_Nielsen;default:return"unknown"}}function y(e,n){var t,o=e,i=s.x2.store.getState(),r={is_tc_string_enabled:(0,v.e5)(),reason:o,consent_session_id:u.RI,privacy_law:null===(t=null==n?void 0:n.consent)||void 0===t?void 0:t.privacyLawName,user_id:i.session.user&&i.session.user.id||null};s.E5.track("consent_disabled",r)}function k(e,n,t,o){var i=s.x2.store.getState(),r={consent_footer_string:o,ads_cookies_selected:n,analytics_cookies_selected:t,consent_session_id:u.RI,is_tc_string_enabled:(0,v.e5)(),privacy_law:e,user_id:i.session.user&&i.session.user.id||null};s.E5.track("consent_tool_footer_shown",r)}!function(e){e.Given="consent_given",e.Denied="consent_denied",e.Mixed="consent_mixed"}(o||(o={})),function(e){e.Underage="underage",e.DismissButton="dismiss_button"}(i||(i={})),function(e){e.Accept="accept",e.Close="close",e.Manage="manage_consent",e.Reject="reject"}(r||(r={})),function(e){e.Toggle_All="toggle_all_vendors",e.Toggle_Branch="toggle_branch",e.Toggle_Comscore="toggle_comscore",e.Toggle_Google="toggle_google",e.Toggle_Nielsen="toggle_nielsen",e.Save="save",e.Cancel="cancel",e.Purpose="purpose"}(a||(a={}))},906712:function(e,n,t){"use strict";t.d(n,{a:function(){return o},y:function(){return l}});var o,i=t(331635),r=t(474848),a=t(564368),s=(t(296540),t(478260));!function(e){e[e.NoChanges=0]="NoChanges",e[e.DirtyChanges=1]="DirtyChanges",e[e.Working=2]="Working",e[e.Success=3]="Success",e[e.Error=4]="Error",e[e.Default=5]="Default"}(o||(o={}));var l=function(e){var n=e.status,t=e.children,l=(0,i.__rest)(e,["status","children"]),d=a.w.Default,c=a.VQ.Primary,u=!1;return n===o.Working?d=a.w.Loading:n===o.Success?d=a.w.Success:n===o.Error?c=a.VQ.Alert:n===o.NoChanges&&(u=!0),t||(t=n===o.Error?(0,s.hw)("Error","Save Button"):(0,s.hw)("Save","Save Button")),(0,r.jsx)(a.$n,(0,i.__assign)({disabled:u,state:d,variant:c},l,{children:t}))}},345319:function(e,n,t){"use strict";t.d(n,{O:function(){return u}});var o=t(331635),i=t(474848),r=t(959340),a=t(914421),s=t(564368),l=t(296540),d=t(478260),c=t(906712),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,o.__extends)(n,e),n.prototype.render=function(){var e=null;return this.props.onClickCancel&&(e=(0,i.jsx)(r.P,{display:a.nl.Inline,children:(0,i.jsx)(s.$n,{disabled:!(this.props.status===c.a.DirtyChanges||this.props.status===c.a.Error),variant:s.VQ.Text,"data-a-target":this.props.cancelDataATarget,onClick:this.props.onClickCancel,children:(0,d.hw)("Cancel","SaveSettingsFooter")})})),(0,i.jsxs)(r.P,{display:a.nl.Flex,justifyContent:a.A9.End,gap:1,children:[e,(0,i.jsx)(c.y,{status:this.props.status,onClick:this.props.onClickSave,"data-a-target":this.props.saveDataATarget||"save-user-settings-button",children:this.props.status===c.a.Error?(0,d.hw)("Failed to save settings. Try again.","SaveButton"):(0,d.hw)("Save Changes","SaveSettingsFooter")})]})},n}(l.Component)},174907:function(e,n,t){"use strict";t.d(n,{a:function(){return s}});var o=t(474848),i=t(959340),r=t(312663),a=t(914421),s=(t(296540),function(e){return(0,o.jsxs)(i.P,{margin:{top:1},id:e.id,children:[(0,o.jsx)(r.N,{color:a.Q1.Alt,"data-a-target":e.textDataTarget,children:e.text}),e.extraText&&(0,o.jsx)(i.P,{margin:{top:.5},children:(0,o.jsx)(i.P,{color:a.Q1.Alt2,children:e.extraText})})]})})},925184:function(e,n,t){"use strict";t.d(n,{p:function(){return u}});var o=t(474848),i=t(950962),r=t(757170),a=t(959340),s=t(97774),l=(t(296540),t(834455)),d=t(478260),c=t(937042),u=function(e){var n=(0,l.zy)();return(0,o.jsxs)(c.i,{hideBorder:e.hideBorder,focus:!!e.id&&n.hash==="#".concat(e.id),dataHighlightSelector:e.dataHighlightSelector,children:[(0,o.jsx)(i.gE,{error:e.error&&(0,o.jsx)(r.j,{"aria-live":"polite",errorMessage:e.errorMessage||(0,d.hw)("Sorry, something went wrong. Please try again later.","SettingsFormGroup")}),hint:e.hint,id:e.id,label:e.label,labelOptional:e.labelOptional,orientation:e.orientation||i.aG.Horizontal,children:e.children}),e.subsection&&(0,o.jsx)(a.P,{margin:{top:1},border:!0,borderRadius:s.Z.Medium,children:e.subsection})]})}},937042:function(e,n,t){"use strict";t.d(n,{i:function(){return v}});var o=t(474848),i=t(959340),r=t(312663),a=t(914421),s=t(891975),l=t(246942),d=t.n(l),c=t(296540),u=t(834455),v=function(e){var n=c.useRef(null),t=(0,u.zy)();(0,s.S)((function(){if((e.focus||e.id&&t.hash==="#".concat(e.id))&&n.current){var o=setTimeout((function(){var e;null===(e=n.current)||void 0===e||e.scrollIntoView()}),500);return function(){return clearTimeout(o)}}}));var l=null;e.title&&(l=(0,o.jsx)(i.P,{padding:{bottom:1},children:(0,o.jsx)(r.N,{fontSize:a.Z4.Size6,color:e.error?a.Q1.Error:a.Q1.Base,bold:!0,children:e.title})}));var v={"settings-row":!0,"settings-row--focused":e.focus||!!e.id&&t.hash==="#".concat(e.id),"settings-row--no-border":e.hideBorder};return(0,o.jsxs)(i.P,{padding:e.inset?0:2,className:d()(v),fullWidth:!0,ref:n,style:e.style,"data-highlight-selector":e.dataHighlightSelector,children:[l,e.children,e.errorMessage&&(0,o.jsx)(r.N,{color:a.Q1.Error,fontSize:a.Z4.Size7,children:e.errorMessage})]})}},260674:function(e,n,t){"use strict";t.d(n,{p:function(){return g}});var o=t(331635),i=t(474848),r=t(959340),a=t(305528),s=t(914421),l=t(407590),d=t(27346),c=t(950962),u=(t(296540),t(174907)),v=t(925184),g=function(e){var n=function(n){var t;null===(t=e.onChange)||void 0===t||t.call(e,n.currentTarget.checked)};return(0,i.jsx)(v.p,{hideBorder:e.hideBorder,id:e.id,label:e.label,labelOptional:e.labelOptional,error:e.error,errorMessage:e.errorMessage,orientation:c.aG.Auto,children:e.showPlaceholder?(0,i.jsxs)(r.P,{children:[(0,i.jsx)(a.Or,{lineCount:e.placeholderLineCount?e.placeholderLineCount:1}),e.children]}):(0,i.jsxs)(r.P,{display:s.nl.Flex,flexDirection:s.bo.Column,children:[(0,i.jsx)(r.P,{alignSelf:e.toggleAlignment?e.toggleAlignment:s.gB.Start,children:(0,i.jsx)(l.l,(0,o.__assign)({"aria-describedby":"".concat(e.id,"__description"),checked:e.checked,error:e.error,disabled:e.disabled,onChange:n,name:e.name,id:e.id},(0,d.Fh)(e)))}),e.description&&(0,i.jsx)(u.a,{id:"".concat(e.id,"__description"),text:e.description,extraText:e.extraDescription}),e.children]})})}}}]);