
> diala-unified@1.0.0 dev
> concurrently "npm:backend" "npm:frontend" "npm:kokoro" 2

[kokoro] 
[kokoro] > diala-unified@1.0.0 kokoro
[kokoro] > cd backend/src/models/voice/Kokoro-FastAPI && bash ./start-local.sh
[kokoro] 
[frontend] 
[frontend] > diala-unified@1.0.0 frontend
[frontend] > cd frontend && npm run dev
[frontend] 
[kokoro] [kokoro-start] Using backend venv at ../../../../venv
[backend] 
[backend] > diala-unified@1.0.0 backend
[backend] > cd backend && ./start-backend.sh
[backend] 
[backend] 🚀 Starting Diala Backend API...
[backend] 📡 Starting FastAPI server on http://localhost:8000 via run_server.py
[3] /bin/sh: 1: 2: not found
[3] 2 exited with code 127
[frontend] 
[frontend] > voice-agent-frontend@0.1.0 dev
[frontend] > concurrently "npm:convex:dev" "next dev"
[frontend] 
[kokoro] Requirement already satisfied: pip in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (25.2)
[frontend] [convex:dev] 
[frontend] [convex:dev] > voice-agent-frontend@0.1.0 convex:dev
[frontend] [convex:dev] > FORCE_CONVEX_CLOUD=1 node ./scripts/convex-dev-retry.js
[frontend] [convex:dev] 
[frontend] [convex:dev] [33mconvex-local-backend binary not found; falling back to Cloud.[0m
[frontend] [convex:dev] [33mUsing Convex Cloud (no local backend).[0m
[kokoro] Requirement already satisfied: setuptools in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (80.9.0)
[kokoro] Requirement already satisfied: wheel in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (0.45.1)
[frontend] [1]  ⚠ Port 3000 is in use, trying 3001 instead.
[frontend] [1]    ▲ Next.js 14.0.4
[frontend] [1]    - Local:        http://localhost:3001
[frontend] [1]    - Environments: .env.local
[frontend] [1] 
[kokoro] Obtaining file:///home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI
[kokoro]   Installing build dependencies: started
[frontend] [1]  ✓ Ready in 2.7s
[kokoro]   Installing build dependencies: finished with status 'done'
[kokoro]   Checking if build backend supports build_editable: started
[kokoro]   Checking if build backend supports build_editable: finished with status 'done'
[kokoro]   Getting requirements to build editable: started
[backend] 2025-08-23 14:06:56,749 - torio._extension.utils - DEBUG - [_find_ffmpeg_extension:114] - Loading FFmpeg6
[backend] 2025-08-23 14:06:56,887 - torio._extension.utils - DEBUG - [_find_ffmpeg_extension:117] - Successfully loaded FFmpeg6
[kokoro]   Getting requirements to build editable: finished with status 'done'
[kokoro]   Preparing editable metadata (pyproject.toml): started
[kokoro]   Preparing editable metadata (pyproject.toml): finished with status 'done'
[kokoro] Requirement already satisfied: fastapi==0.115.6 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.115.6)
[kokoro] Requirement already satisfied: uvicorn==0.34.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.34.0)
[kokoro] Requirement already satisfied: click>=8.0.0 in /usr/lib/python3/dist-packages (from kokoro-fastapi==0.3.0) (8.1.6)
[kokoro] Requirement already satisfied: pydantic==2.10.4 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (2.10.4)
[kokoro] Requirement already satisfied: pydantic-settings==2.7.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (2.7.0)
[kokoro] Requirement already satisfied: python-dotenv==1.0.1 in /usr/local/lib/python3.12/dist-packages (from kokoro-fastapi==0.3.0) (1.0.1)
[kokoro] Requirement already satisfied: sqlalchemy==2.0.27 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (2.0.27)
[kokoro] Requirement already satisfied: numpy>=1.26.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (2.2.6)
[kokoro] Requirement already satisfied: scipy==1.14.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (1.14.1)
[kokoro] Requirement already satisfied: soundfile==0.13.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.13.0)
[kokoro] Requirement already satisfied: regex==2024.11.6 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (2024.11.6)
[kokoro] Requirement already satisfied: aiofiles==23.2.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (23.2.1)
[kokoro] Requirement already satisfied: tqdm==4.67.1 in /home/bozo/.local/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (4.67.1)
[kokoro] Requirement already satisfied: requests==2.32.3 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (2.32.3)
[kokoro] Requirement already satisfied: munch==4.0.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (4.0.0)
[kokoro] Requirement already satisfied: tiktoken==0.8.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.8.0)
[kokoro] Requirement already satisfied: loguru==0.7.3 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.7.3)
[kokoro] Requirement already satisfied: openai>=1.59.6 in /home/bozo/.local/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (1.95.1)
[kokoro] Requirement already satisfied: pydub>=0.25.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.25.1)
[kokoro] Requirement already satisfied: matplotlib>=3.10.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (3.10.5)
[kokoro] Requirement already satisfied: mutagen>=1.47.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (1.47.0)
[kokoro] Requirement already satisfied: psutil>=6.1.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (7.0.0)
[kokoro] Requirement already satisfied: espeakng-loader==0.2.4 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.2.4)
[kokoro] Requirement already satisfied: kokoro==0.9.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (0.9.2)
[kokoro] Requirement already satisfied: misaki==0.9.3 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.9.3)
[kokoro] Requirement already satisfied: spacy==3.8.5 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (3.8.5)
[kokoro] Collecting en-core-web-sm@ https://github.com/explosion/spacy-models/releases/download/en_core_web_sm-3.8.0/en_core_web_sm-3.8.0-py3-none-any.whl (from kokoro-fastapi==0.3.0)
[kokoro]   Using cached https://github.com/explosion/spacy-models/releases/download/en_core_web_sm-3.8.0/en_core_web_sm-3.8.0-py3-none-any.whl (12.8 MB)
[kokoro] Requirement already satisfied: inflect>=7.5.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (7.5.0)
[kokoro] Requirement already satisfied: phonemizer-fork>=3.3.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (3.3.2)
[kokoro] Requirement already satisfied: av>=14.2.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (15.0.0)
[kokoro] Requirement already satisfied: text2num>=2.5.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (3.0.0)
[kokoro] Requirement already satisfied: torch==2.7.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro-fastapi==0.3.0) (2.7.1)
[kokoro] Requirement already satisfied: starlette<0.42.0,>=0.40.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from fastapi==0.115.6->kokoro-fastapi==0.3.0) (0.41.3)
[kokoro] Requirement already satisfied: typing-extensions>=4.8.0 in /home/bozo/.local/lib/python3.12/site-packages (from fastapi==0.115.6->kokoro-fastapi==0.3.0) (4.14.1)
[kokoro] Requirement already satisfied: annotated-types>=0.6.0 in /home/bozo/.local/lib/python3.12/site-packages (from pydantic==2.10.4->kokoro-fastapi==0.3.0) (0.7.0)
[kokoro] Requirement already satisfied: pydantic-core==2.27.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from pydantic==2.10.4->kokoro-fastapi==0.3.0) (2.27.2)
[kokoro] Requirement already satisfied: huggingface-hub in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro==0.9.2->kokoro-fastapi==0.3.0) (0.34.3)
[kokoro] Requirement already satisfied: transformers in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from kokoro==0.9.2->kokoro-fastapi==0.3.0) (4.38.0)
[kokoro] Requirement already satisfied: addict in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki==0.9.3->misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (2.4.0)
[kokoro] Requirement already satisfied: num2words in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.5.14)
[kokoro] Requirement already satisfied: spacy-curated-transformers in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.3.1)
[kokoro] Requirement already satisfied: fugashi in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (1.5.1)
[kokoro] Requirement already satisfied: jaconv in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.4.0)
[kokoro] Requirement already satisfied: mojimoji in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.0.13)
[kokoro] Requirement already satisfied: pyopenjtalk-plus in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.4.1.post3)
[kokoro] Requirement already satisfied: unidic-lite in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (1.0.8)
[kokoro] Requirement already satisfied: jamo in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.4.1)
[kokoro] Requirement already satisfied: nltk in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (3.9.1)
[kokoro] Requirement already satisfied: cn2an in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.5.23)
[kokoro] Requirement already satisfied: jieba in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.42.1)
[kokoro] Requirement already satisfied: ordered-set in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (4.1.0)
[kokoro] Requirement already satisfied: pypinyin in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.55.0)
[kokoro] Requirement already satisfied: pypinyin-dict in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.9.0)
[kokoro] Requirement already satisfied: charset-normalizer<4,>=2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from requests==2.32.3->kokoro-fastapi==0.3.0) (3.4.2)
[kokoro] Requirement already satisfied: idna<4,>=2.5 in /usr/lib/python3/dist-packages (from requests==2.32.3->kokoro-fastapi==0.3.0) (3.6)
[kokoro] Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.32.3->kokoro-fastapi==0.3.0) (2.0.7)
[kokoro] Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.32.3->kokoro-fastapi==0.3.0) (2023.11.17)
[kokoro] Requirement already satisfied: cffi>=1.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from soundfile==0.13.0->kokoro-fastapi==0.3.0) (1.17.1)
[kokoro] Requirement already satisfied: spacy-legacy<3.1.0,>=3.0.11 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (3.0.12)
[kokoro] Requirement already satisfied: spacy-loggers<2.0.0,>=1.0.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (1.0.5)
[kokoro] Requirement already satisfied: murmurhash<1.1.0,>=0.28.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (1.0.13)
[kokoro] Requirement already satisfied: cymem<2.1.0,>=2.0.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (2.0.11)
[kokoro] Requirement already satisfied: preshed<3.1.0,>=3.0.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (3.0.10)
[kokoro] Requirement already satisfied: thinc<8.4.0,>=8.3.4 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (8.3.6)
[kokoro] Requirement already satisfied: wasabi<1.2.0,>=0.9.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (1.1.3)
[kokoro] Requirement already satisfied: srsly<3.0.0,>=2.4.3 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (2.5.1)
[kokoro] Requirement already satisfied: catalogue<2.1.0,>=2.0.6 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (2.0.10)
[kokoro] Requirement already satisfied: weasel<0.5.0,>=0.1.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (0.4.1)
[kokoro] Requirement already satisfied: typer<1.0.0,>=0.3.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (0.16.0)
[kokoro] Requirement already satisfied: jinja2 in /usr/lib/python3/dist-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (3.1.2)
[kokoro] Requirement already satisfied: setuptools in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (80.9.0)
[kokoro] Requirement already satisfied: packaging>=20.0 in /usr/lib/python3/dist-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (24.0)
[kokoro] Requirement already satisfied: langcodes<4.0.0,>=3.2.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy==3.8.5->kokoro-fastapi==0.3.0) (3.5.0)
[kokoro] Requirement already satisfied: greenlet!=0.4.17 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from sqlalchemy==2.0.27->kokoro-fastapi==0.3.0) (3.2.3)
[kokoro] Requirement already satisfied: filelock in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (3.18.0)
[kokoro] Requirement already satisfied: sympy>=1.13.3 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (1.14.0)
[kokoro] Requirement already satisfied: networkx in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (3.5)
[kokoro] Requirement already satisfied: fsspec in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (2025.7.0)
[kokoro] Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.6.77 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (12.6.77)
[kokoro] Requirement already satisfied: nvidia-cuda-runtime-cu12==12.6.77 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (12.6.77)
[kokoro] Requirement already satisfied: nvidia-cuda-cupti-cu12==12.6.80 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (12.6.80)
[kokoro] Requirement already satisfied: nvidia-cudnn-cu12==9.5.1.17 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (9.5.1.17)
[kokoro] Requirement already satisfied: nvidia-cublas-cu12==12.6.4.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (12.6.4.1)
[kokoro] Requirement already satisfied: nvidia-cufft-cu12==11.3.0.4 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (11.3.0.4)
[kokoro] Requirement already satisfied: nvidia-curand-cu12==10.3.7.77 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (10.3.7.77)
[kokoro] Requirement already satisfied: nvidia-cusolver-cu12==11.7.1.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (11.7.1.2)
[kokoro] Requirement already satisfied: nvidia-cusparse-cu12==12.5.4.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (12.5.4.2)
[kokoro] Requirement already satisfied: nvidia-cusparselt-cu12==0.6.3 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (0.6.3)
[kokoro] Requirement already satisfied: nvidia-nccl-cu12==2.26.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (2.26.2)
[kokoro] Requirement already satisfied: nvidia-nvtx-cu12==12.6.77 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (12.6.77)
[kokoro] Requirement already satisfied: nvidia-nvjitlink-cu12==12.6.85 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (12.6.85)
[kokoro] Requirement already satisfied: nvidia-cufile-cu12==1.11.1.6 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (1.11.1.6)
[kokoro] Requirement already satisfied: triton==3.3.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from torch==2.7.1->kokoro-fastapi==0.3.0) (3.3.1)
[kokoro] Requirement already satisfied: h11>=0.8 in /home/bozo/.local/lib/python3.12/site-packages (from uvicorn==0.34.0->kokoro-fastapi==0.3.0) (0.16.0)
[kokoro] Requirement already satisfied: language-data>=1.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from langcodes<4.0.0,>=3.2.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (1.3.0)
[kokoro] Requirement already satisfied: anyio<5,>=3.4.0 in /home/bozo/.local/lib/python3.12/site-packages (from starlette<0.42.0,>=0.40.0->fastapi==0.115.6->kokoro-fastapi==0.3.0) (4.9.0)
[kokoro] Requirement already satisfied: sniffio>=1.1 in /home/bozo/.local/lib/python3.12/site-packages (from anyio<5,>=3.4.0->starlette<0.42.0,>=0.40.0->fastapi==0.115.6->kokoro-fastapi==0.3.0) (1.3.1)
[kokoro] Requirement already satisfied: blis<1.4.0,>=1.3.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from thinc<8.4.0,>=8.3.4->spacy==3.8.5->kokoro-fastapi==0.3.0) (1.3.0)
[kokoro] Requirement already satisfied: confection<1.0.0,>=0.0.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from thinc<8.4.0,>=8.3.4->spacy==3.8.5->kokoro-fastapi==0.3.0) (0.1.5)
[kokoro] Requirement already satisfied: shellingham>=1.3.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from typer<1.0.0,>=0.3.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (1.5.4)
[kokoro] Requirement already satisfied: rich>=10.11.0 in /usr/lib/python3/dist-packages (from typer<1.0.0,>=0.3.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (13.7.1)
[kokoro] Requirement already satisfied: cloudpathlib<1.0.0,>=0.7.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from weasel<0.5.0,>=0.1.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (0.21.1)
[kokoro] Requirement already satisfied: smart-open<8.0.0,>=5.2.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from weasel<0.5.0,>=0.1.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (7.3.0.post1)
[kokoro] Requirement already satisfied: wrapt in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from smart-open<8.0.0,>=5.2.1->weasel<0.5.0,>=0.1.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (1.17.3)
[kokoro] Requirement already satisfied: pycparser in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from cffi>=1.0->soundfile==0.13.0->kokoro-fastapi==0.3.0) (2.22)
[kokoro] Requirement already satisfied: more_itertools>=8.5.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from inflect>=7.5.0->kokoro-fastapi==0.3.0) (10.7.0)
[kokoro] Requirement already satisfied: typeguard>=4.0.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from inflect>=7.5.0->kokoro-fastapi==0.3.0) (4.4.4)
[kokoro] Requirement already satisfied: marisa-trie>=1.1.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from language-data>=1.2->langcodes<4.0.0,>=3.2.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (1.3.0)
[kokoro] Requirement already satisfied: contourpy>=1.0.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (1.3.3)
[kokoro] Requirement already satisfied: cycler>=0.10 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (0.12.1)
[kokoro] Requirement already satisfied: fonttools>=4.22.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (4.59.0)
[kokoro] Requirement already satisfied: kiwisolver>=1.3.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (1.4.8)
[kokoro] Requirement already satisfied: pillow>=8 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (11.3.0)
[kokoro] Requirement already satisfied: pyparsing>=2.3.1 in /usr/lib/python3/dist-packages (from matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (3.1.1)
[kokoro] Requirement already satisfied: python-dateutil>=2.7 in /home/bozo/.local/lib/python3.12/site-packages (from matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (2.9.0.post0)
[kokoro] Requirement already satisfied: distro<2,>=1.7.0 in /usr/lib/python3/dist-packages (from openai>=1.59.6->kokoro-fastapi==0.3.0) (1.9.0)
[kokoro] Requirement already satisfied: httpx<1,>=0.23.0 in /home/bozo/.local/lib/python3.12/site-packages (from openai>=1.59.6->kokoro-fastapi==0.3.0) (0.28.1)
[kokoro] Requirement already satisfied: jiter<1,>=0.4.0 in /home/bozo/.local/lib/python3.12/site-packages (from openai>=1.59.6->kokoro-fastapi==0.3.0) (0.10.0)
[kokoro] Requirement already satisfied: httpcore==1.* in /home/bozo/.local/lib/python3.12/site-packages (from httpx<1,>=0.23.0->openai>=1.59.6->kokoro-fastapi==0.3.0) (1.0.9)
[kokoro] Requirement already satisfied: attrs>=18.1 in /usr/lib/python3/dist-packages (from phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (23.2.0)
[kokoro] Requirement already satisfied: dlinfo in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (2.0.0)
[kokoro] Requirement already satisfied: joblib in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (1.5.1)
[kokoro] Requirement already satisfied: segments in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (2.3.0)
[kokoro] Requirement already satisfied: six>=1.5 in /usr/lib/python3/dist-packages (from python-dateutil>=2.7->matplotlib>=3.10.0->kokoro-fastapi==0.3.0) (1.16.0)
[kokoro] Requirement already satisfied: markdown-it-py>=2.2.0 in /usr/lib/python3/dist-packages (from rich>=10.11.0->typer<1.0.0,>=0.3.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (3.0.0)
[kokoro] Requirement already satisfied: pygments<3.0.0,>=2.13.0 in /usr/lib/python3/dist-packages (from rich>=10.11.0->typer<1.0.0,>=0.3.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (2.17.2)
[kokoro] Requirement already satisfied: mdurl~=0.1 in /usr/lib/python3/dist-packages (from markdown-it-py>=2.2.0->rich>=10.11.0->typer<1.0.0,>=0.3.0->spacy==3.8.5->kokoro-fastapi==0.3.0) (0.1.2)
[kokoro] Requirement already satisfied: mpmath<1.4,>=1.1.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from sympy>=1.13.3->torch==2.7.1->kokoro-fastapi==0.3.0) (1.3.0)
[kokoro] Requirement already satisfied: proces>=0.1.7 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from cn2an->misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.1.7)
[kokoro] Requirement already satisfied: pyyaml>=5.1 in /usr/lib/python3/dist-packages (from huggingface-hub->kokoro==0.9.2->kokoro-fastapi==0.3.0) (6.0.1)
[kokoro] Requirement already satisfied: hf-xet<2.0.0,>=1.1.3 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from huggingface-hub->kokoro==0.9.2->kokoro-fastapi==0.3.0) (1.1.5)
[kokoro] Requirement already satisfied: docopt>=0.6.2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from num2words->misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.6.2)
[kokoro] Requirement already satisfied: sudachipy in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from pyopenjtalk-plus->misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.6.10)
[kokoro] Requirement already satisfied: sudachidict_core in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from pyopenjtalk-plus->misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (20250515)
[kokoro] Requirement already satisfied: csvw>=1.5.6 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (3.5.1)
[kokoro] Requirement already satisfied: isodate in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (0.7.2)
[kokoro] Requirement already satisfied: rfc3986<2 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (1.5.0)
[kokoro] Requirement already satisfied: uritemplate>=3.0.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (4.2.0)
[kokoro] Requirement already satisfied: babel in /usr/lib/python3/dist-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (2.10.3)
[kokoro] Requirement already satisfied: language-tags in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (1.2.0)
[kokoro] Requirement already satisfied: rdflib in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (7.1.4)
[kokoro] Requirement already satisfied: colorama in /usr/lib/python3/dist-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (0.4.6)
[kokoro] Requirement already satisfied: jsonschema in /usr/lib/python3/dist-packages (from csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (4.10.3)
[kokoro] Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in /usr/lib/python3/dist-packages (from jsonschema->csvw>=1.5.6->segments->phonemizer-fork>=3.3.2->kokoro-fastapi==0.3.0) (0.20.0)
[kokoro] Requirement already satisfied: curated-transformers<0.2.0,>=0.1.0 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy-curated-transformers->misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.1.1)
[kokoro] Requirement already satisfied: curated-tokenizers<0.1.0,>=0.0.9 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from spacy-curated-transformers->misaki[en,ja,ko,zh]==0.9.3->kokoro-fastapi==0.3.0) (0.0.9)
[kokoro] Requirement already satisfied: tokenizers<0.19,>=0.14 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from transformers->kokoro==0.9.2->kokoro-fastapi==0.3.0) (0.15.2)
[kokoro] Requirement already satisfied: safetensors>=0.4.1 in /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages (from transformers->kokoro==0.9.2->kokoro-fastapi==0.3.0) (0.5.3)
[backend] 2025-08-23 14:06:58,711 - root - DEBUG - [decorator:55] - New registry table added: preprocessor_classes
[kokoro] Building wheels for collected packages: kokoro-fastapi
[kokoro]   Building editable for kokoro-fastapi (pyproject.toml): started
[backend] 2025-08-23 14:06:59,069 - root - DEBUG - [decorator:61] - Key Conformer already exists in model_classes, re-register
[kokoro]   Building editable for kokoro-fastapi (pyproject.toml): finished with status 'done'
[kokoro]   Created wheel for kokoro-fastapi: filename=kokoro_fastapi-0.3.0-0.editable-py3-none-any.whl size=13058 sha256=6a15d8ea46aafd85b6731ce08892a5c282e22b64da6ee576e75eb1b72ab33f43
[kokoro]   Stored in directory: /tmp/pip-ephem-wheel-cache-6dgee_bh/wheels/aa/d9/6c/93c1a87b7db227e0ac8f462dd756f4767e14e3d2f1ba69d6b2
[kokoro] Successfully built kokoro-fastapi
[frontend] [convex:dev] ✖ A local backend is still running on port 3210. Please stop it and run this command again.
[frontend] [convex:dev] npm run convex:dev exited with code 1
[backend] 2025-08-23 14:06:59,568 - root - DEBUG - [decorator:61] - Key ParaformerSANMDecoder already exists in decoder_classes, re-register
[backend] 2025-08-23 14:06:59,582 - root - DEBUG - [decorator:61] - Key ParaformerSANMDecoderExport already exists in decoder_classes, re-register
[kokoro] Installing collected packages: kokoro-fastapi
[kokoro]   Attempting uninstall: kokoro-fastapi
[kokoro]     Found existing installation: kokoro-fastapi 0.3.0
[kokoro]     Uninstalling kokoro-fastapi-0.3.0:
[backend] 2025-08-23 14:06:59,595 - root - DEBUG - [decorator:61] - Key ParaformerSANMDecoderOnlineExport already exists in decoder_classes, re-register
[backend] 2025-08-23 14:06:59,609 - root - DEBUG - [decorator:61] - Key ParaformerSANDecoder already exists in decoder_classes, re-register
[backend] 2025-08-23 14:06:59,625 - root - DEBUG - [decorator:61] - Key ParaformerDecoderSANExport already exists in decoder_classes, re-register
[backend] 2025-08-23 14:06:59,771 - root - DEBUG - [decorator:55] - New registry table added: adaptor_classes
[backend] 2025-08-23 14:06:59,912 - root - DEBUG - [decorator:61] - Key Linear already exists in adaptor_classes, re-register
[kokoro]       Successfully uninstalled kokoro-fastapi-0.3.0
[kokoro] Successfully installed kokoro-fastapi-0.3.0
[backend] 2025-08-23 14:07:00,241 - root - DEBUG - [decorator:61] - Key TransformerDecoder already exists in decoder_classes, re-register
[backend] 2025-08-23 14:07:00,261 - root - DEBUG - [decorator:61] - Key LightweightConvolutionTransformerDecoder already exists in decoder_classes, re-register
[backend] 2025-08-23 14:07:00,272 - root - DEBUG - [decorator:61] - Key LightweightConvolution2DTransformerDecoder already exists in decoder_classes, re-register
[backend] 2025-08-23 14:07:00,284 - root - DEBUG - [decorator:61] - Key DynamicConvolutionTransformerDecoder already exists in decoder_classes, re-register
[backend] 2025-08-23 14:07:00,296 - root - DEBUG - [decorator:61] - Key DynamicConvolution2DTransformerDecoder already exists in decoder_classes, re-register
[backend] 2025-08-23 14:07:00,592 - root - DEBUG - [decorator:55] - New registry table added: lid_predictor_classes
[backend] 2025-08-23 14:07:00,694 - speechbrain.utils.checkpoints - DEBUG - [register_checkpoint_hooks:452] - Registered checkpoint save hook for _speechbrain_save
[backend] 2025-08-23 14:07:00,694 - speechbrain.utils.checkpoints - DEBUG - [register_checkpoint_hooks:455] - Registered checkpoint load hook for _speechbrain_load
[backend] 2025-08-23 14:07:00,694 - speechbrain.utils.checkpoints - DEBUG - [register_checkpoint_hooks:452] - Registered checkpoint save hook for save
[backend] 2025-08-23 14:07:00,694 - speechbrain.utils.checkpoints - DEBUG - [register_checkpoint_hooks:455] - Registered checkpoint load hook for load
[backend] 2025-08-23 14:07:00,945 - speechbrain.utils.quirks - INFO - [log_applied_quirks:115] - Applied quirks (see `speechbrain.utils.quirks`): [allow_tf32, disable_jit_profiling]
[backend] 2025-08-23 14:07:00,946 - speechbrain.utils.quirks - INFO - [log_applied_quirks:120] - Excluded quirks specified by the `SB_DISABLE_QUIRKS` environment (comma-separated list): []
[backend] 2025-08-23 14:07:00,947 - speechbrain.utils.checkpoints - DEBUG - [register_checkpoint_hooks:452] - Registered checkpoint save hook for _save
[backend] 2025-08-23 14:07:00,947 - speechbrain.utils.checkpoints - DEBUG - [register_checkpoint_hooks:455] - Registered checkpoint load hook for _recover
[backend] 2025-08-23 14:07:01,128 - matplotlib - DEBUG - [wrapper:342] - matplotlib data path: /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages/matplotlib/mpl-data
[backend] 2025-08-23 14:07:01,136 - matplotlib - DEBUG - [wrapper:342] - CONFIGDIR=/home/bozo/.config/matplotlib
[backend] 2025-08-23 14:07:01,137 - matplotlib - DEBUG - [<module>:1560] - interactive is False
[backend] 2025-08-23 14:07:01,138 - matplotlib - DEBUG - [<module>:1561] - platform is linux
[backend] 2025-08-23 14:07:01,516 - matplotlib - DEBUG - [wrapper:342] - CACHEDIR=/home/bozo/.cache/matplotlib
[backend] 2025-08-23 14:07:01,518 - matplotlib.font_manager - DEBUG - [_load_fontmanager:1635] - Using fontManager instance from /home/bozo/.cache/matplotlib/fontlist-v390.json
[kokoro] Kokoro voice models already exist in voices directory
[kokoro] Main Kokoro model already exists, skipping download
[backend] 2025-08-23 14:07:03,415 - src.services.audio_separation_service - INFO - [__init__:39] - Audio Separation Service initialized - Device: cuda
[backend] Using cache found in /home/bozo/.cache/torch/hub/snakers4_silero-vad_master
[backend] 2025-08-23 14:07:06,988 - src.services.comprehensive_audio_service - INFO - [<module>:331] - Silero VAD loaded successfully
[backend] 2025-08-23 14:07:06,990 - src.services.audio_preparation_service - INFO - [__init__:34] - Audio Preparation Service initialized - Using Whisper v3 ASR via realtime service
[backend] 2025-08-23 14:07:07,009 - src.api.public.tiktok_content - INFO - [<module>:45] - Initializing Convex client with URL: http://127.0.0.1:3210
[backend] 2025-08-23 14:07:07,885 - src.services.chatterbox_service - WARNING - [__init__:64] - Flash Attention 2 not available
[backend] 2025-08-23 14:07:07,886 - src.services.chatterbox_service - INFO - [_detect_gpu_backend:91] - Detected GPU backend: cuda
[backend] 2025-08-23 14:07:07,889 - src.services.chatterbox_service - INFO - [_detect_gpu_backend:96] - GPU detected: NVIDIA GeForce RTX 4060 Laptop GPU
[backend] 2025-08-23 14:07:07,889 - src.services.chatterbox_service - INFO - [_detect_gpu_backend:97] - GPU memory: 8.00 GB
[backend] 2025-08-23 14:07:07,889 - src.services.chatterbox_client - INFO - [__init__:37] - ChatterboxClient initialized in LOCAL mode
[backend] 2025-08-23 14:07:07,890 - src.services.voice_clone_jobs - INFO - [__init__:28] - Voice Clone Job Manager initialized - Convex URL: http://127.0.0.1:3210
[backend] 2025-08-23 14:07:07,890 - src.services.tts_manager - INFO - [__init__:47] - TTS Manager initialized - Environment: development, Mode: local
[backend] 2025-08-23 14:07:07,890 - src.services.voice_clone_jobs - INFO - [__init__:28] - Voice Clone Job Manager initialized - Convex URL: http://127.0.0.1:3210
[backend] 2025-08-23 14:07:07,983 - src.services.bulk_processing_service - INFO - [__init__:261] - Bulk Processing Service initialized - temp_dir: /tmp/bulk_processing_fu7li76u
[backend] 2025-08-23 14:07:07,988 - src.services.bulk_job_manager - INFO - [__init__:117] - Bulk Job Manager initialized - Convex URL: http://127.0.0.1:3210
[backend] 2025-08-23 14:07:07,988 - src.services.bulk_job_manager - INFO - [__init__:118] - Export path: /tmp/bulk_exports, retention: 24h
[backend] 2025-08-23 14:07:07,991 - src.api.public.bulk - INFO - [<module>:47] - Initializing Convex client with URL: http://127.0.0.1:3210
[backend] 2025-08-23 14:07:07,994 - src.services.bulk_job_manager - INFO - [__init__:117] - Bulk Job Manager initialized - Convex URL: http://127.0.0.1:3210
[backend] 2025-08-23 14:07:07,994 - src.services.bulk_job_manager - INFO - [__init__:118] - Export path: /tmp/bulk_exports, retention: 24h
[backend] 
[backend] ============================================================
[backend] 🚀 Starting Diala Backend Server
[backend] ============================================================
[backend] 
[backend] 📍 API Endpoints:
[backend]    - Documentation: http://localhost:8001/docs
[backend]    - ReDoc: http://localhost:8001/redoc
[backend]    - Health Check: http://localhost:8001/health
[backend] 
[backend] 📚 Public APIs:
[backend]    - YouTube Transcript: POST http://localhost:8001/api/public/youtube/transcript
[backend]    - Direct Transcript: GET http://localhost:8001/api/public/youtube/transcript/{video_id}
[backend] 
[backend] 🔒 Protected APIs (require authentication):
[backend]    - Example endpoints at /api/protected/*
[backend] 
[backend] ============================================================
[backend] 
[backend] INFO:     Started server process [31744]
[backend] INFO:     Waiting for application startup.
[backend] 2025-08-23 14:07:08,176 - src.main - INFO - [startup_event:118] - Diala Backend API starting up...
[backend] 2025-08-23 14:07:08,176 - src.main - INFO - [startup_event:120] - Server is running. Model loading continues in the background.
[backend] 2025-08-23 14:07:08,176 - src.main - INFO - [load_models_background:90] - Background model loading initiated...
[backend] 2025-08-23 14:07:08,176 - src.services.realtime_analysis_service - INFO - [ensure_models_loaded:79] - Loading models for RealtimeAnalysisService...
[backend] 2025-08-23 14:07:08,176 - src.services.realtime_analysis_service - INFO - [_load_asr_model_async:89] - Loading Whisper ASR model: distil-whisper/distil-large-v3
[backend] 2025-08-23 14:07:08,179 - urllib3.connectionpool - DEBUG - [_new_conn:1053] - Starting new HTTPS connection (1): huggingface.co:443
[backend] 2025-08-23 14:07:08,535 - urllib3.connectionpool - DEBUG - [_make_request:547] - https://huggingface.co:443 "HEAD /distil-whisper/distil-large-v3/resolve/main/config.json HTTP/1.1" 401 0
[backend] 2025-08-23 14:07:12,126 - urllib3.connectionpool - DEBUG - [_make_request:547] - https://huggingface.co:443 "HEAD /distil-whisper/distil-large-v3/resolve/main/generation_config.json HTTP/1.1" 401 0
[backend] Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or trained.
[kokoro] INFO:     Started server process [31732]
[kokoro] INFO:     Waiting for application startup.
[kokoro] [38;2;46;139;87m02:07:13 PM[0m | INFO     | [38;2;65;105;225mmain:57[0m | Loading TTS model and voice packs...
[kokoro] [38;2;46;139;87m02:07:13 PM[0m | INFO     | [38;2;65;105;225mmodel_manager:38[0m | Initializing Kokoro V1 on cpu
[kokoro] [38;2;46;139;87m02:07:13 PM[0m | DEBUG    | [38;2;65;105;225mpaths:101[0m | Searching for model in path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/models
[kokoro] [38;2;46;139;87m02:07:13 PM[0m | INFO     | [38;2;65;105;225mkokoro_v1:46[0m | Loading Kokoro model on cpu
[kokoro] [38;2;46;139;87m02:07:13 PM[0m | INFO     | [38;2;65;105;225mkokoro_v1:47[0m | Config path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/models/v1_0/config.json
[kokoro] [38;2;46;139;87m02:07:13 PM[0m | INFO     | [38;2;65;105;225mkokoro_v1:48[0m | Model path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/models/v1_0/kokoro-v1_0.pth
[kokoro] /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
[kokoro]   warnings.warn(
[kokoro] /home/bozo/projects/projectBozo/diala/backend/venv/lib/python3.12/site-packages/torch/nn/utils/weight_norm.py:143: FutureWarning: `torch.nn.utils.weight_norm` is deprecated in favor of `torch.nn.utils.parametrizations.weight_norm`.
[kokoro]   WeightNorm.apply(module, name, dim)
[backend] 2025-08-23 14:07:13,859 - urllib3.connectionpool - DEBUG - [_make_request:547] - https://huggingface.co:443 "HEAD /distil-whisper/distil-large-v3/resolve/main/preprocessor_config.json HTTP/1.1" 401 0
[backend] 2025-08-23 14:07:13,866 - src.services.realtime_analysis_service - INFO - [_load_asr_model_async:101] - Whisper ASR model loaded successfully on cpu
[backend] 2025-08-23 14:07:13,867 - src.services.realtime_analysis_service - INFO - [_load_sentiment_model_async:108] - Loading sentiment analysis model...
[backend] 2025-08-23 14:07:14,587 - urllib3.connectionpool - DEBUG - [_make_request:547] - https://huggingface.co:443 "HEAD /distilbert-base-uncased-finetuned-sst-2-english/resolve/main/config.json HTTP/1.1" 401 0
[backend] 2025-08-23 14:08:02,438 - src.services.realtime_analysis_service - INFO - [_load_sentiment_model_async:116] - Sentiment model loaded successfully.
[backend] 2025-08-23 14:08:02,438 - src.services.realtime_analysis_service - INFO - [ensure_models_loaded:83] - All models for RealtimeAnalysisService loaded successfully.
[backend] 2025-08-23 14:08:02,438 - src.main - INFO - [load_models_background:96] - ✅ All models have been pre-loaded and the server is ready.
[backend] INFO:     Application startup complete.
[backend] 2025-08-23 14:08:02,542 - httpcore.connection - DEBUG - [atrace:87] - connect_tcp.started host='localhost' port=8880 local_address=None timeout=3.0 socket_options=None
[backend] 2025-08-23 14:08:02,543 - httpcore.connection - DEBUG - [atrace:87] - connect_tcp.started host='localhost' port=8880 local_address=None timeout=3.0 socket_options=None
[backend] ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8001): address already in use
[backend] INFO:     Waiting for application shutdown.
[backend] INFO:     Application shutdown complete.
[backend] 2025-08-23 14:08:02,545 - httpcore.connection - DEBUG - [atrace:87] - connect_tcp.failed exception=CancelledError()
[backend] 2025-08-23 14:08:02,546 - httpcore.connection - DEBUG - [atrace:87] - connect_tcp.failed exception=CancelledError()
[kokoro] WARNING: Defaulting repo_id to hexgrad/Kokoro-82M. Pass repo_id='hexgrad/Kokoro-82M' to suppress this warning.
[kokoro] [38;2;46;139;87m02:07:15 PM[0m | DEBUG    | [38;2;65;105;225mpaths:153[0m | Scanning for voices in path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0
[kokoro] [38;2;46;139;87m02:07:15 PM[0m | DEBUG    | [38;2;65;105;225mpaths:131[0m | Searching for voice in path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0
[kokoro] [38;2;46;139;87m02:07:15 PM[0m | DEBUG    | [38;2;65;105;225mmodel_manager:77[0m | Using default voice 'af_heart' for warmup
[kokoro] [38;2;46;139;87m02:07:15 PM[0m | INFO     | [38;2;65;105;225mkokoro_v1:81[0m | Creating new pipeline for language code: a
[kokoro] WARNING: Defaulting repo_id to hexgrad/Kokoro-82M. Pass repo_id='hexgrad/Kokoro-82M' to suppress this warning.
[kokoro] [38;2;46;139;87m02:07:16 PM[0m | DEBUG    | [38;2;65;105;225mkokoro_v1:261[0m | Generating audio for text with lang_code 'a': 'Warmup text for initialization.'
[backend] npm run backend exited with code 1
[kokoro] [38;2;46;139;87m02:07:19 PM[0m | DEBUG    | [38;2;65;105;225mkokoro_v1:268[0m | Got audio chunk with shape: torch.Size([57600])
[kokoro] [38;2;46;139;87m02:07:19 PM[0m | INFO     | [38;2;65;105;225mmodel_manager:84[0m | Warmup completed in 5830ms
[kokoro] [38;2;46;139;87m02:07:19 PM[0m | INFO     | [38;2;65;105;225mmain:106[0m | 
[kokoro] 
[kokoro] ░░░░░░░░░░░░░░░░░░░░░░░░
[kokoro] 
[kokoro]     ╔═╗┌─┐┌─┐┌┬┐
[kokoro]     ╠╣ ├─┤└─┐ │ 
[kokoro]     ╚  ┴ ┴└─┘ ┴
[kokoro]     ╦╔═┌─┐┬┌─┌─┐
[kokoro]     ╠╩╗│ │├┴┐│ │
[kokoro]     ╩ ╩└─┘┴ ┴└─┘
[kokoro] 
[kokoro] ░░░░░░░░░░░░░░░░░░░░░░░░
[kokoro]                 
[kokoro] Model warmed up on cpu: kokoro_v1
[kokoro] Running on CPU
[kokoro] 67 voice packs loaded
[kokoro] 
[kokoro] Beta Web Player: http://0.0.0.0:8880/web/
[kokoro] or http://localhost:8880/web/
[kokoro] ░░░░░░░░░░░░░░░░░░░░░░░░
[kokoro] 
[kokoro] INFO:     Application startup complete.
[kokoro] INFO:     Uvicorn running on http://0.0.0.0:8880 (Press CTRL+C to quit)
[kokoro] INFO:     127.0.0.1:40668 - "GET /v1 HTTP/1.1" 404 Not Found
[kokoro] INFO:     127.0.0.1:40674 - "GET /v1 HTTP/1.1" 404 Not Found
[frontend] [1]  ○ Compiling /onboarding/playground ...
[frontend] [1]  ✓ Compiled /onboarding/playground in 9.9s (614 modules)
[frontend] [1]  GET /onboarding/playground 200 in 11148ms
[frontend] [1]  ✓ Compiled in 1265ms (311 modules)
[kokoro] [38;2;46;139;87m02:15:16 PM[0m | INFO     | [38;2;65;105;225mopenai_compatible:70[0m | Created global TTSService instance
[kokoro] [38;2;46;139;87m02:15:16 PM[0m | DEBUG    | [38;2;65;105;225mpaths:153[0m | Scanning for voices in path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0
[kokoro] [38;2;46;139;87m02:15:16 PM[0m | WARNING  | [38;2;65;105;225mopenai_compatible:363[0m | Invalid request: Voice 'Rachel' not found. Available voices: af_alloy, af_aoede, af_bella, af_heart, af_jadzia, af_jessica, af_kore, af_nicole, af_nova, af_river, af_sarah, af_sky, af_v0, af_v0bella, af_v0irulan, af_v0nicole, af_v0sarah, af_v0sky, am_adam, am_echo, am_eric, am_fenrir, am_liam, am_michael, am_onyx, am_puck, am_santa, am_v0adam, am_v0gurney, am_v0michael, bf_alice, bf_emma, bf_lily, bf_v0emma, bf_v0isabella, bm_daniel, bm_fable, bm_george, bm_lewis, bm_v0george, bm_v0lewis, ef_dora, em_alex, em_santa, ff_siwis, hf_alpha, hf_beta, hm_omega, hm_psi, if_sara, im_nicola, jf_alpha, jf_gongitsune, jf_nezumi, jf_tebukuro, jm_kumo, pf_dora, pm_alex, pm_santa, zf_xiaobei, zf_xiaoni, zf_xiaoxiao, zf_xiaoyi, zm_yunjian, zm_yunxi, zm_yunxia, zm_yunyang
[kokoro] INFO:     127.0.0.1:38990 - "POST /v1/audio/speech HTTP/1.1" 400 Bad Request
[frontend] [1]  ✓ Compiled in 1154ms (311 modules)
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mpaths:153[0m | Scanning for voices in path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0
[kokoro] INFO:     127.0.0.1:55266 - "POST /v1/audio/speech HTTP/1.1" 200 OK
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mpaths:153[0m | Scanning for voices in path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mpaths:131[0m | Searching for voice in path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mtts_service:204[0m | Using single voice path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0/af_heart.pt
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mtts_service:280[0m | Using voice path: /home/bozo/projects/projectBozo/diala/backend/src/models/voice/Kokoro-FastAPI/api/src/voices/v1_0/af_heart.pt
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | INFO     | [38;2;65;105;225mtts_service:284[0m | Using lang_code 'a' for voice 'af_heart' in audio stream
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | INFO     | [38;2;65;105;225mtext_processor:151[0m | Starting smart split for 60 chars
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mtext_processor:156[0m | Split raw text into 1 parts by pause tags.
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mtext_processor:65[0m | Total processing took 23.61ms for chunk: 'Test received—everything's working!'
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mtext_processor:65[0m | Total processing took 0.18ms for chunk: 'How can I help you next?'
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | INFO     | [38;2;65;105;225mtext_processor:299[0m | Yielding final chunk 1 for part: 'Test received—everything's working! How can I help...' (63 tokens)
[kokoro] [38;2;46;139;87m02:24:00 PM[0m | DEBUG    | [38;2;65;105;225mkokoro_v1:261[0m | Generating audio for text with lang_code 'a': 'Test received—everything's working! How can I help you next?'
[kokoro] [38;2;46;139;87m02:24:49 PM[0m | DEBUG    | [38;2;65;105;225mkokoro_v1:268[0m | Got audio chunk with shape: torch.Size([92400])
[kokoro] [38;2;46;139;87m02:24:49 PM[0m | INFO     | [38;2;65;105;225mtext_processor:323[0m | Split completed in 48915.26ms, produced 1 chunks (including pauses)
[kokoro] INFO:     127.0.0.1:54682 - "GET /v1 HTTP/1.1" 404 Not Found
[kokoro] INFO:     127.0.0.1:54684 - "GET /v1 HTTP/1.1" 404 Not Found
[frontend] [1] next dev exited with code 0
[kokoro] Killed
[kokoro] npm run kokoro exited with code 137
[frontend] npm run frontend exited with code 1
