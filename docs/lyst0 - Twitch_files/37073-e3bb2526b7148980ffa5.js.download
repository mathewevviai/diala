!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="85aa928a-2dbf-427a-88e2-807f3a15d81b",e._sentryDebugIdIdentifier="sentry-dbid-85aa928a-2dbf-427a-88e2-807f3a15d81b")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[14399,23163,37073,77165,87582],{537221:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AvailableEmotesForChannelPaginated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageLimit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableEmoteSetsPaginated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageLimit"},value:{kind:"Variable",name:{kind:"Name",value:"pageLimit"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EmoteSetsEdgeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EmoteSetsEdgeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteSetsEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var t={};n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}})),e.exports=n},146023:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AvailableEmotesForChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableEmoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}]}}]};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var t={};n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}})),e.exports=n},453183:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotesForChannelFollowStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}}]}}]}}]};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var t={};n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}})),e.exports=n},332832:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsCheermoteCampaign"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteCampaign"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thresholds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchedPercent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"minimumBitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsTotal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsPercentageRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canBeSponsored"},arguments:[],directives:[]}]}}]}}]}},986704:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"neoCheermote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Cheermote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsCheermoteCampaign"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canShowInBitsCard"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"neoCheermote"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(332832).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},417914:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"cheerDisplayConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteDisplayConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgrounds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"colors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scales"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"animation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"globalCheerInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cheerConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheerDisplayConfig"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteGroup"},directives:[]}]}}]}}]}}]},a={};t.definitions=t.definitions.concat(i(986704).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},852120:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"dropinUserFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]}]}}]}},828301:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"sharedChatParticipant"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SharedChatParticipant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoAcceptsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}},297745:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SharedChatSession"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sharedChatSession"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"host"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"sharedChatParticipant"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoStartsAt"},arguments:[],directives:[]}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}t.definitions=t.definitions.concat(i(828301).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};t.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=t},260349:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subCommunityGiftingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionGifting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"community"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}]},a={};t.definitions=t.definitions.concat(i(947779).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},895261:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pendingSubscription"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PendingSubscription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},637799:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_SubscribeButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeExpiredDunning"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gifting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subCommunityGiftingFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeExpiredDunning"},value:{kind:"Variable",name:{kind:"Name",value:"includeExpiredDunning"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dunningPeriodEndsAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i(947779).definitions)),t.definitions=t.definitions.concat(r(i(260349).definitions)),t.definitions=t.definitions.concat(r(i(895261).definitions)),t.definitions=t.definitions.concat(r(i(144618).definitions));var s={};t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=t},144618:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}]}},705104:function(e,n,i){"use strict";i.d(n,{F:function(){return l}});var t=i(331635),a=i(474848),r=i(246942),o=i.n(r),s=i(296540),d=i(959385),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.element=null,n.wrapElement=null,n.isTriggerVisible=function(e,n){var i=n.top,t=n.top+n.height;return(0!==i||0!==t)&&!(e.bottom<i||e.top>t)},n.setWrapRef=function(e){return n.wrapElement=e},n.setRef=function(e){return n.element=e},n}return(0,t.__extends)(n,e),n.prototype.render=function(){var e=o()({"scrollable-trigger__trigger-area":!0}),n={height:this.props.pixelThreshold||100};return(0,a.jsx)("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef,children:(0,a.jsx)("div",{className:e,ref:this.setRef,style:n})})},n.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},n.prototype.componentWillUnmount=function(){var e;null===(e=this.unregister)||void 0===e||e.call(this)},n.prototype.componentDidUpdate=function(){return this.props.requestVisibilityCheck(this),null},n.prototype.checkVisible=function(e,n){if(this.wrapElement&&this.element){var i=this.element.getBoundingClientRect();this.isTriggerVisible(i,e)?this.props.visible():this.props.notVisible&&this.props.notVisible()}},n}(s.Component),l=(0,d.UJ)((function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}}))(u)},423163:function(e,n,i){"use strict";i.d(n,{Z:function(){return f}});var t=i(331635),a=i(296540),r=i(783321),o=i(688499),s=i(537221),d=i.n(s),u=i(146023),l=i.n(u),c=i(453183),m=i.n(c),v=i(236563);function f(e,n){var i,s,u,c,f,k,h,g,p,S,_,N,C,E=this,b=(0,v.U)(),y=a.useState(!1),F=y[0],D=y[1],w=a.useState(void 0),I=w[0],T=w[1],P=a.useState(!1),A=P[0],O=P[1],M=a.useState([]),R=M[0],x=M[1],L=a.useState(void 0),V=L[0],B=L[1],U=(0,r.IT)(d(),{skip:!e||!b,variables:{channelID:null!=e?e:"",withOwner:!0,pageLimit:350}}),G=U.data,H=U.loading,q=U.error,j=U.refetch,Y=U.fetchMore,z=(0,r.IT)(l(),{skip:!e||b,variables:{channelID:null!=e?e:"",withOwner:!0}}),W=z.data,X=z.loading,Z=z.error,K=z.refetch,J=(0,r.IT)(m(),{skip:!e||n,variables:{channelID:null!=e?e:""}});a.useEffect((function(){var e,n,i,t;if(!J.loading&&(null===(e=null==J?void 0:J.data)||void 0===e?void 0:e.user)){var a=!!(null===(t=null===(i=null===(n=null==J?void 0:J.data)||void 0===n?void 0:n.user)||void 0===i?void 0:i.self)||void 0===t?void 0:t.follower);a!==I&&(void 0!==I&&O(!0),T(a))}}),[I,J]),a.useEffect((function(){e&&A&&(b&&!H?j():K(),O(!1))}),[O,A,H,K,j,e,b]);var Q=a.useMemo((function(){var e,n,i;return(null===(i=null===(n=null===(e=null==G?void 0:G.channel)||void 0===e?void 0:e.self)||void 0===n?void 0:n.availableEmoteSetsPaginated)||void 0===i?void 0:i.pageInfo.hasNextPage)||!1}),[null===(u=null===(s=null===(i=null==G?void 0:G.channel)||void 0===i?void 0:i.self)||void 0===s?void 0:s.availableEmoteSetsPaginated)||void 0===u?void 0:u.pageInfo.hasNextPage]),$=a.useCallback((function(e,n){var i,a,r=e.filter((function(e){return e.node})),o=new Map(r.map((function(e){var n;return[(null===(n=e.node)||void 0===n?void 0:n.id)||"",e]}))),s="";n&&n.length>0&&(s=(null===(a=null===(i=n[n.length-1])||void 0===i?void 0:i.cursor)||void 0===a?void 0:a.toString())||""),n.forEach((function(e){var n,i,a,r,s,d;if(o.has((null===(n=e.node)||void 0===n?void 0:n.id)||"")){var u=o.get((null===(i=e.node)||void 0===i?void 0:i.id)||"");if(u){var l=(0,t.__assign)((0,t.__assign)({},u),{node:(0,t.__assign)({},u.node)});u.node.emotes&&(l.node.emotes=u.node.emotes.map((function(e){return Object.assign({},e)})));var c=null===(a=null==e?void 0:e.node)||void 0===a?void 0:a.emotes,m=null===(r=l.node)||void 0===r?void 0:r.emotes;if(c&&m){var v=new Set(null==m?void 0:m.map((function(e){return null==e?void 0:e.id})));c.forEach((function(e){var n,i;e&&!v.has(null==e?void 0:e.id)&&(null===(i=null===(n=null==l?void 0:l.node)||void 0===n?void 0:n.emotes)||void 0===i||i.push(e))})),o.set((null===(s=l.node)||void 0===s?void 0:s.id)||"",l)}}}else o.set((null===(d=e.node)||void 0===d?void 0:d.id)||"",e)}));var d=Array.from(o.values());if(o&&o.size>0){var u=d[d.length-1];(null==u?void 0:u.cursor)!==s&&(d[d.length-1]={cursor:s,node:u.node,__typename:u.__typename})}return d}),[]),ee=a.useCallback((function(){return(0,t.__awaiter)(E,void 0,void 0,(function(){var n,i,a,r,o,s,u,l,c,m,v,f,k,h,g,p;return(0,t.__generator)(this,(function(S){switch(S.label){case 0:return F?[3,2]:(n="",(null===(o=null===(r=null===(a=null===(i=null==G?void 0:G.channel)||void 0===i?void 0:i.self)||void 0===a?void 0:a.availableEmoteSetsPaginated)||void 0===r?void 0:r.pageInfo)||void 0===o?void 0:o.hasNextPage)&&(null===(l=null===(u=null===(s=null==G?void 0:G.channel)||void 0===s?void 0:s.self)||void 0===u?void 0:u.availableEmoteSetsPaginated)||void 0===l?void 0:l.edges)&&(n=null===(p=null===(v=null===(m=null===(c=null==G?void 0:G.channel)||void 0===c?void 0:c.self)||void 0===m?void 0:m.availableEmoteSetsPaginated)||void 0===v?void 0:v.edges[(null===(g=null===(h=null===(k=null===(f=null==G?void 0:G.channel)||void 0===f?void 0:f.self)||void 0===k?void 0:k.availableEmoteSetsPaginated)||void 0===h?void 0:h.edges)||void 0===g?void 0:g.length)-1])||void 0===p?void 0:p.cursor),n?(D(!0),[4,Y({query:d(),variables:{channelID:null!=e?e:"",withOwner:!0,pageLimit:350,cursor:n},updateQuery:function(e,n){var i,a,r,o,s,d,u,l,c,m,v=n.fetchMoreResult;if(!v||!(null==e?void 0:e.channel))return e;var f=$((null===(r=null===(a=null===(i=null==e?void 0:e.channel)||void 0===i?void 0:i.self)||void 0===a?void 0:a.availableEmoteSetsPaginated)||void 0===r?void 0:r.edges)||[],(null===(d=null===(s=null===(o=null==v?void 0:v.channel)||void 0===o?void 0:o.self)||void 0===s?void 0:s.availableEmoteSetsPaginated)||void 0===d?void 0:d.edges)||[]);return{channel:(0,t.__assign)((0,t.__assign)({},e.channel),{self:{__typename:"ChannelSelfEdge",availableEmoteSetsPaginated:{__typename:"EmoteSetsConnection",edges:f,pageInfo:{hasNextPage:(null===(m=null===(c=null===(l=null===(u=null==v?void 0:v.channel)||void 0===u?void 0:u.self)||void 0===l?void 0:l.availableEmoteSetsPaginated)||void 0===c?void 0:c.pageInfo)||void 0===m?void 0:m.hasNextPage)||!1,__typename:"PageInfo"}}}})}}}).then((function(){D(!1)}))]):[3,2]);case 1:S.sent(),S.label=2;case 2:return[2]}}))}))}),[F,$,e,Y,null===(k=null===(f=null===(c=null==G?void 0:G.channel)||void 0===c?void 0:c.self)||void 0===f?void 0:f.availableEmoteSetsPaginated)||void 0===k?void 0:k.edges,null===(S=null===(p=null===(g=null===(h=null==G?void 0:G.channel)||void 0===h?void 0:h.self)||void 0===g?void 0:g.availableEmoteSetsPaginated)||void 0===p?void 0:p.pageInfo)||void 0===S?void 0:S.hasNextPage]);if(a.useEffect((function(){var e,n,i,t;if(G){var a=[];null===(t=null===(i=null===(n=null===(e=G.channel)||void 0===e?void 0:e.self)||void 0===n?void 0:n.availableEmoteSetsPaginated)||void 0===i?void 0:i.edges)||void 0===t||t.forEach((function(e){a.push(e.node)}));var r=a&&(0,o.Hy)(a);x(a),B(r),!Q||F||H||ee()}}),[x,B,G,Q,F,H,ee]),b){if(G)return{loading:H,error:q,refetch:j,emoteSets:R,emoteMap:V}}else if(W){var ne=[];null===(C=null===(N=null===(_=W.channel)||void 0===_?void 0:_.self)||void 0===N?void 0:N.availableEmoteSets)||void 0===C||C.forEach((function(e){ne.push(e)}));var ie=ne&&(0,o.Hy)(ne);return{loading:X,error:Z,refetch:K,emoteMap:ie,emoteSets:ne}}return{loading:b?H:X,error:b?q:Z,refetch:b?j:K}}},236563:function(e,n,i){"use strict";i.d(n,{U:function(){return a}});var t=i(337930),a=function(){return(0,t.fX)("emote_sets_pagination_switchover")}},273701:function(e,n,i){"use strict";i.d(n,{n:function(){return o}});var t=i(296540),a=i(415044),r=i(990284);function o(e,n){var i=(0,a.d4)((function(e){return e.session.firstPageLoaded})),o=(0,t.useRef)(e),s=(0,t.useRef)(n),d=(0,t.useState)(!1),u=d[0],l=d[1];return(0,t.useEffect)((function(){i&&(0,r.r)(o.current,s.current,(function(){return l(!0)}))}),[i]),u}},168096:function(e,n,i){"use strict";i.d(n,{X:function(){return d}});var t=i(296540),a=i(478260),r=i(959385),o=i(927027);function s(e){var n,i=e.percentage/100,a=function(e){var n=e.threshold,i=(0,t.useState)(null),a=i[0],r=i[1],o=(0,t.useState)(null),s=o[0],d=o[1],u=(0,t.useState)((function(){return new window.IntersectionObserver((function(e){var n=e[0];return r(n)}),{threshold:n})}))[0];return(0,t.useEffect)((function(){if(s)return u.disconnect(),u.observe(s),function(){return u.disconnect()}}),[s,u]),[d,a]}({threshold:i}),r=a[0],o=a[1],s=(0,t.useRef)(!1),d=(0,t.useRef)(e.impressionKey);(0,t.useEffect)((function(){d.current!==e.impressionKey&&(d.current=e.impressionKey,s.current=!1)}));var u=(null!==(n=null==o?void 0:o.intersectionRatio)&&void 0!==n?n:0)>i,l=e.onFirstImpression;return(0,t.useEffect)((function(){!s.current&&u&&(s.current=!0,l())}),[l,u,e.impressionKey]),{elementRef:r}}function d(e){var n=(o.gE&&a.Zn.get("use_intersection",!1)?s(e):function(e){var n=(0,t.useRef)(null),i=(0,t.useRef)(!1),a=(0,t.useRef)(e.impressionKey),s=(0,t.useRef)(null),d=(0,t.useContext)(r.MD),u=e.percentage,l=e.onFirstImpression,c=(0,t.useCallback)((function(e){!i.current&&n.current&&(s.current=(0,o.DW)(n.current,e),(0,o.Gv)(s.current,u)&&(i.current=!0,l()))}),[l,u]);return(0,t.useEffect)((function(){a.current!==e.impressionKey&&(i.current=!1,a.current=e.impressionKey,d.requestVisibilityCheck({checkVisible:c}))}),[e.impressionKey,c,d]),(0,t.useEffect)((function(){return d.registerReceiver({checkVisible:c})}),[c,d]),{elementRef:n}}(e)).elementRef;return(0,t.useMemo)((function(){return{elementRef:n}}),[n])}},927027:function(e,n,i){"use strict";function t(e,n,i,t){return!!e&&a(r(e,n),i,t)}function a(e,n,i){return!(!e||e.percentage<=0&&e.pixels<=0)&&(i?e.pixels>=i:!n||e.percentage>=n)}function r(e,n){var i=function(e){var n={top:0,right:0,bottom:0,left:0,height:0,width:0,x:0,y:0,toJSON:function(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left,height:this.height,width:this.width,x:this.x,y:this.y}}},i=function(){if(window.innerWidth)return window.innerWidth;if(document.documentElement.clientWidth)return document.documentElement.clientWidth;return screen.width}(),t=function(){if(window.innerHeight)return window.innerHeight;if(document.documentElement.clientHeight)return document.documentElement.clientHeight;return screen.height}();if(e.bottom<=0||e.top>t||e.right<0||e.left>i)return n;return n.top=Math.max(0,e.top),n.left=Math.max(0,e.left),n.right=Math.min(e.right,i),n.bottom=Math.min(e.bottom,t),n.width=n.right-n.left,n.height=n.bottom-n.top,n}(n),t=e.getBoundingClientRect();if(!(t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top))return o(0,0);var a=t.bottom-t.top,r=i.bottom-i.top,s=Math.min(i.bottom-t.top,t.bottom-i.top,a,r),d=Math.round(s/a*100);return o(s,d)}i.d(n,{DW:function(){return r},Gv:function(){return a},gE:function(){return s},zN:function(){return t}});var o=function(e,n){return{pixels:e,percentage:n}};var s="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},650839:function(e,n,i){"use strict";i.d(n,{U:function(){return a}});var t=i(478260);function a(e){var n=t.Zn.get("prime_blocked_regions",[]);return!!e&&!n.includes(e.toUpperCase())}},661234:function(e,n,i){"use strict";i.d(n,{v:function(){return t}});var t=function(e){var n=this;this.timerId=null,this.start=function(){n.timerId&&n.stop(),n.timerId=setInterval(n.onInterval,n.intervalMillis)},this.stop=function(){n.timerId&&(clearInterval(n.timerId),n.timerId=null)},this.restart=function(e){void 0===e&&(e=0),n.stop(),n.timerId=setTimeout((function(){n.onInterval(),n.start()}),e)},this.onInterval=e.onInterval,this.intervalMillis=e.intervalMillis}},935835:function(e,n,i){"use strict";i.d(n,{qh:function(){return r},uL:function(){return o}});var t=i(478260),a=i(38067);function r(e,n){if(e)var i=setInterval((function(){var a=!1;try{a=e.closed}catch(e){}if(a){try{n()}catch(e){t.vF.errorAndReport(e,"Exception inside onPopupClose callback")}try{e.close()}catch(e){}clearInterval(i)}}),500);else t.vF.warn("[onPopupClose] Attempted to observe a window that failed to open.")}function o(e,n,i){var r=t.x2.logger.withCategory("auth.interpolPopup"),o=(0,a.kS)({logger:r}),s=new URL("".concat(t.x2.config.interpolBaseURL).concat(e.interpolPath));o&&s.searchParams.set("api_token",o);var d=window.open(s.toString(),e.popupName,e.popupSize);return d?function(e,n,i){if(n.closed)return t.vF.warn("[startPostingMessagesToPopup] Attempted to postMessage to a popup that failed to open."),null;var a=setInterval((function(){if(n.closed)return o(),void i(!1);try{n.postMessage("ping",e)}catch(e){}}),500),r=function(t){var a=t.data,r=t.origin,s=t.source;if(r===e&&s===n){var d="success"===a.split(":")[1];n.close(),o(),i(d)}};function o(){clearInterval(a),window.removeEventListener("message",r)}return window.addEventListener("message",r),o}(t.x2.config.interpolBaseURL,d,i):(n(),null)}},331947:function(e,n,i){"use strict";i.d(n,{d:function(){return u}});var t=i(474848),a=i(959340),r=i(914421),o=i(486489),s=i(312663),d=(i(296540),i(478260)),u=function(){return(0,t.jsxs)(a.P,{padding:1,display:r.nl.Flex,alignItems:r.k2.Center,justifyContent:r.A9.Center,flexDirection:r.bo.Column,width:"100%",height:"20rem",minHeight:"20rem",children:[(0,t.jsx)(o.k,{delay:0}),(0,t.jsx)(a.P,{padding:{top:2},children:(0,t.jsx)(s.N,{italic:!0,children:(0,d.hw)("Fetching Bits","BitsCard")})})]})}},890988:function(e,n,i){"use strict";i.d(n,{F:function(){return t},V:function(){return a}});var t="first_time_purchase",a="single_purchase"},530919:function(e,n,i){"use strict";i.d(n,{$D:function(){return f},UA:function(){return v},UB:function(){return m},dj:function(){return k},dw:function(){return c},tf:function(){return h},xb:function(){return l}});var t=i(331635),a=i(267924),r=i(890988),o=i(195824),s=i(505851),d=i(854803),u=i(671503);function l(e){return e.type!==a.l0Y.AD&&"BitsAdOffer"!==e.__typename&&(m(e)&&null!==e.promotion&&e.promotion.type===r.F)}function c(e){return e.type!==a.l0Y.AD&&"BitsAdOffer"!==e.__typename&&(m(e)&&null!==e.promotion&&e.promotion.type===r.V)}function m(e){return e.type===a.l0Y.BUNDLE&&"BitsBundleOffer"===e.__typename&&null!==e.promotion&&!!e.promotion}function v(e){var n=0,i=0,t=0,a=0;return e.forEach((function(e){e.cheerAmount&&(e.alt!==o.IU?(n=Math.max(n,e.cheerAmount),i=i?Math.min(i,e.cheerAmount):e.cheerAmount,t+=e.cheerAmount):a+=e.cheerAmount)})),{total:t,bonus:a,smallestCheermote:i,largestCheermote:n}}function f(e){var n=e.messageBits,i=n.total,a=n.largestCheermote,r=n.smallestCheermote;if(i){var s={cheerAboveMaxBitsPerEmote:a>o.By,totalAboveBalance:i>e.balance,totalBelowCheerMinimum:i<e.cheerMinimumBits,totalBelowEmoteMinimum:r<e.emoteMinimumBits,inputLongerThanMaxBitsMessage:e.inputValue.length>o.Nx,inputStartsWithCommand:e.inputValue.startsWith("/")&&!e.inputValue.startsWith("/me")||e.inputValue.startsWith(".")&&!e.inputValue.startsWith(".me"),cheerContainsInvalidDisplayOnlyCheermotes:(0,d.j7)(e.inputValue,e.bitsConfig)};if(Object.keys(s).some((function(e){return s[e]})))return(0,t.__assign)({canSpend:!1},s)}return{canSpend:!0}}function k(e,n,i){var t=null==i?void 0:i.filter((function(e){return e&&e.type!==a.l0Y.AD}));if(t&&t.length&&n<e)for(var r=e-n,o=0;o<t.length;o++){for(var s=t[o],d=t[o+1],u=1,l=u*s.bits;l<r&&(!d||l<d.bits);)l=++u*s.bits;if(!(d&&l>=d.bits))return{quantity:u,bitsOffer:s}}return{quantity:0,bitsOffer:null}}function h(e){if(e.trackBitsCardInteraction((0,u.tX)(e.bitsAmount),{actionType:u.X2.Click,location:e.location}),e.checkoutFormDispatch&&!e.forcePopup){var n={offerID:e.offerID||"",quantity:e.quantity||1,onCloseModal:e.onCloseModal,trackingContext:{source:e.trackingSource||s.U.GetBitsMenu,tenantTracking:{tracking_id:e.trackingID,bits_checkout_id:e.checkoutID,bits_balance:e.bitsBalance||0}},hasInsufficientBitsBalance:e.hasInsufficientBitsBalance};return e.closeAllBits&&e.location&&e.location===u.Yl.GetBitsButtonTopNav&&e.closeAllBits(),void e.checkoutFormDispatch(n)}var i=e.purchaseUrl;if(i){var t="".concat(i.replace("{channelID}",e.channelID),"&tr_id=").concat(e.trackingID,"&co_id=").concat(e.checkoutID),a=window.open(t,"Twitch","width=1024,height=1024,scrollbars=yes");return a?(a.focus(),a):(e.closeAllBits&&e.closeAllBits(),void e.trackBitsCardInteraction(u.N2.CloseCard,{location:e.location}))}}},647005:function(e,n,i){"use strict";i.d(n,{B:function(){return o},m:function(){return s}});var t=i(478260),a=i(629952),r=i(971485);function o(e){var n,i={user_id:e.userID||"",channel_id:e.channelID||"",user_type:d(e.userType),chat_command:e.chatCommand,args:(n=e.args,n.trim().split(/\s+/))};t.E5.__track_SSRMigrationFixme("chat_command_client_success",i)}function s(e){var n={user_id:e.userID||"",channel_id:e.channelID||"",user_type:d(e.userType),body:e.body,error_type:u(e.errorType)};t.E5.track("chat_command_client_fail",n)}function d(e){var n;return((n={})[a.D.Viewer]="viewer",n[a.D.Vip]="vip",n[a.D.Moderator]="moderator",n[a.D.Broadcaster]="broadcaster",n)[e]}function u(e){return"unrecognized_cmd"===e?a.x.UnrecognizedCommand:r.ON.has(e)?a.x.InvalidParameters:e}},100155:function(e,n,i){"use strict";i.d(n,{Ht:function(){return u},Ul:function(){return c},Xf:function(){return l}});var t=i(331635),a=i(474848),r=i(296540),o=i(397568),s=i(47517),d=(0,o.q)("ChatTrackingContext",{viewerContext:s.a.Embed,updateChatTrackingContext:function(e){return null}}),u=d.context,l=d.withContext,c=function(e){function n(n){var i=e.call(this,n)||this;return i.updateTrackingContext=function(e){i.setState({viewerContext:e.viewerContext})},i.state={viewerContext:s.a.Embed,updateChatTrackingContext:i.updateTrackingContext},i}return(0,t.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(u.Provider,{value:this.state,children:this.props.children})},n}(r.Component)},568263:function(e,n,i){"use strict";i.d(n,{Mj:function(){return c},We:function(){return l},ZB:function(){return v}});var t=i(331635),a=i(474848),r=i(296540),o=i(868238),s=i(397568),d={hasOpenedEmotePicker:!1,isShowingEmotePicker:!1,requestedEmotePickerSection:void 0,unlockedEmoteChannelID:void 0,showEmotePicker:function(){return null},closeEmotePicker:function(){return null},resetEmotePickerSection:function(){return null},setUnlockedEmoteChannelID:function(){return null},resetUnlockedEmoteChannelID:function(){return null}},u=(0,s.q)("EmotePickerContext",d),l=u.context,c=u.withContext,m=function(e){function n(n){var i=e.call(this,n)||this;return i.showEmotePicker=function(e){i.setState({hasOpenedEmotePicker:!0,isShowingEmotePicker:!0,requestedEmotePickerSection:e})},i.closeEmotePicker=function(){i.setState((function(e){return e.isShowingEmotePicker?{isShowingEmotePicker:!1}:null}))},i.resetEmotePickerSection=function(){i.setState({requestedEmotePickerSection:void 0})},i.setUnlockedEmoteChannelID=function(e){i.setState({unlockedEmoteChannelID:e})},i.resetUnlockedEmoteChannelID=function(){i.setState({unlockedEmoteChannelID:void 0})},i.state={hasOpenedEmotePicker:!1,isShowingEmotePicker:!1,requestedEmotePickerSection:void 0,unlockedEmoteChannelID:void 0,showEmotePicker:i.showEmotePicker,closeEmotePicker:i.closeEmotePicker,resetEmotePickerSection:i.resetEmotePickerSection,setUnlockedEmoteChannelID:i.setUnlockedEmoteChannelID,resetUnlockedEmoteChannelID:i.resetUnlockedEmoteChannelID},i}return(0,t.__extends)(n,e),n.prototype.render=function(){return this.props.ancestorContextValue!==d?(0,a.jsx)(a.Fragment,{children:this.props.children}):(0,a.jsx)(l.Provider,{value:(0,t.__assign)({},this.state),children:this.props.children})},n}(r.PureComponent);var v=(0,o.Zz)(c((function(e){return{ancestorContextValue:e}})))(m)},629952:function(e,n,i){"use strict";var t,a;i.d(n,{D:function(){return t},x:function(){return a}}),function(e){e[e.Viewer=0]="Viewer",e[e.Vip=1]="Vip",e[e.Moderator=2]="Moderator",e[e.Broadcaster=3]="Broadcaster"}(t||(t={})),function(e){e.InvalidParameters="invalid_parameters",e.MissingParameters="missing_parameters",e.Unauthorized="unauthorized",e.Unavailable="unavailable",e.UnrecognizedCommand="unrecognized_command",e.PinFailure="pin_failure",e.MomentsShutdown="moments_shutdown"}(a||(a={}))},971485:function(e,n,i){"use strict";var t,a,r,o;i.d(n,{IF:function(){return a},ON:function(){return s},RB:function(){return r},ZW:function(){return t},sq:function(){return o}}),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Subscription=14]="Subscription",e[e.Resubscription=15]="Resubscription",e[e.GiftPaidUpgrade=16]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=17]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=18]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=19]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=20]="ExtendSubscription",e[e.SubGift=21]="SubGift",e[e.AnonSubGift=22]="AnonSubGift",e[e.Clear=23]="Clear",e[e.RoomMods=24]="RoomMods",e[e.RoomState=25]="RoomState",e[e.Raid=26]="Raid",e[e.Unraid=27]="Unraid",e[e.Notice=28]="Notice",e[e.Info=29]="Info",e[e.BadgesUpdated=30]="BadgesUpdated",e[e.Purchase=31]="Purchase",e[e.BitsCharity=32]="BitsCharity",e[e.CrateGift=33]="CrateGift",e[e.RewardGift=34]="RewardGift",e[e.SubMysteryGift=35]="SubMysteryGift",e[e.AnonSubMysteryGift=36]="AnonSubMysteryGift",e[e.StandardPayForward=37]="StandardPayForward",e[e.CommunityPayForward=38]="CommunityPayForward",e[e.FirstCheerMessage=39]="FirstCheerMessage",e[e.FirstMessageHighlight=40]="FirstMessageHighlight",e[e.BitsBadgeTierMessage=41]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=42]="InlinePrivateCallout",e[e.ChannelPointsReward=43]="ChannelPointsReward",e[e.CommunityChallengeContribution=44]="CommunityChallengeContribution",e[e.LiveMessageSeparator=45]="LiveMessageSeparator",e[e.RestrictedLowTrustUserMessage=46]="RestrictedLowTrustUserMessage",e[e.CommunityIntroduction=47]="CommunityIntroduction",e[e.Shoutout=48]="Shoutout",e[e.AnnouncementMessage=49]="AnnouncementMessage",e[e.CharityDonation=50]="CharityDonation",e[e.MessageIdUpdate=51]="MessageIdUpdate",e[e.ViewerMilestone=52]="ViewerMilestone",e[e.GigantifiedEmote=53]="GigantifiedEmote",e[e.OneTapBreakpointAchieved=54]="OneTapBreakpointAchieved",e[e.OneTapStreakExpired=55]="OneTapStreakExpired",e[e.OneTapStreakStarted=56]="OneTapStreakStarted"}(t||(t={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action"}(a||(a={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(r||(r={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}));var s=new Set(["usage_clear","usage_commercial","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},47517:function(e,n,i){"use strict";var t;i.d(n,{a:function(){return t}}),function(e){e.ChannelPage="channelPage",e.ChannelClipsPage="channelClipsPage",e.ChannelCollectionsPage="channelCollectionsPage",e.ChannelFollowersPage="channelFollowersPage",e.ChannelEventsPage="channelEventsPage",e.ChannelVideosOverviewPage="channelVideosOverviewPage",e.CommandCenter="commandCenter",e.DashboardLivePage="dashboardLivePage",e.Embed="embed",e.Popout="popout",e.SquadMode="squadMode",e.TheatreMode="theatreMode"}(t||(t={}))},710210:function(e,n,i){"use strict";var t,a,r,o,s;i.d(n,{BU:function(){return d},DB:function(){return v},Ge:function(){return r},Ny:function(){return s},R6:function(){return m},Rb:function(){return a},Z$:function(){return l},bW:function(){return f},cY:function(){return t},i$:function(){return k},o3:function(){return u},q1:function(){return o},sd:function(){return c}}),function(e){e.FirstInviteViewStorage="guest-star.first_invite_view_hide",e.MediaDevices="guest-star.user.devices",e.ObsLinksCopied="guest-star.obs-links-copied",e.ScreenshareObsLinkCopied="guest-star.obs-screenshare-link-copied",e.GroupCaptureObsLinkCopied="guest-star.obs-group-capture-link-copied",e.NumSlotsInSession="guest-star.num-slots-in-session",e.HideShowGuestOnStreamInfo="guest-star.hide-show-on-stream-info",e.HideShowScreenshareOnStreamInfo="guest-star.hide-show-screenshare-on-stream-info",e.ShowAcknowledgementsModal="guest-star.show_acknowledgements_modal",e.GuestStarFTUECompletedSteps="guest-star.first_time_experience_completed_steps",e.NewFeatureCoachmarksSeen="guest-star.new_feature_coach_marks_seen",e.DoNotShowIntroRequest="guest-start.intro-requests-do-not-show",e.InviteFromChatDiscovery="guest-star.invite-from-chat-discovery",e.GuestStarInviteURLModalShown="guest-star.invite-url-modal-shown",e.ModWelcomeView="guest-star.mod-welcome-view",e.RTJFilterOptionsObject="guest-star.rtj_filter_options_object",e.IsSlottedDuringAudioOnly="guest-star.slotted_during_audio_only",e.GuestsSlottedDuringAudioOnly="guest-star.guests_slotted_during_audio_only",e.GuestsVolume="guest-star.guests_volume",e.PrimaryVolume="guest-star.user.primary-volume",e.ReopenSetupModal="guest-star.reopen-setup-modal",e.HideReplacePinnedGuestModal="guest-star.hide-replace-pinned-guest-modal",e.HideEndScreenshareModal="guest-star.hide-end-screenshare-modal",e.GroupCaptureScreenShare="guest-star.has_seen_group_capture_screenshare_coachmark",e.NewFeatureModalsSeen="guest-star.new_feature_modals_seen",e.AutoSlotGuests="guest-star.auto_slot_guests",e.NewSettingsSeen="guest-star.new_settings_seen",e.DoNotShowRequestQueueFullCallout="guest-star.requests_full_callout",e.SetupBrowserSourcesModalState="guest-star.setup_browser_sources_modal",e.DoNotShowInviteCallout="guest-star.do_not_show_invite_callout",e.ShowLegalAgreement="guest-star.show_legal_agreement",e.ShowSharedChatLegalAgreement="shared-chat.show_legal_agreement",e.ShowSTLegalAgreement="guest-star.show_st_legal_agreement"}(t||(t={})),function(e){e.StepConfigureGuestStar="configure_guest_star",e.StepSelectCameraMic="camera_mic_setup",e.StepSelectNumberOfGuests="select_number_of_guests",e.StepAddOBSBrowserSources="select_browser_source",e.StepAddGuests="add_guest",e.StepShowGuestsOnStream="show_on_stream",e.CompletedTutorial="post-ftue",e.CompletedFirstSession="completed_first_session",e.StepSBSAddBrowserSource="sbs_add_browser_source",e.StepSBSAddGuests="sbs_add_guests",e.StepSBSShowGuestsOnStream="sbs_show_on_stream",e.CompletedSBSTutorial="post_sbs_ftue",e.CompletedExpressTutorial="post_express_ftue",e.CompletedStreamTogetherTutorial="post_stream_together_tutorial"}(a||(a={})),function(e){e.RequestToJoin="guest-star-request-to-join",e.Screenshare="guest-star-screenshare"}(r||(r={})),function(e){e.AudioControls="audio-controls",e.NameplateSettings="nameplate-settings"}(o||(o={})),function(e){e.ExpressFtue="express_ftue",e.Ftue="ftue",e.StreamTogether="stream_together",e.Simplification="simplified_onboarding"}(s||(s={}));var d="SCREENSHARE",u="0",l=5,c=6,m=100,v=0,f=2,k=1},758241:function(e,n,i){"use strict";i.d(n,{x:function(){return m}});var t=i(973421),a=i.n(t),r=i(611407),o=i(783321),s=i(982821),d=i(456450),u=i(297745),l=i.n(u),c=i(614399),m=function(e,n){void 0===n&&(n=!1);var i=(0,o.IT)(l(),{skip:!e,variables:{channelID:e||""},fetchPolicy:n?"cache-only":"cache-first"}).data,t=null==i?void 0:i.sharedChatSession;return(0,r.C)({query:l(),variables:{channelID:e},skip:!e||n,topic:(0,d.bd)(e),types:[s.PD.SharedChatSessionCreated,s.PD.SharedChatSessionStarted,s.PD.SharedChatSessionUpdated,s.PD.SharedChatSessionEnded],mutator:function(e,n){switch(e.type){case s.PD.SharedChatSessionEnded:return n.sharedChatSession?a()(n,(function(e){return e.sharedChatSession}),(function(){return null})):n;case s.PD.SharedChatSessionStarted:case s.PD.SharedChatSessionCreated:case s.PD.SharedChatSessionUpdated:return a()(n,(function(e){return e.sharedChatSession}),(function(){return(0,c.uO)(e.data.session).sharedChatSession}));default:return n}}}),{sharedChatSession:t}}},407031:function(e,n,i){"use strict";i.d(n,{T:function(){return r}});var t=i(267924),a=i(758241),r=function(e){var n,i,r=(0,a.x)(e);if(!e||(null===(n=r.sharedChatSession)||void 0===n?void 0:n.status)!==t.gl3.ACTIVE)return null;var o=null===(i=r.sharedChatSession)||void 0===i?void 0:i.participants,s=[];return null==o||o.forEach((function(e){var n;e.status===t.Fg9.ACTIVE&&(null===(n=null==e?void 0:e.channel)||void 0===n?void 0:n.id)&&s.push(e.channel.id)})),s}},614399:function(e,n,i){"use strict";i.d(n,{Ey:function(){return g},Fz:function(){return M},Ke:function(){return x},Ko:function(){return V},Ly:function(){return b},PX:function(){return S},UF:function(){return v},Uc:function(){return A},XX:function(){return c},Xi:function(){return l},Xj:function(){return w},Y:function(){return G},aO:function(){return I},bt:function(){return L},dZ:function(){return T},fK:function(){return X},gZ:function(){return f},ix:function(){return W},kB:function(){return D},kq:function(){return B},lb:function(){return j},lu:function(){return R},lw:function(){return P},ms:function(){return _},n9:function(){return h},n_:function(){return m},oj:function(){return O},qL:function(){return k},sH:function(){return Z},sy:function(){return E},tv:function(){return z},tx:function(){return N},uO:function(){return y},zO:function(){return C},zP:function(){return p},zb:function(){return u}});var t=i(478260),a=i(337930),r=i(267924),o=i(629952),s=i(647005),d=i(710210),u="open_invite",l="enable_shared_chat",c="disable_av",m="track_chat_command",v=function(){return(0,a.fX)("courteous_goat_freezing")},f="shared_chat_already_active_host",k="shared_chat_already_active_guest",h="shared_chat_not_enabled",g="host_not_live",p="host_shield_mode_on",S="unexpected_error",_=function(e,n){(0,s.m)({channelID:n,userID:n,userType:o.D.Broadcaster,body:"/sharedchat",errorType:e})},N=function(e){(0,s.B)({channelID:e,userID:e,userType:o.D.Broadcaster,chatCommand:"sharedchat",args:""})},C=function(e,n,i){t.E5.track("shared_chat_client_start_session_success",{channel_id:e,shared_chat_session_id:n,location:i}),"chat_command"===i&&N(e)},E=function(e,n,i){t.E5.track("shared_chat_client_start_session_error",{channel_id:e,location:n,error_type:i}),"chat_command"===n&&_(i,e)},b=function(e,n,i){return e?n:i};function y(e){return{sharedChatSession:{__typename:"SharedChatSession",id:e.session_id,host:{__typename:"Channel",id:e.host_channel_id},status:e.status,autoStartsAt:e.auto_starts_at,createdAt:e.created_at,updatedAt:e.updated_at,participants:F(e.participants)}}}function F(e){var n=[];return e.forEach((function(e){var i;e&&n.push({__typename:"SharedChatParticipant",id:e.participant_id,channel:{__typename:"Channel",id:e.channel_id},autoAcceptsAt:null!==(i=e.auto_accepts_at)&&void 0!==i?i:null,status:e.status})})),n}function D(e){return e?e.filter((function(e){return e.id!==d.BU})).map((function(e){return e.user.id})):[]}var w="shared-chat.acknowledged_mod_prompt",I="shared-chat.acknowledged_guest_nudge",T="shared-chat.guest-star-call-page-onboarding-sessions",P="shared-chat.used-before",A="shared-chat.seen_mod_message_delete";function O(e){switch(e){case r.HHZ.HOST_NOT_LIVE:return G();case r.HHZ.RATE_LIMITED:return H();case r.HHZ.HOST_ALREADY_ACTIVE:return q();case r.HHZ.HOST_CHANNEL_SHIELD_MODE_ACTIVE:return j();case r.HHZ.MAX_INVITES_REACHED:return Y();default:return R()}}var M=function(){return(0,t.hw)("Close","SharedChat")},R=function(){return(0,t.hw)("Something went wrong. Please try again later.","SharedChatSnackbar")};function x(e){return e?(0,t.hw)("Sent from {sourceDisplayName}'s channel",{sourceDisplayName:e},"ChatLine"):(0,t.hw)("Sent from a Shared Chat channel","ChatLine")}function L(e){switch(e){case r.qDT.TARGET_CHANNEL_NOT_LIVE:return G();case r.qDT.RATE_LIMITED:return H();case r.qDT.TARGET_CHANNEL_ALREADY_IN_SESSION:case r.qDT.TARGET_CHANNEL_ALREADY_ACTIVE:return q();case r.qDT.TARGET_CHANNEL_SHIELD_MODE_ACTIVE:return j();case r.qDT.MAX_CHANNELS_REACHED:case r.qDT.MAX_INVITES_REACHED:return Y();case r.qDT.SESSION_ENDED:case r.qDT.SESSION_ID_NOT_FOUND:return U();default:return R()}}function V(e){switch(e){case r.GPu.SESSION_ENDED:case r.GPu.SESSION_ID_NOT_FOUND:return U();default:return R()}}function B(e){switch(e){case r.ysn.SESSION_ENDED:case r.ysn.SESSION_ID_NOT_FOUND:return U();default:return R()}}var U=function(){return(0,t.hw)("This session has ended, please try again later.","SharedChatSnackbar")},G=function(){return(0,t.hw)("You must be live in order to enable Shared Chat.","SharedChatSnackbar")},H=function(){return(0,t.hw)("You've tried to join too many Shared Chat sessions too quickly. Please try again in a little while.","SharedChatSnackbar")},q=function(){return(0,t.hw)("Your Shared Chat is already active, please refresh this page.","SharedChatSnackbar")},j=function(){return(0,t.hw)("Shield mode must be off to start Shared Chat.","SharedChatSnackbar")},Y=function(){return(0,t.hw)("You have reached the maximum number of participants in this session.","SharedChatSnackbar")},z=function(){return(0,t.hw)("Undo","SharedChatSnackbar")},W=function(){return(0,t.hw)("Shared Chat, with","StreamManager")},X=function(){return(0,t.hw)("Join Shared Chat","JoinSharedChatButton")},Z=function(){return(0,t.hw)("Shared Chat is enabled. You can manage your collaboration in your Stream Together window.","SharedChatSnackbar")}},304428:function(e,n,i){"use strict";i.d(n,{Fg:function(){return o},KH:function(){return t},V7:function(){return a}});var t={CREATOR_LED:"CREATOR_LED",EXPIRING_GIFT:"EXPIRING_GIFT",CHAMBER_FPSO:"CHAMBER_FPSO",TREASURE_TRAIN:"TREASURE_TRAIN",GIFT_BUNDLE:"GIFT_BUNDLE"},a=[t.CHAMBER_FPSO,t.CREATOR_LED,t.EXPIRING_GIFT],r=[t.CREATOR_LED,t.EXPIRING_GIFT,t.TREASURE_TRAIN],o=function(e){var n,i,a,o;if(e){if(e.highQuantityOffer)return{promoOffer:e.highQuantityOffer,filter:t.GIFT_BUNDLE};var s=null===(o=null===(a=null===(i=null===(n=null==e?void 0:e.baseOffer)||void 0===n?void 0:n.promotion)||void 0===i?void 0:i.eligibilityFilters)||void 0===a?void 0:a[0])||void 0===o?void 0:o.value;return s&&r.includes(s)?{promoOffer:e.baseOffer,filter:s}:void 0}}},70871:function(e,n,i){"use strict";i.d(n,{Gp:function(){return a},b1:function(){return r},wq:function(){return o}});var t=i(478260);function a(e){var n=new Date,i=e.getTime()-n.getTime();return Math.floor(i/1e3)}var r=function(e){if(!e)return!1;var n=new Date,i=n.getTime()+1728e5;return e.getTime()<=i&&e.getTime()>=n.getTime()},o=function(){return(0,t.hw)("Sparkles","ExpiringGiftSparklesAltText")}},429658:function(e,n,i){"use strict";i.d(n,{Y:function(){return t}});var t="https://static-cdn.jtvnw.net/subs-image-assets"},596474:function(e,n,i){"use strict";i.d(n,{Aw:function(){return r},Er:function(){return o},jU:function(){return t},qT:function(){return a}});var t="core.support-panel.SUPPORT_PANEL_OPENED",a="core.support-panel.SUPPORT_PANEL_CLOSED";function r(e){return{type:t,props:e}}function o(){return{type:a}}},322209:function(e,n,i){"use strict";i.d(n,{Er:function(){return r.Er},Aw:function(){return r.Aw},uV:function(){return s}});var t=i(331635),a=i(478260),r=i(596474);a.x2.store.registerReducer("supportPanel",(function(e,n){switch(void 0===e&&(e={isOpen:!1,panelProps:null}),n.type){case r.jU:return(0,t.__assign)((0,t.__assign)({},e),{isOpen:!0,panelProps:n.props});case r.qT:return(0,t.__assign)((0,t.__assign)({},e),{isOpen:!1,panelProps:null});default:return e}}));var o=i(415044),s=function(){return(0,o.d4)((function(e){return e.supportPanel.isOpen}))}},734993:function(e,n,i){"use strict";i.d(n,{z:function(){return a},d:function(){return d}});var t,a,r=i(331635),o=i(474848);i(296540);function s(e,n){return e.includes("".concat(t.Perspective))||e.includes("".concat(t.Translate))?function(e,n){var i=Number(n);if(i)return["".concat(e,"(").concat(n,"px)"),"".concat(e,"(").concat(-1*i,"px)")];var t=Number(n.replace(/[a-zA-Z|%]/g,"")),a=n.replace(/[^a-zA-Z|%]/g,"");return t?["".concat(e,"(").concat(t).concat(a,")"),"".concat(e,"(").concat(-1*t).concat(a,")")]:null}(e,n):e.includes("".concat(t.Rotate))||e.includes("".concat(t.Skew))?function(e,n){var i,t=Number(n.replace(/[^0-9]/g,""));if(!t)return null;var a=n.replace(/[^a-zA-Z]/g,"");if(1===(null===(i=a.match(/deg|turn|rad/g))||void 0===i?void 0:i.length))return["".concat(e,"(").concat(n,")"),"".concat(e,"(").concat(-1*t).concat(a,")")];return null}(e,n):e.includes("".concat(t.Scale))?function(e,n){if("1"!==n)return["".concat(e,"(").concat(n,")"),"".concat(e,"(").concat(1/Number(n),")")];return null}(e,n):null}function d(e){var n=e.transformIf,i=e.transformOrigin,t=e.transformValues,d=e.transition,u=e.style,l=e.children,c=e.className,m=e.preserveChildDimensions,v=e.fade,f=void 0;if(d){var k=d.allProperties,h=d.durationMs,g=d.easing,p=d.delayMs;f="".concat(k||v?"all":"transform"," ").concat(h,"ms ").concat(null!=g?g:""," ").concat(null!=p?p:0,"ms")}var S=[],_=[];if(!1!==n){for(var N=0,C=Object.entries(t);N<C.length;N++){var E=C[N],b=E[0],y=E[1];if(null!=y){var F=s(b,"".concat(y));if(!F)continue;"translateX"===b&&"rtl"===document.documentElement.getAttribute("dir")&&F.reverse(),S.push(F[0]),_.push(F[1])}}!t.translateX&&!t.translateY||t.translateZ||S.push("translateZ(0)")}var D="1";v&&d&&(v===a.In&&!n||v===a.Out&&n?D="0":(v===a.In&&n||v===a.Out&&!n)&&(D="1"));var w=m?(0,o.jsx)("div",{className:"".concat(c,"-child"),style:{transform:_.join(" "),transition:f},children:l}):l;return(0,o.jsx)("div",{className:c,style:(0,r.__assign)({transform:S.join(" "),transformOrigin:i,transition:f,opacity:D},u),children:w})}!function(e){e.Perspective="perspective",e.Rotate="rotate",e.Translate="translate",e.Scale="scale",e.Skew="skew"}(t||(t={})),function(e){e.In="in",e.Out="out"}(a||(a={}))},476748:function(e,n,i){"use strict";i.d(n,{B$:function(){return u},BV:function(){return M},C_:function(){return y},Cv:function(){return N},D0:function(){return h},EW:function(){return O},Gv:function(){return p},HE:function(){return s},KZ:function(){return T},Rv:function(){return F},dC:function(){return C},e:function(){return _},iV:function(){return D},jc:function(){return E},kd:function(){return g},lS:function(){return b},oA:function(){return d},rk:function(){return w},tG:function(){return I},tZ:function(){return S},yB:function(){return k}});var t,a,r,o,s,d,u,l=i(478260),c=i(105146),m=i(576852),v=i(957573),f=i(763560),k=function(){return(0,c.k3)()};function h(e){l.E5.track("crown_interaction",{has_prime:e.hasPrime,action:t.Hover,user_agent:navigator.userAgent})}function g(e,n){l.E5.track("crown_interaction",{has_prime:n.hasPrime,number_of_offers:n.numberOfOffers,action:e?t.Open:t.Close,user_agent:navigator.userAgent})}function p(e){l.E5.track("crown_interaction",{has_prime:e.hasPrime,number_of_offers:e.numberOfOffers,action:t.OffersLoaded,user_agent:navigator.userAgent})}function S(e){l.E5.track("tp_signup_referred",e)}function _(e){A(e,a.Click,o.Dismiss)}function N(e){A(e,a.Hover,o.Dismiss)}function C(e){A(e,a.Click,o.StartYourFreeTrial)}function E(e){A(e,a.Hover,o.StartYourFreeTrial)}function b(e,n){A(n,a.Click,e?o.MoreInfo:o.CloseInfo)}function y(e){A(e,a.Click,o.MoreInfo)}function F(e,n,i){P(e,a.Click,n,i)}function D(e){A(e,a.Hover,o.MoreInfo)}function w(e){A(e,a.Hover,o.CloseInfo)}function I(e,n){P(e,a.Hover,n)}function T(e){A(e,a.Impression,o.Offer)}function P(e,n,i,t){var a;switch(i){case f.p4.CLAIM_CODE:a=o.GetCode;break;case f.p4.EXTERNAL_OFFER:if(t){a=o.ClaimGame;break}a=o.Claim;break;case f.p4.DIRECT_ENTITLEMENT:a=o.ClaimGame;break;default:a=o.LearnMore}a&&A(e,n,a)}function A(e,n,i){var t,a,r=e.experimentData,o=e.offerID,s=e.externalURL,d=e.index,u=e.hasPrime,c=e.displayWidthType,m=(null==r?void 0:r.experimentTreatment)&&(null==r?void 0:r.experimentId)?"".concat(null===(t=e.experimentData)||void 0===t?void 0:t.experimentTreatment,"-").concat(null===(a=e.experimentData)||void 0===a?void 0:a.experimentId):null,v="".concat(i,"-").concat(m,"-").concat(null==r?void 0:r.currentChannelGameName);l.E5.track("prime_offer_interaction",{offer_id:o,external_url:s,index:d,element:m?v:i,action:n,user_agent:navigator.userAgent,has_prime:u,display_width_type:c})}function O(e){l.E5.track("prime_loot_page_try_prime_click",{button_position:e.buttonPosition,user_agent:navigator.userAgent})}function M(e,n){return(0,m.tX)(e,{ingress:v.CO,twitchReferral:n})}!function(e){e.Open="click_open",e.Close="click_close",e.Hover="hover",e.OffersLoaded="offers_loaded"}(t||(t={})),function(e){e.Hover="hover",e.Click="click",e.Impression="impression"}(a||(a={})),function(e){e.Hover="hover",e.Click="click",e.Impression="impression"}(r||(r={})),function(e){e.StartYourFreeTrial="start_your_free_trial",e.MoreInfo="more_info",e.CloseInfo="close_info",e.ClaimGame="claim_game",e.Claim="claim",e.LearnMore="learn_more",e.GetCode="get_code",e.Offer="offer",e.Dismiss="dismiss"}(o||(o={})),function(e){e.TrackingAlpha="trackingalpha",e.WatchParties="prime_video_watch_party"}(s||(s={})),function(e){e.TopNav="top-nav",e.CenterBanner="center-banner"}(d||(d={})),function(e){e.Narrow="narrow"}(u||(u={}))},763560:function(e,n,i){"use strict";i.d(n,{$R:function(){return N},By:function(){return h},F2:function(){return k},F6:function(){return T},Fe:function(){return E},OO:function(){return b},RN:function(){return p},X0:function(){return y},YQ:function(){return P},cd:function(){return C},eT:function(){return I},g1:function(){return _},hT:function(){return S},jo:function(){return F},p4:function(){return f},pG:function(){return t},u1:function(){return g},xg:function(){return w}});var t,a,r=i(474848),o=i(70931),s=i(246942),d=i.n(s),u=i(882439),l=i(478260),c=i(650839),m="seenOffers",v="dismissedOffers",f={DIRECT_ENTITLEMENT:"DIRECT_ENTITLEMENT",CLAIM_CODE:"CLAIM_CODE",EXTERNAL_OFFER:"EXTERNAL_OFFER"};!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal",e.Default="Vertical"}(t||(t={})),function(e){e.Crown="Crown",e.LootPage="LootPage"}(a||(a={}));var k,h={UNKNOWN_ERROR:"UNKNOWN_ERROR",OFFER_ALREADY_CLAIMED:"OFFER_ALREADY_CLAIMED",UNABLE_TO_SPEND:"UNABLE_TO_SPEND",TOO_MANY_RECENT_SPENDS:"TOO_MANY_RECENT_SPENDS",INVALID_ACCOUNT:"INVALID_ACCOUNT",POLLING_TIMEOUT:"POLLING_TIMEOUT",UNABLE_TO_FIND_PRIME_OFFER:"UNABLE_TO_FIND_PRIME_OFFER"},g=function(e){switch(e||h.UNKNOWN_ERROR){case h.OFFER_ALREADY_CLAIMED:return(0,l.hw)("Oh no! Unable to claim. Another linked Twitch account may have already claimed this content. Click <x:link>here to learn more</x:link>.",{"x:link":function(e){return(0,r.jsx)(o.Cb,{linkTo:"https://www.amazongames.com/en-us/support/twitch-prime/",targetBlank:!0,className:"prime-error__link","data-a-target":"prime-error_link",children:e})}},"PrimeError");case h.UNABLE_TO_SPEND:case h.TOO_MANY_RECENT_SPENDS:default:return(0,l.hw)("Something has gone wrong. Please try again later.","PrimeError")}},p=function(e){return e===t.Vertical},S=function(e,n){var i=n===t.Horizontal?"horizontal":"vertical";return d()(e,"".concat(e,"--").concat(i))},_=function(){return l.IG.get(m,[])},N=function(e){l.IG.set(m,e)},C=function(){return l.IG.get(v,[])},E=function(e){l.IG.set(v,e)},b=function(e,n){return(e&&(e.priority||0===e.priority)?e.priority:99999)-(n&&(n.priority||0===n.priority)?n.priority:99999)},y=function(e,n){return void 0!==e&&void 0!==n&&(!e&&(0,c.U)(n))};!function(e){e.DateOverride="dateOverride",e.CountryCode="countryCode"}(k||(k={}));var F=function(e){var n=location.search,i=u.parse(n);return i&&i[e]||void 0},D=function(e){return e&&!e.loading&&!e.error&&e.currentUser},w=function(e){var n=D(e);return n&&n.hasPrime||!1},I=function(e){return e&&e.loading||!1},T=function(e){var n=D(e);return n&&n.id||""},P=function(e){return!!e&&"#"!==e.charAt(0)}}}]);